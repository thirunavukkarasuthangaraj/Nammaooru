"use strict";(self.webpackChunkshop_management_frontend=self.webpackChunkshop_management_frontend||[]).push([[728],{3728:(D,p,o)=>{o.r(p),o.d(p,{SettingsModule:()=>I});var l=o(177),a=o(9417),d=o(1188),r=o(5596),f=o(8834),C=o(9213),m=o(2102),M=o(9631),y=o(2798),O=o(450),u=o(6850),h=o(9183),P=o(5416),_=o(3902),v=o(1997),b=o(6471),x=o(8032),g=o.n(x),t=o(7705),S=o(7897);function k(e,c){1&e&&t.nrm(0,"mat-spinner",11)}function E(e,c){1&e&&(t.j41(0,"div",12),t.nrm(1,"mat-spinner"),t.j41(2,"p"),t.EFF(3,"Loading settings..."),t.k0s()())}function F(e,c){if(1&e&&t.nrm(0,"mat-slide-toggle",27),2&e){const n=t.XpG().$implicit;t.Y8G("formControlName",n.key)}}function G(e,c){if(1&e&&(t.j41(0,"mat-form-field",28)(1,"mat-label"),t.EFF(2),t.k0s(),t.nrm(3,"input",29),t.k0s()),2&e){const n=t.XpG().$implicit,i=t.XpG(3);t.R7$(2),t.JRh(i.getSettingDisplayName(n.key)),t.R7$(1),t.Y8G("formControlName",n.key)}}function R(e,c){if(1&e&&(t.j41(0,"mat-card",19)(1,"mat-card-content")(2,"div",20)(3,"div",21)(4,"h4"),t.EFF(5),t.k0s(),t.j41(6,"p",22),t.EFF(7),t.k0s(),t.j41(8,"mat-chip",23),t.EFF(9),t.k0s()(),t.j41(10,"div",24),t.DNE(11,F,1,1,"mat-slide-toggle",25),t.DNE(12,G,4,2,"mat-form-field",26),t.k0s()()()()),2&e){const n=c.$implicit,i=t.XpG(3);t.R7$(5),t.JRh(i.getSettingDisplayName(n.key)),t.R7$(2),t.JRh(n.description),t.R7$(1),t.AVh("global-scope","GLOBAL"===n.scope)("user-scope","USER"===n.scope),t.R7$(1),t.SpI(" ",n.scope," "),t.R7$(2),t.Y8G("ngIf",i.isToggleSetting(n.key)),t.R7$(1),t.Y8G("ngIf",!i.isToggleSetting(n.key))}}function T(e,c){if(1&e&&(t.j41(0,"mat-tab",16)(1,"div",17),t.DNE(2,R,13,9,"mat-card",18),t.k0s()()),2&e){const n=c.$implicit,i=t.XpG(2);t.Y8G("label",n),t.R7$(2),t.Y8G("ngForOf",i.getSettingsByCategory(n))}}function j(e,c){if(1&e){const n=t.RV6();t.j41(0,"div",13)(1,"form",14),t.bIt("ngSubmit",function(){t.eBV(n);const s=t.XpG();return t.Njj(s.onSubmit())}),t.j41(2,"mat-tab-group"),t.DNE(3,T,3,2,"mat-tab",15),t.k0s()()()}if(2&e){const n=t.XpG();t.R7$(1),t.Y8G("formGroup",n.settingsForm),t.R7$(2),t.Y8G("ngForOf",n.categories)}}const V=[{path:"",component:(()=>{class e{constructor(n,i,s){this.fb=n,this.snackBar=i,this.settingsService=s,this.loading=!1,this.settings=[],this.categories=["General","Email","Notifications","Security","Shop"],this.settingsForm=this.fb.group({})}ngOnInit(){this.loadSettings()}createForm(){const n={};return this.settings.forEach(i=>{n[i.key]=[i.value]}),this.fb.group(n)}loadSettings(){this.loading=!0,this.settingsService.getAllSettings().subscribe({next:n=>{this.settings=n,this.settingsForm=this.createForm(),this.loading=!1},error:n=>{console.error("Error loading settings:",n),this.loadMockData(),this.loading=!1}})}loadMockData(){this.settings=[{id:1,key:"app.name",value:"Nammaooru Thiru Software",description:"Application name",category:"General",type:"text",defaultValue:"Nammaooru Thiru Software",isEditable:!0},{id:2,key:"app.version",value:"1.0.9",description:"Current application version",category:"General",type:"text",defaultValue:"1.0.0",isEditable:!1},{id:3,key:"general.timezone",value:"Asia/Kolkata",description:"Default timezone",category:"General",type:"select",defaultValue:"Asia/Kolkata",isEditable:!0},{id:4,key:"general.currency",value:"INR",description:"Default currency",category:"General",type:"select",defaultValue:"INR",isEditable:!0},{id:5,key:"general.maintenance.enabled",value:"false",description:"Enable maintenance mode",category:"General",type:"boolean",defaultValue:"false",isEditable:!0},{id:6,key:"email.enabled",value:"true",description:"Enable email notifications",category:"Email",type:"boolean",defaultValue:"true",isEditable:!0},{id:7,key:"email.smtp.host",value:"smtp.gmail.com",description:"SMTP server host",category:"Email",type:"text",defaultValue:"localhost",isEditable:!0},{id:8,key:"email.smtp.port",value:"587",description:"SMTP server port",category:"Email",type:"number",defaultValue:"25",isEditable:!0},{id:9,key:"email.from.address",value:"noreply@nammaooru.com",description:"Default sender email address",category:"Email",type:"email",defaultValue:"noreply@example.com",isEditable:!0},{id:10,key:"notifications.order.enabled",value:"true",description:"Enable order notifications",category:"Notifications",type:"boolean",defaultValue:"true",isEditable:!0},{id:11,key:"notifications.shop.enabled",value:"true",description:"Enable shop notifications",category:"Notifications",type:"boolean",defaultValue:"true",isEditable:!0},{id:12,key:"notifications.push.enabled",value:"true",description:"Enable push notifications",category:"Notifications",type:"boolean",defaultValue:"false",isEditable:!0},{id:13,key:"notifications.sms.enabled",value:"false",description:"Enable SMS notifications",category:"Notifications",type:"boolean",defaultValue:"false",isEditable:!0},{id:14,key:"security.password.minLength",value:"8",description:"Minimum password length",category:"Security",type:"number",defaultValue:"6",isEditable:!0},{id:15,key:"security.session.timeout",value:"30",description:"Session timeout in minutes",category:"Security",type:"number",defaultValue:"60",isEditable:!0},{id:16,key:"security.twoFactor.enabled",value:"false",description:"Enable two-factor authentication",category:"Security",type:"boolean",defaultValue:"false",isEditable:!0},{id:17,key:"security.maxLoginAttempts",value:"5",description:"Maximum login attempts before lockout",category:"Security",type:"number",defaultValue:"3",isEditable:!0},{id:18,key:"shop.approval.autoApprove",value:"false",description:"Auto-approve new shop registrations",category:"Shop",type:"boolean",defaultValue:"false",isEditable:!0},{id:19,key:"shop.commission.rate",value:"10",description:"Default commission rate (%)",category:"Shop",type:"number",defaultValue:"5",isEditable:!0},{id:20,key:"shop.delivery.maxRadius",value:"15",description:"Maximum delivery radius (km)",category:"Shop",type:"number",defaultValue:"10",isEditable:!0},{id:21,key:"shop.minOrderValue",value:"100",description:"Minimum order value (INR)",category:"Shop",type:"number",defaultValue:"50",isEditable:!0}],this.settingsForm=this.createForm(),this.snackBar.open("Loaded mock settings - API not available","Close",{duration:3e3})}getSettingsByCategory(n){return this.settings.filter(i=>i.category===n)}onSubmit(){this.settingsForm.valid&&(this.loading=!0,this.settingsService.updateMultipleSettings(this.settingsForm.value).subscribe({next:i=>{this.settings=i,this.loading=!1,g().fire({title:"Success!",text:"Settings updated successfully.",icon:"success",confirmButtonText:"OK"})},error:i=>{console.error("Error updating settings:",i),this.loading=!1,g().fire({title:"Error!",text:"Failed to update settings. Please try again.",icon:"error",confirmButtonText:"OK"})}}))}resetToDefaults(){g().fire({title:"Reset Settings",text:"Are you sure you want to reset all settings to default values? This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, reset",cancelButtonText:"Cancel"}).then(n=>{n.isConfirmed&&(this.loading=!0,this.settingsService.resetToDefaults().subscribe({next:i=>{this.settings=i,this.settingsForm=this.createForm(),this.loading=!1,g().fire({title:"Success!",text:"Settings have been reset to defaults.",icon:"success",confirmButtonText:"OK"})},error:i=>{console.error("Error resetting settings:",i),this.loading=!1,g().fire({title:"Error!",text:"Failed to reset settings. Please try again.",icon:"error",confirmButtonText:"OK"})}}))})}isToggleSetting(n){return n.includes("enabled")||n.includes("active")}getSettingDisplayName(n){return n.split(".").pop()?.replace(/([A-Z])/g," $1").trim()||n}static{this.\u0275fac=function(i){return new(i||e)(t.rXU(a.ok),t.rXU(P.UG),t.rXU(S.h))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-settings"]],decls:36,vars:6,consts:[[1,"settings-container"],[1,"settings-header"],[1,"header-actions"],["mat-button","",3,"disabled","click"],["mat-raised-button","","color","primary",3,"disabled","click"],["diameter","20",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","settings-content",4,"ngIf"],[1,"quick-actions-card"],[1,"quick-actions-grid"],["mat-stroked-button","",1,"action-btn"],["diameter","20"],[1,"loading-container"],[1,"settings-content"],[3,"formGroup","ngSubmit"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[1,"tab-content"],["class","setting-card",4,"ngFor","ngForOf"],[1,"setting-card"],[1,"setting-item"],[1,"setting-info"],[1,"setting-description"],["selected","",1,"scope-chip"],[1,"setting-control"],[3,"formControlName",4,"ngIf"],["appearance","outline","class","setting-field",4,"ngIf"],[3,"formControlName"],["appearance","outline",1,"setting-field"],["matInput","",3,"formControlName"]],template:function(i,s){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"h2"),t.EFF(3,"System Settings"),t.k0s(),t.j41(4,"div",2)(5,"button",3),t.bIt("click",function(){return s.resetToDefaults()}),t.j41(6,"mat-icon"),t.EFF(7,"restore"),t.k0s(),t.EFF(8," Reset to Defaults "),t.k0s(),t.j41(9,"button",4),t.bIt("click",function(){return s.onSubmit()}),t.DNE(10,k,1,0,"mat-spinner",5),t.EFF(11),t.k0s()()(),t.DNE(12,E,4,0,"div",6),t.DNE(13,j,4,2,"div",7),t.j41(14,"mat-card",8)(15,"mat-card-header")(16,"mat-card-title"),t.EFF(17,"Quick Actions"),t.k0s()(),t.j41(18,"mat-card-content")(19,"div",9)(20,"button",10)(21,"mat-icon"),t.EFF(22,"backup"),t.k0s(),t.EFF(23," Export Settings "),t.k0s(),t.j41(24,"button",10)(25,"mat-icon"),t.EFF(26,"restore"),t.k0s(),t.EFF(27," Import Settings "),t.k0s(),t.j41(28,"button",10)(29,"mat-icon"),t.EFF(30,"refresh"),t.k0s(),t.EFF(31," Clear Cache "),t.k0s(),t.j41(32,"button",10)(33,"mat-icon"),t.EFF(34,"bug_report"),t.k0s(),t.EFF(35," System Health "),t.k0s()()()()()),2&i&&(t.R7$(5),t.Y8G("disabled",s.loading),t.R7$(4),t.Y8G("disabled",s.loading),t.R7$(1),t.Y8G("ngIf",s.loading),t.R7$(1),t.SpI(" ",s.loading?"Saving...":"Save Settings"," "),t.R7$(1),t.Y8G("ngIf",s.loading&&!s.settingsForm.dirty),t.R7$(1),t.Y8G("ngIf",!s.loading||s.settingsForm.dirty))},dependencies:[l.Sq,l.bT,a.qT,a.me,a.BC,a.cb,a.j4,a.JD,r.RN,r.m2,r.MM,r.dh,f.$z,C.An,m.rl,m.nJ,M.fg,O.sG,u.mq,u.T8,h.LG,b.Jl],styles:[".settings-container[_ngcontent-%COMP%]{padding:24px;max-width:1200px;margin:0 auto}.settings-container[_ngcontent-%COMP%]   .settings-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.settings-container[_ngcontent-%COMP%]   .settings-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333;font-weight:500}.settings-container[_ngcontent-%COMP%]   .settings-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.settings-container[_ngcontent-%COMP%]   .settings-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:120px}.settings-container[_ngcontent-%COMP%]   .settings-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-right:8px}.settings-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px;gap:16px}.settings-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.settings-container[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:24px 0}.settings-container[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .setting-card[_ngcontent-%COMP%]{margin-bottom:16px}.settings-container[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .setting-card[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:24px}.settings-container[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .setting-card[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-info[_ngcontent-%COMP%]{flex:1}.settings-container[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .setting-card[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;color:#333;font-weight:500;font-size:16px;text-transform:capitalize}.settings-container[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .setting-card[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-info[_ngcontent-%COMP%]   .setting-description[_ngcontent-%COMP%]{margin:0 0 12px;color:#666;font-size:14px;line-height:1.4}.settings-container[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .setting-card[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-info[_ngcontent-%COMP%]   .scope-chip[_ngcontent-%COMP%]{font-size:12px;height:24px}.settings-container[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .setting-card[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-control[_ngcontent-%COMP%]{min-width:200px;display:flex;justify-content:flex-end}.settings-container[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .setting-card[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-control[_ngcontent-%COMP%]   .setting-field[_ngcontent-%COMP%]{width:100%}.settings-container[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .setting-card[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-control[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{margin:0}.settings-container[_ngcontent-%COMP%]   .quick-actions-card[_ngcontent-%COMP%]{margin-top:32px}.settings-container[_ngcontent-%COMP%]   .quick-actions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#333;font-weight:500}.settings-container[_ngcontent-%COMP%]   .quick-actions-card[_ngcontent-%COMP%]   .quick-actions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.settings-container[_ngcontent-%COMP%]   .quick-actions-card[_ngcontent-%COMP%]   .quick-actions-grid[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:16px;height:auto;display:flex;flex-direction:column;align-items:center;gap:8px}.settings-container[_ngcontent-%COMP%]   .quick-actions-card[_ngcontent-%COMP%]   .quick-actions-grid[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}mat-tab-group[_ngcontent-%COMP%]     .mat-tab-header{border-bottom:1px solid #e0e0e0}mat-tab-group[_ngcontent-%COMP%]     .mat-tab-label{font-weight:500;text-transform:uppercase;letter-spacing:.5px}mat-tab-group[_ngcontent-%COMP%]     .mat-tab-body-content{overflow:visible}mat-form-field.setting-field[_ngcontent-%COMP%]   .mat-form-field-outline[_ngcontent-%COMP%]{background:#f8f9fa}@media (max-width: 768px){.settings-container[_ngcontent-%COMP%]{padding:16px}.settings-container[_ngcontent-%COMP%]   .settings-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.settings-container[_ngcontent-%COMP%]   .settings-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}.settings-container[_ngcontent-%COMP%]   .settings-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;min-width:auto}.settings-container[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .setting-card[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.settings-container[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .setting-card[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-control[_ngcontent-%COMP%]{width:100%;min-width:auto}.settings-container[_ngcontent-%COMP%]   .quick-actions-card[_ngcontent-%COMP%]   .quick-actions-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}mat-chip.global-scope[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff}mat-chip.user-scope[_ngcontent-%COMP%]{background-color:#ff4081;color:#fff}"]})}}return e})()}];let N=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[d.iI.forChild(V),d.iI]})}}return e})(),I=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[l.MD,a.X1,d.iI,N,r.Hu,f.Hl,C.m_,m.RG,M.fS,y.Ve,O.mV,u.RI,h.D6,P._T,_.Fg,v.w,b.YN]})}}return e})()}}]);