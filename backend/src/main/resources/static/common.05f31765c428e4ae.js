"use strict";(self.webpackChunkshop_management_frontend=self.webpackChunkshop_management_frontend||[]).push([[76],{155:($,_,c)=>{c.d(_,{Q:()=>a,S:()=>u});var u=function(h){return h.ACTIVE="ACTIVE",h.INACTIVE="INACTIVE",h.DISCONTINUED="DISCONTINUED",h}(u||{}),a=function(h){return h.ACTIVE="ACTIVE",h.INACTIVE="INACTIVE",h.OUT_OF_STOCK="OUT_OF_STOCK",h.DISCONTINUED="DISCONTINUED",h}(a||{})},4848:($,_,c)=>{c.d(_,{c:()=>n});var u=c(6354),a=c(9437),h=c(8810),g=c(2525),p=c(3904),E=c(7705),P=c(1626);let n=(()=>{class o{constructor(t){this.http=t,this.apiUrl=`${g.c.apiUrl}/analytics`}formatDate(t){const e=s=>s.toString().padStart(2,"0");return`${t.getFullYear()}-${e(t.getMonth()+1)}-${e(t.getDate())}T${e(t.getHours())}:${e(t.getMinutes())}:${e(t.getSeconds())}`}getDashboardMetrics(t,e){const s={periodType:"CUSTOM",startDate:this.formatDate(t),endDate:this.formatDate(e)};return this.http.post(`${this.apiUrl}/dashboard`,s).pipe((0,u.T)(r=>{if(p.c.isError(r)){const i=p.c.getErrorMessage(r);throw new Error(i)}return r.data}),(0,a.W)(r=>(console.error("Dashboard metrics error:",r),(0,h.$)(()=>r))))}getShopDashboardMetrics(t,e,s){const r={periodType:"CUSTOM",startDate:this.formatDate(e),endDate:this.formatDate(s),shopId:t};return this.http.post(`${this.apiUrl}/dashboard/shop/${t}`,r).pipe((0,u.T)(i=>{if(p.c.isError(i)){const l=p.c.getErrorMessage(i);throw new Error(l)}return i.data}),(0,a.W)(i=>(console.error("Shop dashboard metrics error:",i),(0,h.$)(()=>i))))}getCustomerAnalytics(t,e){const s={periodType:"CUSTOM",startDate:this.formatDate(t),endDate:this.formatDate(e)};return this.http.post(`${this.apiUrl}/customers`,s).pipe((0,u.T)(r=>{if(p.c.isError(r)){const i=p.c.getErrorMessage(r);throw new Error(i)}return r.data}),(0,a.W)(r=>(console.error("Customer analytics error:",r),(0,h.$)(()=>r))))}generateAnalytics(t,e,s){return this.http.post(`${this.apiUrl}/generate`,{},{params:{startDate:this.formatDate(t),endDate:this.formatDate(e),periodType:s}})}getAvailableCategories(){return this.http.get(`${this.apiUrl}/categories`).pipe((0,u.T)(t=>{if(p.c.isError(t)){const e=p.c.getErrorMessage(t);throw new Error(e)}return t.data}),(0,a.W)(t=>(console.error("Categories error:",t),(0,h.$)(()=>t))))}getAvailableMetricTypes(){return this.http.get(`${this.apiUrl}/metric-types`).pipe((0,u.T)(t=>{if(p.c.isError(t)){const e=p.c.getErrorMessage(t);throw new Error(e)}return t.data}),(0,a.W)(t=>(console.error("Metric types error:",t),(0,h.$)(()=>t))))}getAvailablePeriodTypes(){return this.http.get(`${this.apiUrl}/period-types`).pipe((0,u.T)(t=>{if(p.c.isError(t)){const e=p.c.getErrorMessage(t);throw new Error(e)}return t.data}),(0,a.W)(t=>(console.error("Period types error:",t),(0,h.$)(()=>t))))}getAnalyticsEnums(){return this.http.get(`${this.apiUrl}/enums`).pipe((0,u.T)(t=>{if(p.c.isError(t)){const e=p.c.getErrorMessage(t);throw new Error(e)}return t.data}),(0,a.W)(t=>(console.error("Analytics enums error:",t),(0,h.$)(()=>t))))}static{this.\u0275fac=function(e){return new(e||o)(E.KVO(P.Qq))}}static{this.\u0275prov=E.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})()},5567:($,_,c)=>{c.d(_,{J:()=>n});var u=c(1626),a=c(6354),h=c(9437),g=c(8810),p=c(3904),E=c(7338),P=c(7705);let n=(()=>{class o{constructor(t){this.http=t,this.API_URL=E.Sn.BASE_URL+"/api/notifications"}getAllNotifications(t=0,e=20){const s=(new u.Nl).set("page",t.toString()).set("size",e.toString());return this.http.get(this.API_URL,{params:s}).pipe((0,a.T)(r=>{if(p.c.isError(r))throw new Error(p.c.getErrorMessage(r));return{content:r.data.content.map(i=>({...i,createdAt:new Date(i.createdAt)})),totalElements:r.data.totalElements}}),(0,h.W)(r=>(console.error("Error fetching notifications:",r),(0,g.$)(()=>r))))}getUnreadNotifications(){return this.http.get(`${this.API_URL}/unread`).pipe((0,a.T)(t=>{if(p.c.isError(t))throw new Error(p.c.getErrorMessage(t));return(t.data||[]).map(e=>({...e,createdAt:new Date(e.createdAt)}))}),(0,h.W)(t=>(console.error("Error fetching unread notifications:",t),(0,g.$)(()=>t))))}markAsRead(t){return this.http.put(`${this.API_URL}/${t}/read`,{}).pipe((0,a.T)(e=>{if(p.c.isError(e))throw new Error(p.c.getErrorMessage(e))}),(0,h.W)(e=>(console.error("Error marking notification as read:",e),(0,g.$)(()=>e))))}markAllAsRead(){return this.http.put(`${this.API_URL}/read-all`,{}).pipe((0,a.T)(t=>{if(p.c.isError(t))throw new Error(p.c.getErrorMessage(t))}),(0,h.W)(t=>(console.error("Error marking all notifications as read:",t),(0,g.$)(()=>t))))}deleteNotification(t){return this.http.delete(`${this.API_URL}/${t}`).pipe((0,a.T)(e=>{if(p.c.isError(e))throw new Error(p.c.getErrorMessage(e))}),(0,h.W)(e=>(console.error("Error deleting notification:",e),(0,g.$)(()=>e))))}getNotificationsByType(t){const e=(new u.Nl).set("type",t);return this.http.get(`${this.API_URL}/type`,{params:e}).pipe((0,a.T)(s=>{if(p.c.isError(s))throw new Error(p.c.getErrorMessage(s));return(s.data||[]).map(r=>({...r,createdAt:new Date(r.createdAt)}))}),(0,h.W)(s=>(console.error("Error fetching notifications by type:",s),(0,g.$)(()=>s))))}getUnreadCount(){return this.http.get(`${this.API_URL}/unread/count`).pipe((0,a.T)(t=>p.c.isError(t)?0:t.data||0),(0,h.W)(t=>(console.error("Error fetching unread count:",t),(0,g.$)(()=>0))))}clearAllNotifications(){return this.http.delete(`${this.API_URL}/clear-all`).pipe((0,a.T)(t=>{if(p.c.isError(t))throw new Error(p.c.getErrorMessage(t))}),(0,h.W)(t=>(console.error("Error clearing all notifications:",t),(0,g.$)(()=>t))))}sendTestNotification(t){return this.http.post(`${this.API_URL}/test`,t).pipe((0,a.T)(e=>{if(p.c.isError(e))throw new Error(p.c.getErrorMessage(e))}),(0,h.W)(e=>(console.error("Error sending test notification:",e),(0,g.$)(()=>e))))}exportNotifications(t){const e=(new u.Nl).set("format",t);return this.http.get(`${this.API_URL}/export`,{params:e,responseType:"blob"}).pipe((0,h.W)(s=>(console.error("Error exporting notifications:",s),(0,g.$)(()=>s))))}getShopNotifications(t=0,e=20){const s=(new u.Nl).set("page",t.toString()).set("size",e.toString());return this.http.get(`${this.API_URL}/shop`,{params:s}).pipe((0,a.T)(r=>{if(p.c.isError(r))throw new Error(p.c.getErrorMessage(r));return{content:(r.data?.content||[]).map(i=>({...i,createdAt:new Date(i.createdAt)})),totalElements:r.data?.totalElements||0}}),(0,h.W)(r=>(console.error("Error fetching shop notifications:",r),(0,g.$)(()=>r))))}static{this.\u0275fac=function(e){return new(e||o)(P.KVO(u.Qq))}}static{this.\u0275prov=P.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})()},2218:($,_,c)=>{c.d(_,{F:()=>p});var u=c(1626),a=c(6354),h=c(2525),g=c(7705);let p=(()=>{class E{constructor(n){this.http=n,this.API_URL=`${h.c.apiUrl}/products/categories`}getCategories(n,o,d,t=0,e=10,s="name",r="ASC"){let i=(new u.Nl).set("page",t.toString()).set("size",e.toString()).set("sortBy",s).set("sortDirection",r);return void 0!==n&&(i=i.set("parentId",n.toString())),void 0!==o&&(i=i.set("isActive",o.toString())),d&&(i=i.set("search",d)),this.http.get(this.API_URL,{params:i}).pipe((0,a.T)(l=>l.data))}getCategoryTree(n,o=!0){let d=(new u.Nl).set("activeOnly",o.toString());return void 0!==n&&(d=d.set("rootId",n.toString())),this.http.get(`${this.API_URL}/tree`,{params:d}).pipe((0,a.T)(t=>t.data))}getRootCategories(n=!0){const o=(new u.Nl).set("activeOnly",n.toString());return this.http.get(`${this.API_URL}/root`,{params:o}).pipe((0,a.T)(d=>d.data))}getCategory(n){return this.http.get(`${this.API_URL}/${n}`).pipe((0,a.T)(o=>o.data))}getCategoryBySlug(n){return this.http.get(`${this.API_URL}/slug/${n}`).pipe((0,a.T)(o=>o.data))}createCategory(n){return this.http.post(this.API_URL,n).pipe((0,a.T)(o=>o.data))}updateCategory(n,o){return this.http.put(`${this.API_URL}/${n}`,o).pipe((0,a.T)(d=>d.data))}deleteCategory(n){return this.http.delete(`${this.API_URL}/${n}`).pipe((0,a.T)(()=>{}))}getSubcategories(n,o=!0){const d=(new u.Nl).set("activeOnly",o.toString());return this.http.get(`${this.API_URL}/${n}/subcategories`,{params:d}).pipe((0,a.T)(t=>t.data))}getCategoryPath(n){return this.http.get(`${this.API_URL}/${n}/path`).pipe((0,a.T)(o=>o.data))}updateCategoryStatus(n,o){const d=(new u.Nl).set("isActive",o.toString());return this.http.patch(`${this.API_URL}/${n}/status`,null,{params:d}).pipe((0,a.T)(t=>t.data))}reorderCategories(n){return this.http.patch(`${this.API_URL}/reorder`,n).pipe((0,a.T)(o=>o.data))}createCategoryWithImage(n){return this.http.post(`${this.API_URL}/with-image`,n).pipe((0,a.T)(o=>o.data))}uploadCategoryImage(n,o){const d=new FormData;return d.append("image",o),this.http.post(`${this.API_URL}/${n}/image`,d).pipe((0,a.T)(t=>t.data))}static{this.\u0275fac=function(o){return new(o||E)(g.KVO(u.Qq))}}static{this.\u0275prov=g.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})()},1108:($,_,c)=>{c.d(_,{b:()=>d});var u=c(1626),a=c(6354),h=c(2525),g=c(8810),p=c(9437),E=c(3904),P=c(7338),n=c(7705);let o=(()=>{class t{static extractData(s){return s.pipe((0,a.T)(r=>{if(E.c.isSuccess(r))return r.data;{const i=E.c.getErrorMessage(r);throw new Error(i)}}),(0,p.W)(r=>{if(r instanceof Error)return(0,g.$)(()=>r);if(r.error&&r.error.statusCode){const l=P.pd[r.error.statusCode]||r.error.message||"An error occurred";return(0,g.$)(()=>new Error(l))}return(0,g.$)(0===r.status?()=>new Error("Network error. Please check your connection."):()=>new Error(r.message||"An unexpected error occurred"))}))}static extractDataWithErrorMessage(s,r){return s.pipe((0,a.T)(i=>{if(E.c.isSuccess(i))return i.data;throw new Error(r)}),(0,p.W)(i=>i instanceof Error?(0,g.$)(()=>i):(0,g.$)(()=>new Error(r))))}static validateResponse(s){return s.pipe((0,a.T)(r=>{if(E.c.isError(r)){const i=E.c.getErrorMessage(r);throw new Error(i)}return r}),(0,p.W)(r=>{if(r instanceof Error)return(0,g.$)(()=>r);if(r.error&&r.error.statusCode){const l=P.pd[r.error.statusCode]||r.error.message||"An error occurred";return(0,g.$)(()=>new Error(l))}return(0,g.$)(()=>new Error(r.message||"An unexpected error occurred"))}))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=n.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),d=(()=>{class t{constructor(s){this.http=s,this.API_URL=`${h.c.apiUrl}/products/master`}getMasterProducts(s={}){let r=new u.Nl;return Object.keys(s).forEach(i=>{const l=s[i];null!=l&&""!==l&&(r=r.set(i,l.toString()))}),o.extractData(this.http.get(this.API_URL,{params:r}))}getMasterProduct(s){return o.extractData(this.http.get(`${this.API_URL}/${s}`))}getMasterProductBySku(s){return this.http.get(`${this.API_URL}/sku/${s}`).pipe((0,a.T)(r=>r.data))}createMasterProduct(s){return this.http.post(this.API_URL,s).pipe((0,a.T)(r=>r.data))}updateMasterProduct(s,r){return this.http.put(`${this.API_URL}/${s}`,r).pipe((0,a.T)(i=>i.data))}deleteMasterProduct(s){return this.http.delete(`${this.API_URL}/${s}`).pipe((0,a.T)(()=>{}))}searchMasterProducts(s,r=0,i=10){const l=(new u.Nl).set("query",s).set("page",r.toString()).set("size",i.toString());return this.http.get(`${this.API_URL}/search`,{params:l}).pipe((0,a.T)(A=>A.data))}getFeaturedProducts(){return this.http.get(`${this.API_URL}/featured`).pipe((0,a.T)(s=>s.data))}getProductsByCategory(s,r=0,i=10){const l=(new u.Nl).set("page",r.toString()).set("size",i.toString());return this.http.get(`${this.API_URL}/category/${s}`,{params:l}).pipe((0,a.T)(A=>A.data))}getAllBrands(){return this.http.get(`${this.API_URL}/brands`).pipe((0,a.T)(s=>s.data))}uploadMasterProductImages(s,r){return this.http.post(`${h.c.apiUrl}/products/images/master/${s}`,r).pipe((0,a.T)(i=>i.data))}deleteMasterProductImage(s){return this.http.delete(`${h.c.apiUrl}/products/images/${s}`).pipe((0,a.T)(()=>{}))}getMasterProductImages(s){return this.http.get(`${h.c.apiUrl}/products/images/master/${s}`).pipe((0,a.T)(r=>r.data))}getShopProductImages(s,r){return this.http.get(`${h.c.apiUrl}/products/images/shop/${s}/${r}`).pipe((0,a.T)(i=>i.data))}uploadShopProductImages(s,r,i){return this.http.post(`${h.c.apiUrl}/products/images/shop/${s}/${r}`,i).pipe((0,a.T)(l=>l.data))}static{this.\u0275fac=function(r){return new(r||t)(n.KVO(u.Qq))}}static{this.\u0275prov=n.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})()},7897:($,_,c)=>{c.d(_,{h:()=>n});var u=c(6354),a=c(9437),h=c(8810),g=c(3904),p=c(7338),E=c(7705),P=c(1626);let n=(()=>{class o{constructor(t){this.http=t,this.API_URL=p.Sn.BASE_URL+"/api/settings"}getAllSettings(){return this.http.get(this.API_URL).pipe((0,u.T)(t=>{if(g.c.isError(t))throw new Error(g.c.getErrorMessage(t));return t.data||[]}),(0,a.W)(t=>(console.error("Error fetching settings:",t),(0,h.$)(()=>t))))}updateSetting(t,e){return this.http.put(`${this.API_URL}/${t}`,{value:e}).pipe((0,u.T)(s=>{if(g.c.isError(s))throw new Error(g.c.getErrorMessage(s));return s.data}),(0,a.W)(s=>(console.error("Error updating setting:",s),(0,h.$)(()=>s))))}updateMultipleSettings(t){return this.http.put(`${this.API_URL}/bulk`,t).pipe((0,u.T)(e=>{if(g.c.isError(e))throw new Error(g.c.getErrorMessage(e));return e.data||[]}),(0,a.W)(e=>(console.error("Error updating multiple settings:",e),(0,h.$)(()=>e))))}resetToDefaults(){return this.http.post(`${this.API_URL}/reset`,{}).pipe((0,u.T)(t=>{if(g.c.isError(t))throw new Error(g.c.getErrorMessage(t));return t.data||[]}),(0,a.W)(t=>(console.error("Error resetting settings:",t),(0,h.$)(()=>t))))}getSettingsByCategory(t){return this.http.get(`${this.API_URL}/category/${t}`).pipe((0,u.T)(e=>{if(g.c.isError(e))throw new Error(g.c.getErrorMessage(e));return e.data||[]}),(0,a.W)(e=>(console.error("Error fetching settings by category:",e),(0,h.$)(()=>e))))}static{this.\u0275fac=function(e){return new(e||o)(E.KVO(P.Qq))}}static{this.\u0275prov=E.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})()},8262:($,_,c)=>{c.d(_,{Z:()=>p});var u=c(1626),a=c(6354),h=c(2525),g=c(7705);let p=(()=>{class E{constructor(n){this.http=n,this.API_URL=`${h.c.apiUrl}/shops`}getShopProducts(n,o=0,d=20,t={}){let e=(new u.Nl).set("page",o.toString()).set("size",d.toString());return Object.keys(t).forEach(r=>{const i=t[r];null!=i&&""!==i&&(e=e.set(r,i.toString()))}),e=e.set("_t",Date.now().toString()),this.http.get(`${this.API_URL}/${n}/products`,{params:e,headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}}).pipe((0,a.T)(r=>r.data))}getShopProduct(n,o){const t={params:(new u.Nl).set("_t",Date.now().toString()),headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}};return this.http.get(`${this.API_URL}/${n}/products/${o}`,t).pipe((0,a.T)(e=>e.data))}addProductToShop(n,o){return this.http.post(`${this.API_URL}/${n}/products`,o).pipe((0,a.T)(d=>d.data))}updateShopProduct(n,o,d){return this.http.put(`${this.API_URL}/${n}/products/${o}`,d).pipe((0,a.T)(t=>t.data))}removeProductFromShop(n,o){return this.http.delete(`${this.API_URL}/${n}/products/${o}`).pipe((0,a.T)(()=>{}))}searchShopProducts(n,o,d=0,t=10){const e=(new u.Nl).set("query",o).set("page",d.toString()).set("size",t.toString());return this.http.get(`${this.API_URL}/${n}/products/search`,{params:e}).pipe((0,a.T)(s=>s.data))}getFeaturedShopProducts(n){return this.http.get(`${this.API_URL}/${n}/products/featured`).pipe((0,a.T)(o=>o.data))}getLowStockProducts(n){return this.http.get(`${this.API_URL}/${n}/products/low-stock`).pipe((0,a.T)(o=>o.data))}updateInventory(n,o,d){const t=(new u.Nl).set("quantity",d.quantity.toString()).set("operation",d.operation);return this.http.patch(`${this.API_URL}/${n}/products/${o}/inventory`,null,{params:t}).pipe((0,a.T)(e=>e.data))}getShopProductStats(n){return this.http.get(`${this.API_URL}/${n}/products/stats`).pipe((0,a.T)(o=>o.data))}bulkUploadProducts(n){return this.http.post(`${this.API_URL}/bulk-upload`,n,{reportProgress:!0,observe:"events"})}static{this.\u0275fac=function(o){return new(o||E)(g.KVO(u.Qq))}}static{this.\u0275prov=g.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})()}}]);