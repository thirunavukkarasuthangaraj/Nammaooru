(self.webpackChunkshop_management_frontend=self.webpackChunkshop_management_frontend||[]).push([[448],{4448:(gs,Zt,V)=>{"use strict";V.r(Zt),V.d(Zt,{DashboardModule:()=>ee});var dt=V(177),Ne=V(9417),Me=V(9403),r=V(7705);let si=(()=>{class E{constructor(y,F){this.el=y,this._zone=F,this.updateChange=new r.bkB(!0),this.chartInstance=new r.bkB}ngOnChanges(y){const F=y.update&&y.update.currentValue;(y.options||F)&&(this.wrappedUpdateOrCreateChart(),F&&this.updateChange.emit(!1))}wrappedUpdateOrCreateChart(){this.runOutsideAngular?this._zone.runOutsideAngular(()=>{this.updateOrCreateChart()}):this.updateOrCreateChart()}updateOrCreateChart(){this.chart&&this.chart.update?this.chart.update(this.options,!0,this.oneToOne||!1):(this.chart=this.Highcharts[this.constructorType||"chart"](this.el.nativeElement,this.options,this.callbackFunction||null),this.chartInstance.emit(this.chart))}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=null,this.chartInstance.emit(this.chart))}static{this.\u0275fac=function(F){return new(F||E)(r.rXU(r.aKT),r.rXU(r.SKi))}}static{this.\u0275cmp=r.VBU({type:E,selectors:[["highcharts-chart"]],inputs:{Highcharts:"Highcharts",constructorType:"constructorType",callbackFunction:"callbackFunction",oneToOne:"oneToOne",runOutsideAngular:"runOutsideAngular",options:"options",update:"update"},outputs:{updateChange:"updateChange",chartInstance:"chartInstance"},features:[r.OA$],decls:0,vars:0,template:function(F,w){},encapsulation:2})}}return E})(),ai=(()=>{class E{static{this.\u0275fac=function(F){return new(F||E)}}static{this.\u0275mod=r.$C({type:E})}static{this.\u0275inj=r.G2t({})}}return E})();var bt=V(5596),Ft=V(8834),Kt=V(9213),ye=V(9183),ri=V(2798),li=V(5084),hi=V(9631),Jt=V(6600);let se=(()=>{class E{static{this.\u0275fac=function(F){return new(F||E)}}static{this.\u0275mod=r.$C({type:E})}static{this.\u0275inj=r.G2t({imports:[Jt.Np,Jt.yE,Jt.Np,Jt.yE]})}}return E})();var ae=V(6471),Hi=V(2102),Pe=V(9115),St=V(3902),Rt=V(7575),$e=V(6850),$i=V(9454),We=V(1188),G=V(1264),Wn=V(4848),Xe=V(8010);function Wi(E,R){1&E&&(r.j41(0,"div",4),r.nrm(1,"mat-spinner"),r.j41(2,"p"),r.EFF(3,"Loading dashboard metrics..."),r.k0s()())}function Xi(E,R){if(1&E&&(r.j41(0,"div",28)(1,"div",29)(2,"span",30),r.EFF(3,"Average Orders:"),r.k0s(),r.j41(4,"span",31),r.EFF(5),r.nI1(6,"number"),r.k0s()(),r.j41(7,"div",29)(8,"span",30),r.EFF(9,"Average Value:"),r.k0s(),r.j41(10,"span",31),r.EFF(11),r.k0s()()()),2&E){const y=r.XpG(2);r.R7$(5),r.JRh(r.i5U(6,2,y.getAverageOrders(),"1.0-0")),r.R7$(6),r.JRh(y.formatCurrency(y.getAverageOrderValue()))}}function di(E,R){if(1&E&&(r.j41(0,"div",34)(1,"div",35),r.EFF(2),r.k0s(),r.j41(3,"div",36)(4,"mat-icon"),r.EFF(5,"storefront"),r.k0s()(),r.j41(6,"div",37)(7,"h4"),r.EFF(8),r.k0s(),r.j41(9,"p"),r.EFF(10),r.k0s(),r.j41(11,"div",38)(12,"mat-icon",39),r.EFF(13,"star"),r.k0s(),r.j41(14,"span"),r.EFF(15),r.k0s()()(),r.j41(16,"div",40)(17,"div",41)(18,"span",31),r.EFF(19),r.k0s(),r.j41(20,"span",30),r.EFF(21,"Revenue"),r.k0s()(),r.j41(22,"div",41)(23,"span",31),r.EFF(24),r.k0s(),r.j41(25,"span",30),r.EFF(26,"Orders"),r.k0s()()()()),2&E){const y=R.$implicit,F=R.index,w=r.XpG(3);r.R7$(2),r.JRh(F+1),r.R7$(6),r.JRh(y.name),r.R7$(2),r.JRh(y.owner),r.R7$(5),r.JRh(y.rating),r.R7$(4),r.JRh(w.formatCurrency(y.revenue)),r.R7$(5),r.JRh(w.formatNumber(y.orders))}}function Yi(E,R){if(1&E&&(r.j41(0,"div",32),r.DNE(1,di,27,6,"div",33),r.k0s()),2&E){const y=r.XpG(2);r.R7$(1),r.Y8G("ngForOf",y.metrics.topShops)}}function gi(E,R){1&E&&(r.j41(0,"div",42)(1,"mat-icon"),r.EFF(2,"store"),r.k0s(),r.j41(3,"p"),r.EFF(4,"No shop data available"),r.k0s()())}function _e(E,R){if(1&E&&(r.j41(0,"div",45)(1,"div",46)(2,"h4"),r.EFF(3),r.k0s(),r.j41(4,"div",47)(5,"span",48),r.EFF(6),r.k0s(),r.j41(7,"span",49),r.EFF(8),r.k0s()()(),r.j41(9,"div",50)(10,"div",51)(11,"div",52),r.nrm(12,"div",53),r.k0s(),r.j41(13,"span",54),r.EFF(14),r.k0s()(),r.j41(15,"div",55)(16,"mat-icon"),r.EFF(17),r.k0s(),r.j41(18,"span"),r.EFF(19),r.k0s()()()()),2&E){const y=R.$implicit,F=r.XpG(3);r.R7$(3),r.JRh(y.name),r.R7$(3),r.JRh(F.formatCurrency(y.revenue)),r.R7$(2),r.SpI("",F.formatNumber(y.orders)," orders"),r.R7$(4),r.xc7("width",y.marketShare,"%"),r.R7$(2),r.SpI("",y.marketShare,"%"),r.R7$(1),r.AVh("positive",y.trend.startsWith("+")),r.R7$(2),r.JRh(y.trend.startsWith("+")?"trending_up":"trending_down"),r.R7$(2),r.JRh(y.trend)}}function Xn(E,R){if(1&E&&(r.j41(0,"div",43),r.DNE(1,_e,20,10,"div",44),r.k0s()),2&E){const y=r.XpG(2);r.R7$(1),r.Y8G("ngForOf",y.metrics.categoryPerformance)}}function Yn(E,R){1&E&&(r.j41(0,"div",42)(1,"mat-icon"),r.EFF(2,"category"),r.k0s(),r.j41(3,"p"),r.EFF(4,"No category data available"),r.k0s()())}function Ht(E,R){if(1&E&&(r.j41(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"mat-icon"),r.EFF(5,"people"),r.k0s()(),r.j41(6,"div",9)(7,"div",10),r.EFF(8),r.k0s(),r.j41(9,"div",11),r.EFF(10,"Total Users"),r.k0s()()(),r.j41(11,"div",12)(12,"div",8)(13,"mat-icon"),r.EFF(14,"shopping_cart"),r.k0s()(),r.j41(15,"div",9)(16,"div",10),r.EFF(17),r.k0s(),r.j41(18,"div",11),r.EFF(19,"Total Orders"),r.k0s()()(),r.j41(20,"div",13)(21,"div",8)(22,"mat-icon"),r.EFF(23,"store"),r.k0s()(),r.j41(24,"div",9)(25,"div",10),r.EFF(26),r.k0s(),r.j41(27,"div",11),r.EFF(28,"Total Shops"),r.k0s()()(),r.j41(29,"div",14)(30,"div",8)(31,"mat-icon"),r.EFF(32,"person"),r.k0s()(),r.j41(33,"div",9)(34,"div",10),r.EFF(35),r.k0s(),r.j41(36,"div",11),r.EFF(37,"Customers"),r.k0s()()(),r.j41(38,"div",15)(39,"div",8)(40,"mat-icon"),r.EFF(41,"local_shipping"),r.k0s()(),r.j41(42,"div",9)(43,"div",10),r.EFF(44),r.k0s(),r.j41(45,"div",11),r.EFF(46,"Delivery Partners"),r.k0s()()(),r.j41(47,"div",16)(48,"div",8)(49,"mat-icon"),r.EFF(50,"attach_money"),r.k0s()(),r.j41(51,"div",9)(52,"div",10),r.EFF(53),r.k0s(),r.j41(54,"div",11),r.EFF(55,"Total Order Amount"),r.k0s()()(),r.j41(56,"div",17)(57,"div",8)(58,"mat-icon"),r.EFF(59,"money_off"),r.k0s()(),r.j41(60,"div",9)(61,"div",10),r.EFF(62),r.k0s(),r.j41(63,"div",11),r.EFF(64,"Total Refund Amount"),r.k0s()()()(),r.j41(65,"div",18)(66,"mat-card",19)(67,"mat-card-content"),r.nrm(68,"highcharts-chart",20),r.DNE(69,Xi,12,5,"div",21),r.k0s()()(),r.j41(70,"div",22)(71,"mat-card",23)(72,"mat-card-header")(73,"mat-card-title")(74,"mat-icon"),r.EFF(75,"store"),r.k0s(),r.EFF(76," Top Performing Shops "),r.k0s(),r.j41(77,"mat-card-subtitle"),r.EFF(78,"Based on revenue and orders"),r.k0s()(),r.j41(79,"mat-card-content"),r.DNE(80,Yi,2,1,"div",24),r.DNE(81,gi,5,0,"ng-template",null,25,r.C5r),r.k0s()(),r.j41(83,"mat-card",23)(84,"mat-card-header")(85,"mat-card-title")(86,"mat-icon"),r.EFF(87,"category"),r.k0s(),r.EFF(88," Category Performance "),r.k0s(),r.j41(89,"mat-card-subtitle"),r.EFF(90,"Market share and trends"),r.k0s()(),r.j41(91,"mat-card-content"),r.DNE(92,Xn,2,1,"div",26),r.DNE(93,Yn,5,0,"ng-template",null,27,r.C5r),r.k0s()()()()),2&E){const y=r.sdS(82),F=r.sdS(94),w=r.XpG();r.R7$(8),r.JRh(w.formatNumber(w.metrics.totalUsers)),r.R7$(9),r.JRh(w.formatNumber(w.metrics.totalOrders)),r.R7$(9),r.JRh(w.formatNumber(w.metrics.totalShops)),r.R7$(9),r.JRh(w.formatNumber(w.metrics.totalCustomers)),r.R7$(9),r.JRh(w.formatNumber(w.metrics.totalDeliveryPartners)),r.R7$(9),r.JRh(w.formatCurrency(w.metrics.totalOrderAmount)),r.R7$(9),r.JRh(w.formatCurrency(w.metrics.totalRefundAmount)),r.R7$(6),r.Y8G("Highcharts",w.Highcharts)("options",w.chartOptions),r.R7$(1),r.Y8G("ngIf",null==w.metrics?null:w.metrics.dailyOrdersData),r.R7$(11),r.Y8G("ngIf",w.metrics.topShops&&w.metrics.topShops.length>0)("ngIfElse",y),r.R7$(12),r.Y8G("ngIf",w.metrics.categoryPerformance&&w.metrics.categoryPerformance.length>0)("ngIfElse",F)}}let Un=(()=>{class E{constructor(y,F,w){this.analyticsService=y,this.authService=F,this.router=w,this.metrics=null,this.loading=!1,this.selectedPeriod="30",this.Highcharts=G,this.chartOptions={},this.periodOptions=[{value:"7",label:"Last 7 days"},{value:"30",label:"Last 30 days"},{value:"90",label:"Last 3 months"},{value:"365",label:"Last year"}]}ngOnInit(){const y=this.authService.getCurrentUser();if(y){const F=y.role?.toString().toUpperCase();if("DELIVERY_PARTNER"===F)return void this.router.navigate(["/delivery/partner/orders"]);if("SHOP_OWNER"===F)return void this.router.navigate(["/shop-owner"])}this.loadDashboardMetrics()}loadDashboardMetrics(){this.loading=!0;const y=new Date,F=new Date;F.setDate(y.getDate()-parseInt(this.selectedPeriod)),this.analyticsService.getDashboardMetrics(F,y).subscribe({next:w=>{this.metrics=this.transformMetrics(w),this.setupHighchartsConfiguration(),this.loading=!1},error:w=>{console.error("Error loading dashboard metrics:",w),this.metrics=this.getMockMetrics(),this.setupHighchartsConfiguration(),this.loading=!1}})}getMockMetrics(){return{totalUsers:324,totalOrders:1234,totalCustomers:567,totalShops:45,totalDeliveryPartners:28,totalOrderAmount:2847650,totalRefundAmount:45230,dailyOrdersData:[{date:"2024-09-04",orders:45,avgValue:2100},{date:"2024-09-05",orders:52,avgValue:2300},{date:"2024-09-06",orders:38,avgValue:1900},{date:"2024-09-07",orders:65,avgValue:2500},{date:"2024-09-08",orders:71,avgValue:2650},{date:"2024-09-09",orders:89,avgValue:2800},{date:"2024-09-10",orders:62,avgValue:2400}],topShops:[{name:"Electronics Hub",owner:"Ravi Kumar",revenue:458e3,orders:234,rating:4.8},{name:"Fashion Store",owner:"Priya Singh",revenue:387e3,orders:198,rating:4.6},{name:"Super Mart",owner:"Amit Sharma",revenue:342e3,orders:176,rating:4.7},{name:"Tech World",owner:"Sunita Patel",revenue:298e3,orders:145,rating:4.5},{name:"Style Zone",owner:"Vikram Rao",revenue:265e3,orders:132,rating:4.4}],categoryPerformance:[{name:"Electronics",revenue:856e3,orders:425,marketShare:35,trend:"+12.5%"},{name:"Fashion & Clothing",revenue:642e3,orders:318,marketShare:25,trend:"+8.3%"},{name:"Food & Beverages",revenue:485e3,orders:267,marketShare:20,trend:"+15.2%"},{name:"Home & Garden",revenue:364e3,orders:189,marketShare:15,trend:"+5.7%"},{name:"Others",revenue:128e3,orders:87,marketShare:5,trend:"+3.1%"}]}}onPeriodChange(){this.loadDashboardMetrics()}formatCurrency(y){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(y)}formatNumber(y){return new Intl.NumberFormat("en-IN").format(y)}formatPercentage(y){return`${y.toFixed(1)}%`}getAverageOrders(){if(!this.metrics?.dailyOrdersData||0===this.metrics.dailyOrdersData.length)return 0;const y=this.metrics.dailyOrdersData.reduce((F,w)=>F+w.orders,0);return Math.round(y/this.metrics.dailyOrdersData.length)}getAverageOrderValue(){return this.metrics?.dailyOrdersData&&0!==this.metrics.dailyOrdersData.length?this.metrics.dailyOrdersData.reduce((F,w)=>F+w.avgValue,0)/this.metrics.dailyOrdersData.length:0}getMaxOrders(){return this.metrics?.dailyOrdersData&&0!==this.metrics.dailyOrdersData.length?Math.max(...this.metrics.dailyOrdersData.map(y=>y.orders)):1}formatDate(y){return new Date(y).toLocaleDateString("en-US",{month:"short",day:"numeric"})}setupHighchartsConfiguration(){if(!this.metrics?.dailyOrdersData)return;const y=this.metrics.dailyOrdersData.map(w=>new Date(w.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),F=this.metrics.dailyOrdersData.map(w=>w.orders);this.chartOptions={chart:{type:"column",backgroundColor:"transparent",height:300},title:{text:"Daily Average Orders",style:{color:"#333",fontSize:"16px",fontWeight:"bold"}},subtitle:{text:"Last 7 days",style:{color:"#666",fontSize:"12px"}},xAxis:{categories:y,crosshair:!0,labels:{style:{color:"#666"}}},yAxis:{min:0,title:{text:"Orders",style:{color:"#666"}},labels:{style:{color:"#666"}}},tooltip:{headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y} orders</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0},plotOptions:{column:{pointPadding:.2,borderWidth:0,borderRadius:4,dataLabels:{enabled:!0,style:{color:"#333",fontSize:"11px"}}}},series:[{name:"Daily Orders",type:"column",data:F,color:"#667eea"}],credits:{enabled:!1},legend:{enabled:!1}}}transformMetrics(y){return{totalUsers:324,totalOrders:y.totalOrders||1234,totalCustomers:y.totalCustomers||567,totalShops:y.totalShops||45,totalDeliveryPartners:28,totalOrderAmount:y.totalRevenue||2847650,totalRefundAmount:45230,dailyOrdersData:[{date:"2024-09-04",orders:45,avgValue:2100},{date:"2024-09-05",orders:52,avgValue:2300},{date:"2024-09-06",orders:38,avgValue:1900},{date:"2024-09-07",orders:65,avgValue:2500},{date:"2024-09-08",orders:71,avgValue:2650},{date:"2024-09-09",orders:89,avgValue:2800},{date:"2024-09-10",orders:62,avgValue:2400}],topShops:[{name:"Electronics Hub",owner:"Ravi Kumar",revenue:458e3,orders:234,rating:4.8},{name:"Fashion Store",owner:"Priya Singh",revenue:387e3,orders:198,rating:4.6},{name:"Super Mart",owner:"Amit Sharma",revenue:342e3,orders:176,rating:4.7},{name:"Tech World",owner:"Sunita Patel",revenue:298e3,orders:145,rating:4.5},{name:"Style Zone",owner:"Vikram Rao",revenue:265e3,orders:132,rating:4.4}],categoryPerformance:[{name:"Electronics",revenue:856e3,orders:425,marketShare:35,trend:"+12.5%"},{name:"Fashion & Clothing",revenue:642e3,orders:318,marketShare:25,trend:"+8.3%"},{name:"Food & Beverages",revenue:485e3,orders:267,marketShare:20,trend:"+15.2%"},{name:"Home & Garden",revenue:364e3,orders:189,marketShare:15,trend:"+5.7%"},{name:"Others",revenue:128e3,orders:87,marketShare:5,trend:"+3.1%"}]}}static{this.\u0275fac=function(F){return new(F||E)(r.rXU(Wn.c),r.rXU(Xe.u),r.rXU(We.Ix))}}static{this.\u0275cmp=r.VBU({type:E,selectors:[["app-dashboard"]],decls:6,vars:2,consts:[[1,"dashboard-container"],[1,"header-section"],["class","loading-container",4,"ngIf"],["class","dashboard-content",4,"ngIf"],[1,"loading-container"],[1,"dashboard-content"],[1,"stats-grid"],[1,"stat-card","users"],[1,"stat-icon"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"stat-card","orders"],[1,"stat-card","shops"],[1,"stat-card","customers"],[1,"stat-card","delivery"],[1,"stat-card","amount"],[1,"stat-card","refund"],[1,"chart-section"],[1,"chart-card"],[2,"width","100%","height","350px","display","block",3,"Highcharts","options"],["class","chart-stats",4,"ngIf"],[1,"performance-section"],[1,"performance-card"],["class","shop-list",4,"ngIf","ngIfElse"],["noShops",""],["class","category-list",4,"ngIf","ngIfElse"],["noCategories",""],[1,"chart-stats"],[1,"chart-stat"],[1,"label"],[1,"value"],[1,"shop-list"],["class","shop-item",4,"ngFor","ngForOf"],[1,"shop-item"],[1,"shop-rank"],[1,"shop-avatar"],[1,"shop-info"],[1,"shop-rating"],[1,"star"],[1,"shop-metrics"],[1,"metric"],[1,"no-data"],[1,"category-list"],["class","category-item",4,"ngFor","ngForOf"],[1,"category-item"],[1,"category-info"],[1,"category-stats"],[1,"revenue"],[1,"orders"],[1,"category-performance"],[1,"market-share"],[1,"progress-bar"],[1,"progress-fill"],[1,"percentage"],[1,"trend"]],template:function(F,w){1&F&&(r.j41(0,"div",0)(1,"div",1)(2,"h2"),r.EFF(3,"Dashboard Overview"),r.k0s()(),r.DNE(4,Wi,4,0,"div",2),r.DNE(5,Ht,95,14,"div",3),r.k0s()),2&F&&(r.R7$(4),r.Y8G("ngIf",w.loading),r.R7$(1),r.Y8G("ngIf",!w.loading&&w.metrics))},dependencies:[dt.Sq,dt.bT,bt.RN,bt.m2,bt.MM,bt.Lc,bt.dh,Kt.An,ye.LG,si,dt.QX],styles:['.dashboard-container[_ngcontent-%COMP%]{padding:24px;max-width:1400px;margin:0 auto;background:#f5f5f7;min-height:100vh}.dashboard-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px;padding:24px 0}.dashboard-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#1a1a1a;font-weight:600;font-size:32px;letter-spacing:-.5px}.dashboard-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px;gap:16px}.dashboard-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:24px;margin-bottom:48px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:white;border-radius:16px;padding:28px;display:flex;align-items:center;gap:20px;box-shadow:0 2px 12px #00000014;transition:all .3s ease;border:2px solid transparent;position:relative;overflow:hidden}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#667eea 0%,#764ba2 100%)}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 28px #00000026}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.users[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#667eea 0%,#764ba2 100%)}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.orders[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#f093fb 0%,#f5576c 100%)}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.shops[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#4facfe 0%,#00f2fe 100%)}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.customers[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#43e97b 0%,#38f9d7 100%)}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.delivery[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#fa709a 0%,#fee140 100%)}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.amount[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#a8edea 0%,#fed6e3 100%)}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.refund[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#ff9a9e 0%,#fecfef 100%)}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:64px;height:64px;background:linear-gradient(135deg,rgba(102,126,234,.1) 0%,rgba(118,75,162,.1) 100%);border-radius:16px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;color:#667eea}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.orders[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(240,147,251,.1) 0%,rgba(245,87,108,.1) 100%)}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.orders[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f5576c}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.shops[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(79,172,254,.1) 0%,rgba(0,242,254,.1) 100%)}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.shops[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#4facfe}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.customers[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(67,233,123,.1) 0%,rgba(56,249,215,.1) 100%)}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.customers[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#43e97b}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.delivery[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(250,112,154,.1) 0%,rgba(254,225,64,.1) 100%)}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.delivery[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fa709a}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.amount[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(168,237,234,.2) 0%,rgba(254,214,227,.2) 100%)}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.amount[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#00d4aa}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.refund[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(255,154,158,.1) 0%,rgba(254,207,239,.1) 100%)}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.refund[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff9a9e}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{flex:1}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:36px;font-weight:700;line-height:1;margin-bottom:6px;color:#1a1a1a;letter-spacing:-1px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:16px;color:#666;font-weight:500;letter-spacing:.3px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]{margin-bottom:48px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]{background:white;border-radius:16px;box-shadow:0 2px 12px #00000014;border:none;overflow:hidden}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]{padding:24px 24px 0}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#1a1a1a;margin-bottom:4px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   .mat-card-subtitle[_ngcontent-%COMP%]{color:#666;font-size:14px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{padding:24px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   ngx-charts-bar-vertical[_ngcontent-%COMP%]{width:100%}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .simple-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:end;height:200px;padding:20px 0;margin-bottom:24px;border-bottom:2px solid #f0f0f0;position:relative}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .simple-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;bottom:0;height:1px;background:#e0e0e0}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .simple-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;flex:1;max-width:80px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .simple-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{width:32px;background:linear-gradient(180deg,#667eea 0%,#764ba2 100%);border-radius:4px 4px 0 0;min-height:8px;transition:all .3s ease;position:relative;box-shadow:0 2px 8px #667eea4d}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .simple-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 16px #667eea66}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .simple-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#1a1a1a;margin-top:8px;margin-bottom:4px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .simple-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-date[_ngcontent-%COMP%]{font-size:12px;color:#666;font-weight:500}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .simple-chart[_ngcontent-%COMP%]   .chart-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-around;gap:32px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .simple-chart[_ngcontent-%COMP%]   .chart-stats[_ngcontent-%COMP%]   .chart-stat[_ngcontent-%COMP%]{text-align:center;flex:1}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .simple-chart[_ngcontent-%COMP%]   .chart-stats[_ngcontent-%COMP%]   .chart-stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;font-size:14px;color:#666;margin-bottom:4px;font-weight:500}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .simple-chart[_ngcontent-%COMP%]   .chart-stats[_ngcontent-%COMP%]   .chart-stat[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#667eea;letter-spacing:-.5px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:24px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]{background:white;border-radius:16px;box-shadow:0 2px 12px #00000014;border:none;overflow:hidden}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]{padding:24px 24px 0}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:18px;font-weight:600;color:#1a1a1a;margin-bottom:4px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#667eea;font-size:20px;width:20px;height:20px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   .mat-card-subtitle[_ngcontent-%COMP%]{color:#666;font-size:14px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{padding:24px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;border:1px solid #f0f0f0;border-radius:12px;margin-bottom:12px;gap:16px;transition:all .3s ease}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#e0e0e0;box-shadow:0 2px 8px #0000000d}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%]   .shop-rank[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:14px;flex-shrink:0}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%]   .shop-avatar[_ngcontent-%COMP%]{width:48px;height:48px;background:linear-gradient(135deg,rgba(240,147,251,.1254901961) 0%,rgba(245,87,108,.1254901961) 100%);border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%]   .shop-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f5576c;font-size:24px;width:24px;height:24px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%]   .shop-info[_ngcontent-%COMP%]{flex:1}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%]   .shop-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;color:#1a1a1a;font-weight:600;font-size:16px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%]   .shop-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 6px;color:#666;font-size:14px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%]   .shop-info[_ngcontent-%COMP%]   .shop-rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%]   .shop-info[_ngcontent-%COMP%]   .shop-rating[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{color:#ffc107;font-size:16px;width:16px;height:16px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%]   .shop-info[_ngcontent-%COMP%]   .shop-rating[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;color:#666;font-weight:500}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%]   .shop-metrics[_ngcontent-%COMP%]{display:flex;gap:20px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%]   .shop-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]{text-align:right;display:flex;flex-direction:column}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%]   .shop-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700;color:#1a1a1a;font-size:15px;margin-bottom:2px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%]   .shop-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#666;font-size:12px;text-transform:uppercase;letter-spacing:.5px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:18px;border:1px solid #f0f0f0;border-radius:12px;margin-bottom:12px;gap:20px;transition:all .3s ease}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#e0e0e0;box-shadow:0 2px 8px #0000000d}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{flex:1}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;color:#1a1a1a;font-weight:600;font-size:16px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]{display:flex;gap:16px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .revenue[_ngcontent-%COMP%]{font-weight:700;color:#43e97b;font-size:15px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .orders[_ngcontent-%COMP%]{color:#666;font-size:14px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-performance[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;align-items:flex-end;min-width:120px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-performance[_ngcontent-%COMP%]   .market-share[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;width:100%}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-performance[_ngcontent-%COMP%]   .market-share[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{flex:1;height:6px;background:#f0f0f0;border-radius:3px;overflow:hidden}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-performance[_ngcontent-%COMP%]   .market-share[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#667eea 0%,#764ba2 100%);transition:width .3s ease}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-performance[_ngcontent-%COMP%]   .market-share[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#666;min-width:32px;text-align:right}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-performance[_ngcontent-%COMP%]   .trend[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:13px;font-weight:600}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-performance[_ngcontent-%COMP%]   .trend.positive[_ngcontent-%COMP%]{color:#43e97b}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-performance[_ngcontent-%COMP%]   .trend[_ngcontent-%COMP%]:not(.positive){color:#f44336}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-performance[_ngcontent-%COMP%]   .trend[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px 20px;color:#666}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px;color:#ccc}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]   .performance-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}@media (max-width: 1024px){.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .performance-section[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]{padding:16px}.dashboard-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]{padding:16px 0}.dashboard-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:20px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:56px;height:56px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:28px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:14px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .simple-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]{height:160px;padding:16px 0}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .simple-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]{max-width:60px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .simple-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{width:24px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .simple-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]{font-size:12px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .simple-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-date[_ngcontent-%COMP%]{font-size:10px}}@media (max-width: 480px){.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .simple-chart[_ngcontent-%COMP%]   .chart-stats[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.dashboard-container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .simple-chart[_ngcontent-%COMP%]   .chart-stats[_ngcontent-%COMP%]   .chart-stat[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:18px}}']})}}return E})();var ke=V(1413),Ye=V(605),pt=V(6977),Dt=V(5018),pi=V(9640),Ue=V(8370);function Vn(E,R){if(1&E){const y=r.RV6();r.j41(0,"div",70)(1,"span",71),r.EFF(2),r.k0s(),r.j41(3,"button",72),r.bIt("click",function(){const Y=r.eBV(y).$implicit,yt=r.XpG(2);return r.Njj(yt.handleAlert(Y))}),r.j41(4,"mat-icon"),r.EFF(5,"arrow_forward"),r.k0s()()()}if(2&E){const y=R.$implicit;r.R7$(2),r.JRh(y.message)}}function ht(E,R){if(1&E&&(r.j41(0,"div",66)(1,"mat-card",67)(2,"mat-card-header")(3,"mat-icon",68),r.EFF(4,"warning"),r.k0s(),r.j41(5,"mat-card-title"),r.EFF(6,"Critical Alerts"),r.k0s()(),r.j41(7,"mat-card-content"),r.DNE(8,Vn,6,1,"div",69),r.k0s()()()),2&E){const y=r.XpG();r.R7$(8),r.Y8G("ngForOf",y.criticalAlerts)}}function mi(E,R){if(1&E&&(r.j41(0,"mat-list-item")(1,"div",73),r.EFF(2),r.k0s(),r.j41(3,"div",74),r.EFF(4),r.k0s(),r.j41(5,"div",75)(6,"span"),r.EFF(7),r.k0s(),r.j41(8,"span",76),r.EFF(9,"\u2022"),r.k0s(),r.j41(10,"span"),r.EFF(11),r.nI1(12,"number"),r.k0s()(),r.j41(13,"div",77)(14,"mat-chip-set")(15,"mat-chip",78)(16,"mat-icon"),r.EFF(17,"star"),r.k0s(),r.EFF(18),r.k0s()()()()),2&E){const y=R.$implicit,F=R.index;r.R7$(2),r.JRh(F+1),r.R7$(2),r.JRh(y.name),r.R7$(3),r.SpI("",y.orders," orders"),r.R7$(4),r.SpI("\u20b9",r.bMT(12,6,y.revenue)," revenue"),r.R7$(4),r.Y8G("color",y.rating>=4?"primary":"basic"),r.R7$(3),r.SpI(" ",y.rating," ")}}function qn(E,R){if(1&E&&(r.j41(0,"div",85),r.EFF(1),r.nI1(2,"number"),r.k0s()),2&E){const y=r.XpG().$implicit;r.R7$(1),r.SpI(" \u20b9",r.bMT(2,1,y.amount)," ")}}function Zn(E,R){if(1&E&&(r.j41(0,"div",79)(1,"div",80)(2,"mat-icon"),r.EFF(3),r.k0s()(),r.j41(4,"div",81)(5,"div",82),r.EFF(6),r.k0s(),r.j41(7,"div",83),r.EFF(8),r.nI1(9,"date"),r.k0s()(),r.DNE(10,qn,3,3,"div",84),r.k0s()),2&E){const y=R.$implicit;r.R7$(1),r.Y8G("ngClass","activity-"+y.type),r.R7$(2),r.JRh("order"===y.type?"shopping_cart":"shop"===y.type?"store":"user"===y.type?"person":"info"),r.R7$(3),r.JRh(y.message),r.R7$(2),r.JRh(r.i5U(9,5,y.timestamp,"short")),r.R7$(2),r.Y8G("ngIf",y.amount)}}function Kn(E,R){1&E&&(r.j41(0,"div",86),r.nrm(1,"mat-spinner"),r.j41(2,"p"),r.EFF(3,"Loading dashboard data..."),r.k0s()())}let It=(()=>{class E{constructor(y,F){this.store=y,this.websocketService=F,this.destroy$=new ke.B,this.currentTime=new Date,this.liveUsers=0,this.systemStatus="Operational",this.revenueChartData={labels:[],datasets:[{data:[],label:"Revenue (\u20b9)",backgroundColor:"rgba(255, 107, 53, 0.2)",borderColor:"#FF6B35",borderWidth:2,fill:!0}]},this.revenueChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top"},title:{display:!0,text:"Revenue Trend"}},scales:{y:{beginAtZero:!0,ticks:{callback:function(w){return"\u20b9"+w.toLocaleString("en-IN")}}}}},this.orderVolumeChartData={labels:[],datasets:[{data:[],label:"Orders",backgroundColor:"#006994",borderColor:"#006994",borderWidth:2}]},this.shopDistributionData={labels:["Active","Pending","Suspended","Rejected"],datasets:[{data:[0,0,0,0],backgroundColor:["#4CAF50","#FFC107","#FF6B35","#C41E3A"]}]},this.userGrowthData={labels:[],datasets:[{data:[],label:"Customers",borderColor:"#FFD700",backgroundColor:"rgba(255, 215, 0, 0.1)"},{data:[],label:"Shop Owners",borderColor:"#FF6B35",backgroundColor:"rgba(255, 107, 53, 0.1)"},{data:[],label:"Delivery Partners",borderColor:"#006994",backgroundColor:"rgba(0, 105, 148, 0.1)"}]},this.geographicData=[],this.kpis={totalRevenue:0,totalOrders:0,activeShops:0,totalCustomers:0,avgOrderValue:0,conversionRate:0,monthlyGrowth:0,deliverySuccessRate:0},this.recentActivities=[],this.topShops=[],this.topDeliveryPartners=[],this.systemHealth={cpu:0,memory:0,activeConnections:0,responseTime:0,uptime:"99.99%"},this.financialSummary={todayRevenue:0,weekRevenue:0,monthRevenue:0,pendingPayouts:0,totalCommission:0},this.criticalAlerts=[],this.pendingApprovals={shops:0,deliveryPartners:0,withdrawals:0},this.metrics$=this.store.select(w=>w.dashboard.metrics),this.loading$=this.store.select(w=>w.dashboard.loading)}ngOnInit(){this.initializeDashboard(),this.setupRealTimeUpdates(),this.loadDashboardData(),this.startAutoRefresh()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeDashboard(){(0,Ye.Y)(1e3).pipe((0,pt.Q)(this.destroy$)).subscribe(()=>{this.currentTime=new Date})}setupRealTimeUpdates(){this.websocketService.connect().pipe((0,pt.Q)(this.destroy$)).subscribe(),this.websocketService.subscribe("/topic/dashboard/super-admin").pipe((0,pt.Q)(this.destroy$)).subscribe(y=>{this.handleRealTimeUpdate(y)}),this.websocketService.subscribe("/topic/system/health").pipe((0,pt.Q)(this.destroy$)).subscribe(y=>{this.updateSystemHealth(y)}),this.websocketService.subscribe("/topic/alerts/critical").pipe((0,pt.Q)(this.destroy$)).subscribe(y=>{this.criticalAlerts.unshift(y),this.criticalAlerts.length>10&&this.criticalAlerts.pop()})}loadDashboardData(){this.store.dispatch(Dt.WO({role:"SUPER_ADMIN",period:"30days"})),this.store.dispatch(Dt.Mq()),this.metrics$.pipe((0,pt.Q)(this.destroy$)).subscribe(y=>{y&&(this.updateCharts(y),this.updateKPIs(y))})}startAutoRefresh(){(0,Ye.Y)(3e4).pipe((0,pt.Q)(this.destroy$)).subscribe(()=>{this.refreshDashboard()})}handleRealTimeUpdate(y){"METRICS_UPDATE"===y.type?this.store.dispatch(Dt.bO({metrics:y.data})):"NEW_ORDER"===y.type?(this.kpis.totalOrders++,this.recentActivities.unshift({type:"order",message:`New order #${y.data.orderNumber} placed`,timestamp:new Date,amount:y.data.amount})):"NEW_SHOP_REGISTRATION"===y.type&&this.pendingApprovals.shops++}updateSystemHealth(y){this.systemHealth={cpu:y.cpu||0,memory:y.memory||0,activeConnections:y.activeConnections||0,responseTime:y.responseTime||0,uptime:y.uptime||"99.99%"}}updateCharts(y){y.revenueData&&(this.revenueChartData.labels=y.revenueData.map(F=>F.date),this.revenueChartData.datasets[0].data=y.revenueData.map(F=>F.amount)),y.orderData&&(this.orderVolumeChartData.labels=y.orderData.map(F=>F.date),this.orderVolumeChartData.datasets[0].data=y.orderData.map(F=>F.count)),this.topShops=y.topShops||[]}updateKPIs(y){this.kpis={totalRevenue:y.totalRevenue,totalOrders:y.totalOrders,activeShops:y.totalShops,totalCustomers:y.totalCustomers,avgOrderValue:y.averageOrderValue,conversionRate:y.conversionRate,monthlyGrowth:y.monthlyGrowth,deliverySuccessRate:95.5}}refreshDashboard(){this.store.dispatch(Dt.CY())}navigateToSection(y){console.log("Navigating to:",y)}exportReport(y){console.log("Exporting report:",y)}handleAlert(y){console.log("Handling alert:",y)}viewAllActivities(){console.log("Viewing all activities")}changeTimeRange(y){this.store.dispatch(Dt.WO({role:"SUPER_ADMIN",period:y}))}static{this.\u0275fac=function(F){return new(F||E)(r.rXU(pi.il),r.rXU(Ue.V))}}static{this.\u0275cmp=r.VBU({type:E,selectors:[["app-super-admin-dashboard"]],decls:286,vars:74,consts:[[1,"super-admin-dashboard","chennai-dashboard"],[1,"dashboard-header","chennai-header"],[1,"header-content"],[1,"header-left"],[1,"dashboard-title"],[1,"dashboard-subtitle"],[1,"header-right"],[1,"time-display"],[1,"system-status"],[1,"quick-actions"],["mat-raised-button","",1,"chennai-button",3,"click"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","accent",3,"click"],["class","alerts-section",4,"ngIf"],[1,"kpi-grid"],[1,"kpi-card","chennai-card","chennai-animate"],[1,"kpi-icon","revenue-icon"],[1,"kpi-content"],[1,"kpi-value"],[1,"kpi-label"],[1,"kpi-trend","positive"],[1,"kpi-icon","orders-icon"],[1,"kpi-trend"],[1,"kpi-icon","shops-icon"],[1,"kpi-badge"],[1,"pending-badge"],[1,"kpi-icon","customers-icon"],[1,"kpi-icon","delivery-icon"],[1,"active-badge"],[1,"kpi-icon","conversion-icon"],[1,"kpi-trend","neutral"],[1,"charts-grid"],[1,"chart-card","chennai-card"],["mat-icon-button","",3,"matMenuTriggerFor"],["revenueMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item",""],["baseChart","","height","300",3,"data","options","type"],["baseChart","","height","300",3,"data","type"],[1,"info-grid"],[1,"system-health-card","chennai-card"],[1,"health-metrics"],[1,"health-item"],[1,"health-label"],["mode","determinate",3,"value"],[1,"health-value"],[1,"health-value","success"],[1,"financial-summary-card","chennai-card"],[1,"financial-items"],[1,"financial-item"],[1,"financial-label"],[1,"financial-value"],[1,"financial-item","highlight"],[1,"approvals-card","chennai-card"],[1,"approval-items"],[1,"approval-item",3,"click"],[1,"approval-info"],[1,"approval-count"],[1,"performers-grid"],[1,"top-shops-card","chennai-card"],["mat-button","","color","primary",3,"click"],[4,"ngFor","ngForOf"],[1,"activities-card","chennai-card"],[1,"activity-timeline"],["class","activity-item",4,"ngFor","ngForOf"],["class","loading-overlay",4,"ngIf"],[1,"alerts-section"],[1,"alerts-card","chennai-card"],[1,"alert-icon"],["class","alert-item",4,"ngFor","ngForOf"],[1,"alert-item"],[1,"alert-message"],["mat-icon-button","",3,"click"],["matListItemAvatar","",1,"rank-badge"],["matListItemTitle",""],["matListItemLine",""],[1,"separator"],["matListItemMeta",""],[3,"color"],[1,"activity-item"],[1,"activity-icon",3,"ngClass"],[1,"activity-content"],[1,"activity-message"],[1,"activity-time"],["class","activity-amount",4,"ngIf"],[1,"activity-amount"],[1,"loading-overlay"]],template:function(F,w){if(1&F&&(r.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),r.EFF(5,"Super Admin Dashboard"),r.k0s(),r.j41(6,"p",5),r.EFF(7,"NammaOoru Delivery Platform"),r.k0s()(),r.j41(8,"div",6)(9,"div",7)(10,"mat-icon"),r.EFF(11,"access_time"),r.k0s(),r.j41(12,"span"),r.EFF(13),r.nI1(14,"date"),r.k0s()(),r.j41(15,"div",8)(16,"mat-icon"),r.EFF(17,"fiber_manual_record"),r.k0s(),r.j41(18,"span"),r.EFF(19),r.k0s()()()(),r.j41(20,"div",9)(21,"button",10),r.bIt("click",function(){return w.refreshDashboard()}),r.j41(22,"mat-icon"),r.EFF(23,"refresh"),r.k0s(),r.EFF(24," Refresh "),r.k0s(),r.j41(25,"button",11),r.bIt("click",function(){return w.changeTimeRange("today")}),r.EFF(26,"Today"),r.k0s(),r.j41(27,"button",11),r.bIt("click",function(){return w.changeTimeRange("7days")}),r.EFF(28,"7 Days"),r.k0s(),r.j41(29,"button",11),r.bIt("click",function(){return w.changeTimeRange("30days")}),r.EFF(30,"30 Days"),r.k0s(),r.j41(31,"button",11),r.bIt("click",function(){return w.changeTimeRange("90days")}),r.EFF(32,"90 Days"),r.k0s(),r.j41(33,"button",12),r.bIt("click",function(){return w.exportReport("pdf")}),r.j41(34,"mat-icon"),r.EFF(35,"download"),r.k0s(),r.EFF(36," Export Report "),r.k0s()()(),r.DNE(37,ht,9,1,"div",13),r.j41(38,"div",14)(39,"div",15)(40,"div",16)(41,"mat-icon"),r.EFF(42,"account_balance"),r.k0s()(),r.j41(43,"div",17)(44,"div",18),r.EFF(45),r.nI1(46,"number"),r.k0s(),r.j41(47,"div",19),r.EFF(48,"Total Revenue"),r.k0s(),r.j41(49,"div",20)(50,"mat-icon"),r.EFF(51,"trending_up"),r.k0s(),r.j41(52,"span"),r.EFF(53),r.k0s()()()(),r.j41(54,"div",15)(55,"div",21)(56,"mat-icon"),r.EFF(57,"shopping_cart"),r.k0s()(),r.j41(58,"div",17)(59,"div",18),r.EFF(60),r.nI1(61,"number"),r.k0s(),r.j41(62,"div",19),r.EFF(63,"Total Orders"),r.k0s(),r.j41(64,"div",22)(65,"mat-icon"),r.EFF(66,"schedule"),r.k0s(),r.j41(67,"span"),r.EFF(68),r.nI1(69,"currency"),r.k0s()()()(),r.j41(70,"div",15)(71,"div",23)(72,"mat-icon"),r.EFF(73,"store"),r.k0s()(),r.j41(74,"div",17)(75,"div",18),r.EFF(76),r.nI1(77,"number"),r.k0s(),r.j41(78,"div",19),r.EFF(79,"Active Shops"),r.k0s(),r.j41(80,"div",24)(81,"span",25),r.EFF(82),r.k0s()()()(),r.j41(83,"div",15)(84,"div",26)(85,"mat-icon"),r.EFF(86,"people"),r.k0s()(),r.j41(87,"div",17)(88,"div",18),r.EFF(89),r.nI1(90,"number"),r.k0s(),r.j41(91,"div",19),r.EFF(92,"Total Customers"),r.k0s(),r.j41(93,"div",20)(94,"mat-icon"),r.EFF(95,"person_add"),r.k0s(),r.j41(96,"span"),r.EFF(97),r.k0s()()()(),r.j41(98,"div",15)(99,"div",27)(100,"mat-icon"),r.EFF(101,"local_shipping"),r.k0s()(),r.j41(102,"div",17)(103,"div",18),r.EFF(104),r.k0s(),r.j41(105,"div",19),r.EFF(106,"Delivery Success"),r.k0s(),r.j41(107,"div",24)(108,"span",28),r.EFF(109),r.nI1(110,"async"),r.k0s()()()(),r.j41(111,"div",15)(112,"div",29)(113,"mat-icon"),r.EFF(114,"insights"),r.k0s()(),r.j41(115,"div",17)(116,"div",18),r.EFF(117),r.k0s(),r.j41(118,"div",19),r.EFF(119,"Conversion Rate"),r.k0s(),r.j41(120,"div",30)(121,"mat-icon"),r.EFF(122,"swap_horiz"),r.k0s(),r.j41(123,"span"),r.EFF(124,"Stable"),r.k0s()()()()(),r.j41(125,"div",31)(126,"mat-card",32)(127,"mat-card-header")(128,"mat-card-title"),r.EFF(129,"Revenue Analytics"),r.k0s(),r.j41(130,"button",33)(131,"mat-icon"),r.EFF(132,"more_vert"),r.k0s()(),r.j41(133,"mat-menu",null,34)(135,"button",35),r.bIt("click",function(){return w.exportReport("revenue")}),r.EFF(136,"Export Data"),r.k0s(),r.j41(137,"button",36),r.EFF(138,"View Details"),r.k0s()()(),r.j41(139,"mat-card-content"),r.nrm(140,"canvas",37),r.k0s()(),r.j41(141,"mat-card",32)(142,"mat-card-header")(143,"mat-card-title"),r.EFF(144,"Order Volume Trends"),r.k0s()(),r.j41(145,"mat-card-content"),r.nrm(146,"canvas",37),r.k0s()(),r.j41(147,"mat-card",32)(148,"mat-card-header")(149,"mat-card-title"),r.EFF(150,"Shop Status Distribution"),r.k0s()(),r.j41(151,"mat-card-content"),r.nrm(152,"canvas",38),r.k0s()(),r.j41(153,"mat-card",32)(154,"mat-card-header")(155,"mat-card-title"),r.EFF(156,"User Growth Analysis"),r.k0s()(),r.j41(157,"mat-card-content"),r.nrm(158,"canvas",38),r.k0s()()(),r.j41(159,"div",39)(160,"mat-card",40)(161,"mat-card-header")(162,"mat-card-title")(163,"mat-icon"),r.EFF(164,"monitor_heart"),r.k0s(),r.EFF(165," System Health "),r.k0s()(),r.j41(166,"mat-card-content")(167,"div",41)(168,"div",42)(169,"span",43),r.EFF(170,"CPU Usage"),r.k0s(),r.nrm(171,"mat-progress-bar",44),r.j41(172,"span",45),r.EFF(173),r.k0s()(),r.j41(174,"div",42)(175,"span",43),r.EFF(176,"Memory"),r.k0s(),r.nrm(177,"mat-progress-bar",44),r.j41(178,"span",45),r.EFF(179),r.k0s()(),r.j41(180,"div",42)(181,"span",43),r.EFF(182,"Response Time"),r.k0s(),r.j41(183,"span",45),r.EFF(184),r.k0s()(),r.j41(185,"div",42)(186,"span",43),r.EFF(187,"Active Connections"),r.k0s(),r.j41(188,"span",45),r.EFF(189),r.k0s()(),r.j41(190,"div",42)(191,"span",43),r.EFF(192,"Uptime"),r.k0s(),r.j41(193,"span",46),r.EFF(194),r.k0s()()()()(),r.j41(195,"mat-card",47)(196,"mat-card-header")(197,"mat-card-title")(198,"mat-icon"),r.EFF(199,"account_balance_wallet"),r.k0s(),r.EFF(200," Financial Summary "),r.k0s()(),r.j41(201,"mat-card-content")(202,"div",48)(203,"div",49)(204,"span",50),r.EFF(205,"Today's Revenue"),r.k0s(),r.j41(206,"span",51),r.EFF(207),r.nI1(208,"number"),r.k0s()(),r.j41(209,"div",49)(210,"span",50),r.EFF(211,"This Week"),r.k0s(),r.j41(212,"span",51),r.EFF(213),r.nI1(214,"number"),r.k0s()(),r.j41(215,"div",49)(216,"span",50),r.EFF(217,"This Month"),r.k0s(),r.j41(218,"span",51),r.EFF(219),r.nI1(220,"number"),r.k0s()(),r.j41(221,"div",52)(222,"span",50),r.EFF(223,"Pending Payouts"),r.k0s(),r.j41(224,"span",51),r.EFF(225),r.nI1(226,"number"),r.k0s()(),r.j41(227,"div",49)(228,"span",50),r.EFF(229,"Total Commission"),r.k0s(),r.j41(230,"span",51),r.EFF(231),r.nI1(232,"number"),r.k0s()()()()(),r.j41(233,"mat-card",53)(234,"mat-card-header")(235,"mat-card-title")(236,"mat-icon"),r.EFF(237,"pending_actions"),r.k0s(),r.EFF(238," Pending Approvals "),r.k0s()(),r.j41(239,"mat-card-content")(240,"div",54)(241,"div",55),r.bIt("click",function(){return w.navigateToSection("shops")}),r.j41(242,"div",56)(243,"mat-icon"),r.EFF(244,"store"),r.k0s(),r.j41(245,"span"),r.EFF(246,"Shop Registrations"),r.k0s()(),r.j41(247,"span",57),r.EFF(248),r.k0s()(),r.j41(249,"div",55),r.bIt("click",function(){return w.navigateToSection("delivery-partners")}),r.j41(250,"div",56)(251,"mat-icon"),r.EFF(252,"two_wheeler"),r.k0s(),r.j41(253,"span"),r.EFF(254,"Delivery Partners"),r.k0s()(),r.j41(255,"span",57),r.EFF(256),r.k0s()(),r.j41(257,"div",55),r.bIt("click",function(){return w.navigateToSection("withdrawals")}),r.j41(258,"div",56)(259,"mat-icon"),r.EFF(260,"payments"),r.k0s(),r.j41(261,"span"),r.EFF(262,"Withdrawal Requests"),r.k0s()(),r.j41(263,"span",57),r.EFF(264),r.k0s()()()()()(),r.j41(265,"div",58)(266,"mat-card",59)(267,"mat-card-header")(268,"mat-card-title"),r.EFF(269,"Top Performing Shops"),r.k0s(),r.j41(270,"button",60),r.bIt("click",function(){return w.navigateToSection("shops")}),r.EFF(271,"View All"),r.k0s()(),r.j41(272,"mat-card-content")(273,"mat-list"),r.DNE(274,mi,19,8,"mat-list-item",61),r.k0s()()(),r.j41(275,"mat-card",62)(276,"mat-card-header")(277,"mat-card-title"),r.EFF(278,"Recent Activities"),r.k0s(),r.j41(279,"button",60),r.bIt("click",function(){return w.viewAllActivities()}),r.EFF(280,"View All"),r.k0s()(),r.j41(281,"mat-card-content")(282,"div",63),r.DNE(283,Zn,11,8,"div",64),r.k0s()()()(),r.DNE(284,Kn,4,0,"div",65),r.nI1(285,"async"),r.k0s()),2&F){const Y=r.sdS(134);let yt;r.R7$(13),r.JRh(r.i5U(14,45,w.currentTime,"medium")),r.R7$(2),r.AVh("operational","Operational"===w.systemStatus),r.R7$(4),r.JRh(w.systemStatus),r.R7$(18),r.Y8G("ngIf",w.criticalAlerts.length>0),r.R7$(8),r.SpI("\u20b9",r.i5U(46,48,w.kpis.totalRevenue,"1.0-0"),""),r.R7$(8),r.SpI("+",w.kpis.monthlyGrowth,"%"),r.R7$(7),r.JRh(r.bMT(61,51,w.kpis.totalOrders)),r.R7$(8),r.SpI("",r.i5U(69,53,w.kpis.avgOrderValue,"INR")," avg"),r.R7$(8),r.JRh(r.bMT(77,56,w.kpis.activeShops)),r.R7$(6),r.SpI("",w.pendingApprovals.shops," pending"),r.R7$(7),r.JRh(r.bMT(90,58,w.kpis.totalCustomers)),r.R7$(8),r.SpI("",w.liveUsers," online"),r.R7$(7),r.SpI("",w.kpis.deliverySuccessRate,"%"),r.R7$(5),r.SpI("",(null==(yt=r.bMT(110,60,w.metrics$))?null:yt.activeDeliveries)||0," active"),r.R7$(8),r.SpI("",w.kpis.conversionRate,"%"),r.R7$(13),r.Y8G("matMenuTriggerFor",Y),r.R7$(10),r.Y8G("data",w.revenueChartData)("options",w.revenueChartOptions)("type","line"),r.R7$(6),r.Y8G("data",w.orderVolumeChartData)("options",w.revenueChartOptions)("type","bar"),r.R7$(6),r.Y8G("data",w.shopDistributionData)("type","doughnut"),r.R7$(6),r.Y8G("data",w.userGrowthData)("type","line"),r.R7$(13),r.Y8G("value",w.systemHealth.cpu),r.R7$(2),r.SpI("",w.systemHealth.cpu,"%"),r.R7$(4),r.Y8G("value",w.systemHealth.memory),r.R7$(2),r.SpI("",w.systemHealth.memory,"%"),r.R7$(5),r.SpI("",w.systemHealth.responseTime,"ms"),r.R7$(5),r.JRh(w.systemHealth.activeConnections),r.R7$(5),r.JRh(w.systemHealth.uptime),r.R7$(13),r.SpI("\u20b9",r.bMT(208,62,w.financialSummary.todayRevenue),""),r.R7$(6),r.SpI("\u20b9",r.bMT(214,64,w.financialSummary.weekRevenue),""),r.R7$(6),r.SpI("\u20b9",r.bMT(220,66,w.financialSummary.monthRevenue),""),r.R7$(6),r.SpI("\u20b9",r.bMT(226,68,w.financialSummary.pendingPayouts),""),r.R7$(6),r.SpI("\u20b9",r.bMT(232,70,w.financialSummary.totalCommission),""),r.R7$(17),r.JRh(w.pendingApprovals.shops),r.R7$(8),r.JRh(w.pendingApprovals.deliveryPartners),r.R7$(8),r.JRh(w.pendingApprovals.withdrawals),r.R7$(10),r.Y8G("ngForOf",w.topShops),r.R7$(9),r.Y8G("ngForOf",w.recentActivities),r.R7$(1),r.Y8G("ngIf",r.bMT(285,72,w.loading$))}},dependencies:[dt.YU,dt.Sq,dt.bT,bt.RN,bt.m2,bt.MM,bt.dh,Ft.$z,Ft.iY,Kt.An,ye.LG,ae.Jl,ae.Jo,Pe.kk,Pe.fb,Pe.Cp,St.jt,St.YE,St.zi,St.C_,St.yE,St.BJ,Rt.HM,Me.j9,dt.Jj,dt.QX,dt.oe,dt.vh],styles:[".super-admin-dashboard[_ngcontent-%COMP%]{padding:var(--chennai-spacing-lg)}.super-admin-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]{margin-bottom:var(--chennai-spacing-xl);border-radius:var(--chennai-radius-lg)}.super-admin-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--chennai-spacing-md)}.super-admin-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .dashboard-title[_ngcontent-%COMP%]{margin:0;font-size:2rem;font-weight:600}.super-admin-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .dashboard-subtitle[_ngcontent-%COMP%]{margin:0;opacity:.8}.super-admin-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;gap:var(--chennai-spacing-md);align-items:center}.super-admin-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%], .super-admin-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .system-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--chennai-spacing-xs);font-size:.875rem}.super-admin-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .system-status.operational[_ngcontent-%COMP%]{color:var(--chennai-banana-leaf-green)}.super-admin-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{display:flex;gap:var(--chennai-spacing-sm);flex-wrap:wrap}.super-admin-dashboard[_ngcontent-%COMP%]   .alerts-section[_ngcontent-%COMP%]{margin-bottom:var(--chennai-spacing-lg)}.super-admin-dashboard[_ngcontent-%COMP%]   .alerts-section[_ngcontent-%COMP%]   .alerts-card[_ngcontent-%COMP%]{border-left:4px solid var(--chennai-temple-red)}.super-admin-dashboard[_ngcontent-%COMP%]   .alerts-section[_ngcontent-%COMP%]   .alerts-card[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{color:var(--chennai-temple-red)}.super-admin-dashboard[_ngcontent-%COMP%]   .alerts-section[_ngcontent-%COMP%]   .alerts-card[_ngcontent-%COMP%]   .alert-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--chennai-spacing-sm);border-bottom:1px solid #eee}.super-admin-dashboard[_ngcontent-%COMP%]   .alerts-section[_ngcontent-%COMP%]   .alerts-card[_ngcontent-%COMP%]   .alert-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.super-admin-dashboard[_ngcontent-%COMP%]   .kpi-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:var(--chennai-spacing-lg);margin-bottom:var(--chennai-spacing-xl)}.super-admin-dashboard[_ngcontent-%COMP%]   .kpi-grid[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]{padding:var(--chennai-spacing-lg);display:flex;align-items:center;gap:var(--chennai-spacing-md);transition:all .3s ease}.super-admin-dashboard[_ngcontent-%COMP%]   .kpi-grid[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:var(--chennai-shadow-xl)}.super-admin-dashboard[_ngcontent-%COMP%]   .kpi-grid[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]   .kpi-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:var(--chennai-radius-round);display:flex;align-items:center;justify-content:center}.super-admin-dashboard[_ngcontent-%COMP%]   .kpi-grid[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]   .kpi-icon.revenue-icon[_ngcontent-%COMP%]{background:var(--chennai-sunrise)}.super-admin-dashboard[_ngcontent-%COMP%]   .kpi-grid[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]   .kpi-icon.orders-icon[_ngcontent-%COMP%]{background:var(--chennai-marina)}.super-admin-dashboard[_ngcontent-%COMP%]   .kpi-grid[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]   .kpi-icon.shops-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4CAF50,#8BC34A)}.super-admin-dashboard[_ngcontent-%COMP%]   .kpi-grid[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]   .kpi-icon.customers-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#FFD700,#FFC107)}.super-admin-dashboard[_ngcontent-%COMP%]   .kpi-grid[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]   .kpi-icon.delivery-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6B46C1,#8B5CF6)}.super-admin-dashboard[_ngcontent-%COMP%]   .kpi-grid[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]   .kpi-icon.conversion-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#F59E0B,#EAB308)}.super-admin-dashboard[_ngcontent-%COMP%]   .kpi-grid[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]   .kpi-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:28px;width:28px;height:28px}.super-admin-dashboard[_ngcontent-%COMP%]   .kpi-grid[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]   .kpi-content[_ngcontent-%COMP%]{flex:1}.super-admin-dashboard[_ngcontent-%COMP%]   .kpi-grid[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]   .kpi-content[_ngcontent-%COMP%]   .kpi-value[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:var(--chennai-charcoal);line-height:1;margin-bottom:var(--chennai-spacing-xs)}.super-admin-dashboard[_ngcontent-%COMP%]   .kpi-grid[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]   .kpi-content[_ngcontent-%COMP%]   .kpi-label[_ngcontent-%COMP%]{color:var(--chennai-ash-gray);font-size:.875rem;text-transform:uppercase;letter-spacing:.5px;margin-bottom:var(--chennai-spacing-xs)}.super-admin-dashboard[_ngcontent-%COMP%]   .kpi-grid[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]   .kpi-content[_ngcontent-%COMP%]   .kpi-trend[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--chennai-spacing-xs);font-size:.75rem}.super-admin-dashboard[_ngcontent-%COMP%]   .kpi-grid[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]   .kpi-content[_ngcontent-%COMP%]   .kpi-trend.positive[_ngcontent-%COMP%]{color:var(--chennai-banana-leaf-green)}.super-admin-dashboard[_ngcontent-%COMP%]   .kpi-grid[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]   .kpi-content[_ngcontent-%COMP%]   .kpi-trend.negative[_ngcontent-%COMP%]{color:var(--chennai-temple-red)}.super-admin-dashboard[_ngcontent-%COMP%]   .kpi-grid[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]   .kpi-content[_ngcontent-%COMP%]   .kpi-trend.neutral[_ngcontent-%COMP%]{color:var(--chennai-ash-gray)}.super-admin-dashboard[_ngcontent-%COMP%]   .kpi-grid[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]   .kpi-content[_ngcontent-%COMP%]   .kpi-trend[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.super-admin-dashboard[_ngcontent-%COMP%]   .kpi-grid[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]   .kpi-content[_ngcontent-%COMP%]   .kpi-badge[_ngcontent-%COMP%]   .pending-badge[_ngcontent-%COMP%]{background:var(--chennai-sunset);color:#fff;padding:2px 8px;border-radius:var(--chennai-radius-sm);font-size:.7rem}.super-admin-dashboard[_ngcontent-%COMP%]   .kpi-grid[_ngcontent-%COMP%]   .kpi-card[_ngcontent-%COMP%]   .kpi-content[_ngcontent-%COMP%]   .kpi-badge[_ngcontent-%COMP%]   .active-badge[_ngcontent-%COMP%]{background:var(--chennai-banana-leaf-green);color:#fff;padding:2px 8px;border-radius:var(--chennai-radius-sm);font-size:.7rem}.super-admin-dashboard[_ngcontent-%COMP%]   .charts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:var(--chennai-spacing-lg);margin-bottom:var(--chennai-spacing-xl)}.super-admin-dashboard[_ngcontent-%COMP%]   .charts-grid[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]{height:400px}.super-admin-dashboard[_ngcontent-%COMP%]   .charts-grid[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{height:300px;display:flex;align-items:center;justify-content:center}.super-admin-dashboard[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:var(--chennai-spacing-lg);margin-bottom:var(--chennai-spacing-xl)}.super-admin-dashboard[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .system-health-card[_ngcontent-%COMP%]   .health-metrics[_ngcontent-%COMP%]   .health-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--chennai-spacing-md)}.super-admin-dashboard[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .system-health-card[_ngcontent-%COMP%]   .health-metrics[_ngcontent-%COMP%]   .health-item[_ngcontent-%COMP%]   .health-label[_ngcontent-%COMP%]{font-weight:500;color:var(--chennai-charcoal)}.super-admin-dashboard[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .system-health-card[_ngcontent-%COMP%]   .health-metrics[_ngcontent-%COMP%]   .health-item[_ngcontent-%COMP%]   .health-value[_ngcontent-%COMP%]{font-weight:600}.super-admin-dashboard[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .system-health-card[_ngcontent-%COMP%]   .health-metrics[_ngcontent-%COMP%]   .health-item[_ngcontent-%COMP%]   .health-value.success[_ngcontent-%COMP%]{color:var(--chennai-banana-leaf-green)}.super-admin-dashboard[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .system-health-card[_ngcontent-%COMP%]   .health-metrics[_ngcontent-%COMP%]   .health-item[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{flex:1;margin:0 var(--chennai-spacing-md)}.super-admin-dashboard[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .financial-summary-card[_ngcontent-%COMP%]   .financial-items[_ngcontent-%COMP%]   .financial-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--chennai-spacing-sm) 0;border-bottom:1px solid #eee}.super-admin-dashboard[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .financial-summary-card[_ngcontent-%COMP%]   .financial-items[_ngcontent-%COMP%]   .financial-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.super-admin-dashboard[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .financial-summary-card[_ngcontent-%COMP%]   .financial-items[_ngcontent-%COMP%]   .financial-item.highlight[_ngcontent-%COMP%]{background:rgba(255,107,53,.1);padding:var(--chennai-spacing-sm);border-radius:var(--chennai-radius-sm);border:none}.super-admin-dashboard[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .financial-summary-card[_ngcontent-%COMP%]   .financial-items[_ngcontent-%COMP%]   .financial-item[_ngcontent-%COMP%]   .financial-label[_ngcontent-%COMP%]{color:var(--chennai-ash-gray);font-weight:500}.super-admin-dashboard[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .financial-summary-card[_ngcontent-%COMP%]   .financial-items[_ngcontent-%COMP%]   .financial-item[_ngcontent-%COMP%]   .financial-value[_ngcontent-%COMP%]{font-weight:600;color:var(--chennai-charcoal)}.super-admin-dashboard[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .approvals-card[_ngcontent-%COMP%]   .approval-items[_ngcontent-%COMP%]   .approval-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--chennai-spacing-md);border-radius:var(--chennai-radius-md);margin-bottom:var(--chennai-spacing-sm);background:var(--chennai-cloud-white);cursor:pointer;transition:all .3s ease}.super-admin-dashboard[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .approvals-card[_ngcontent-%COMP%]   .approval-items[_ngcontent-%COMP%]   .approval-item[_ngcontent-%COMP%]:hover{background:rgba(255,107,53,.1);transform:translate(4px)}.super-admin-dashboard[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .approvals-card[_ngcontent-%COMP%]   .approval-items[_ngcontent-%COMP%]   .approval-item[_ngcontent-%COMP%]   .approval-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--chennai-spacing-sm)}.super-admin-dashboard[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .approvals-card[_ngcontent-%COMP%]   .approval-items[_ngcontent-%COMP%]   .approval-item[_ngcontent-%COMP%]   .approval-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--chennai-saffron)}.super-admin-dashboard[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .approvals-card[_ngcontent-%COMP%]   .approval-items[_ngcontent-%COMP%]   .approval-item[_ngcontent-%COMP%]   .approval-count[_ngcontent-%COMP%]{background:var(--chennai-saffron);color:#fff;width:24px;height:24px;border-radius:var(--chennai-radius-round);display:flex;align-items:center;justify-content:center;font-size:.75rem;font-weight:600}.super-admin-dashboard[_ngcontent-%COMP%]   .performers-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(450px,1fr));gap:var(--chennai-spacing-lg)}.super-admin-dashboard[_ngcontent-%COMP%]   .performers-grid[_ngcontent-%COMP%]   .top-shops-card[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   .rank-badge[_ngcontent-%COMP%]{background:var(--chennai-sunrise);color:#fff;width:32px;height:32px;border-radius:var(--chennai-radius-round);display:flex;align-items:center;justify-content:center;font-weight:600}.super-admin-dashboard[_ngcontent-%COMP%]   .performers-grid[_ngcontent-%COMP%]   .top-shops-card[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin:0 var(--chennai-spacing-xs);color:var(--chennai-ash-gray)}.super-admin-dashboard[_ngcontent-%COMP%]   .performers-grid[_ngcontent-%COMP%]   .activities-card[_ngcontent-%COMP%]   .activity-timeline[_ngcontent-%COMP%]   .activity-item[_ngcontent-%COMP%]{display:flex;gap:var(--chennai-spacing-md);padding:var(--chennai-spacing-md);border-radius:var(--chennai-radius-md);margin-bottom:var(--chennai-spacing-sm);background:var(--chennai-cloud-white)}.super-admin-dashboard[_ngcontent-%COMP%]   .performers-grid[_ngcontent-%COMP%]   .activities-card[_ngcontent-%COMP%]   .activity-timeline[_ngcontent-%COMP%]   .activity-item[_ngcontent-%COMP%]   .activity-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:var(--chennai-radius-round);display:flex;align-items:center;justify-content:center}.super-admin-dashboard[_ngcontent-%COMP%]   .performers-grid[_ngcontent-%COMP%]   .activities-card[_ngcontent-%COMP%]   .activity-timeline[_ngcontent-%COMP%]   .activity-item[_ngcontent-%COMP%]   .activity-icon.activity-order[_ngcontent-%COMP%]{background:var(--chennai-marina)}.super-admin-dashboard[_ngcontent-%COMP%]   .performers-grid[_ngcontent-%COMP%]   .activities-card[_ngcontent-%COMP%]   .activity-timeline[_ngcontent-%COMP%]   .activity-item[_ngcontent-%COMP%]   .activity-icon.activity-shop[_ngcontent-%COMP%]{background:var(--chennai-banana-leaf-green)}.super-admin-dashboard[_ngcontent-%COMP%]   .performers-grid[_ngcontent-%COMP%]   .activities-card[_ngcontent-%COMP%]   .activity-timeline[_ngcontent-%COMP%]   .activity-item[_ngcontent-%COMP%]   .activity-icon.activity-user[_ngcontent-%COMP%]{background:var(--chennai-gold)}.super-admin-dashboard[_ngcontent-%COMP%]   .performers-grid[_ngcontent-%COMP%]   .activities-card[_ngcontent-%COMP%]   .activity-timeline[_ngcontent-%COMP%]   .activity-item[_ngcontent-%COMP%]   .activity-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:20px;width:20px;height:20px}.super-admin-dashboard[_ngcontent-%COMP%]   .performers-grid[_ngcontent-%COMP%]   .activities-card[_ngcontent-%COMP%]   .activity-timeline[_ngcontent-%COMP%]   .activity-item[_ngcontent-%COMP%]   .activity-content[_ngcontent-%COMP%]{flex:1}.super-admin-dashboard[_ngcontent-%COMP%]   .performers-grid[_ngcontent-%COMP%]   .activities-card[_ngcontent-%COMP%]   .activity-timeline[_ngcontent-%COMP%]   .activity-item[_ngcontent-%COMP%]   .activity-content[_ngcontent-%COMP%]   .activity-message[_ngcontent-%COMP%]{font-weight:500;color:var(--chennai-charcoal)}.super-admin-dashboard[_ngcontent-%COMP%]   .performers-grid[_ngcontent-%COMP%]   .activities-card[_ngcontent-%COMP%]   .activity-timeline[_ngcontent-%COMP%]   .activity-item[_ngcontent-%COMP%]   .activity-content[_ngcontent-%COMP%]   .activity-time[_ngcontent-%COMP%]{font-size:.75rem;color:var(--chennai-ash-gray)}.super-admin-dashboard[_ngcontent-%COMP%]   .performers-grid[_ngcontent-%COMP%]   .activities-card[_ngcontent-%COMP%]   .activity-timeline[_ngcontent-%COMP%]   .activity-item[_ngcontent-%COMP%]   .activity-amount[_ngcontent-%COMP%]{font-weight:600;color:var(--chennai-banana-leaf-green)}.super-admin-dashboard[_ngcontent-%COMP%]   .loading-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:rgba(255,255,255,.9);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1000}.super-admin-dashboard[_ngcontent-%COMP%]   .loading-overlay[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-bottom:var(--chennai-spacing-md)}.super-admin-dashboard[_ngcontent-%COMP%]   .loading-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--chennai-charcoal);font-weight:500}@media (max-width: 768px){.super-admin-dashboard[_ngcontent-%COMP%]{padding:var(--chennai-spacing-md)}.super-admin-dashboard[_ngcontent-%COMP%]   .kpi-grid[_ngcontent-%COMP%], .super-admin-dashboard[_ngcontent-%COMP%]   .charts-grid[_ngcontent-%COMP%], .super-admin-dashboard[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%], .super-admin-dashboard[_ngcontent-%COMP%]   .performers-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.super-admin-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:var(--chennai-spacing-md)}.super-admin-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{justify-content:center}}"]})}}return E})();function ui(E,R){if(1&E&&(r.j41(0,"div",29)(1,"span"),r.EFF(2),r.k0s(),r.j41(3,"mat-chip",30),r.EFF(4),r.k0s()()),2&E){const y=R.$implicit;r.R7$(2),r.JRh(y.name),r.R7$(2),r.SpI("",y.rating,"\u2605")}}function _t(E,R){if(1&E&&(r.j41(0,"div",31)(1,"span"),r.EFF(2),r.k0s(),r.j41(3,"span",32),r.EFF(4),r.k0s()()),2&E){const y=R.$implicit;r.R7$(2),r.JRh(y.name),r.R7$(2),r.JRh(y.issue)}}function Jn(E,R){if(1&E){const y=r.RV6();r.j41(0,"mat-list-item")(1,"div",33),r.EFF(2),r.k0s(),r.j41(3,"div",34),r.EFF(4),r.nI1(5,"date"),r.k0s(),r.j41(6,"button",35),r.bIt("click",function(){const Y=r.eBV(y).$implicit,yt=r.XpG();return r.Njj(yt.handleComplaint(Y.id))}),r.j41(7,"mat-icon"),r.EFF(8,"arrow_forward"),r.k0s()()()}if(2&E){const y=R.$implicit;r.R7$(2),r.JRh(y.subject),r.R7$(2),r.Lme("",y.customer," - ",r.i5U(5,3,y.time,"short"),"")}}let we=(()=>{class E{constructor(y,F){this.store=y,this.websocketService=F,this.destroy$=new ke.B,this.metrics={activeShops:0,pendingOrders:0,deliveriesInProgress:0,customerComplaints:0,todayOrders:0,averageDeliveryTime:0,customerSatisfaction:0,shopCompliance:0},this.shopPerformance=[],this.problematicShops=[],this.topRatedShops=[],this.recentOrders=[],this.disputedOrders=[],this.delayedOrders=[],this.openTickets=[],this.escalatedIssues=[],this.customerFeedback=[],this.qualityMetrics={foodQuality:0,packagingQuality:0,deliveryQuality:0,overallQuality:0},this.orderTrendData={labels:[],datasets:[{data:[],label:"Orders",backgroundColor:"#006994",borderColor:"#006994"}]},this.shopPerformanceData={labels:[],datasets:[{data:[],label:"Performance Score",backgroundColor:"#4CAF50"}]},this.customerSatisfactionData={labels:["Very Satisfied","Satisfied","Neutral","Dissatisfied","Very Dissatisfied"],datasets:[{data:[0,0,0,0,0],backgroundColor:["#4CAF50","#8BC34A","#FFC107","#FF9800","#F44336"]}]},this.notifications=[]}ngOnInit(){this.loadDashboardData(),this.setupRealTimeUpdates(),this.startAutoRefresh()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadDashboardData(){this.store.dispatch(Dt.WO({role:"ADMIN",period:"30days"}))}setupRealTimeUpdates(){this.websocketService.connect().pipe((0,pt.Q)(this.destroy$)).subscribe(),this.websocketService.subscribe("/topic/dashboard/admin").pipe((0,pt.Q)(this.destroy$)).subscribe(y=>{this.handleRealTimeUpdate(y)}),this.websocketService.subscribe("/topic/orders/status").pipe((0,pt.Q)(this.destroy$)).subscribe(y=>{this.updateOrderStatus(y)}),this.websocketService.subscribe("/topic/shops/alerts").pipe((0,pt.Q)(this.destroy$)).subscribe(y=>{this.handleShopAlert(y)})}startAutoRefresh(){(0,Ye.Y)(6e4).pipe((0,pt.Q)(this.destroy$)).subscribe(()=>{this.refreshDashboard()})}handleRealTimeUpdate(y){"METRICS"===y.type?this.metrics={...this.metrics,...y.data}:"NEW_COMPLAINT"===y.type&&(this.metrics.customerComplaints++,this.openTickets.unshift(y.data))}updateOrderStatus(y){const F=this.recentOrders.findIndex(w=>w.id===y.id);-1!==F&&(this.recentOrders[F]=y)}handleShopAlert(y){this.notifications.unshift({type:"shop_alert",message:y.message,timestamp:new Date,shopId:y.shopId})}refreshDashboard(){this.store.dispatch(Dt.CY())}viewShopDetails(y){console.log("Viewing shop:",y)}handleComplaint(y){console.log("Handling complaint:",y)}resolveDispute(y){console.log("Resolving dispute:",y)}exportReport(y){console.log("Exporting report:",y)}static{this.\u0275fac=function(F){return new(F||E)(r.rXU(pi.il),r.rXU(Ue.V))}}static{this.\u0275cmp=r.VBU({type:E,selectors:[["app-admin-dashboard"]],decls:108,vars:16,consts:[[1,"admin-dashboard","chennai-dashboard"],[1,"dashboard-header","chennai-header"],[1,"header-content"],[1,"header-actions"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","accent",3,"click"],[1,"metrics-grid"],[1,"metric-card","chennai-card"],[1,"metric-icon","shops"],[1,"metric-info"],[1,"metric-icon","orders"],[1,"metric-icon","delivery"],[1,"metric-icon","complaints"],[1,"content-grid"],[1,"shop-monitoring","chennai-card"],["label","Top Rated"],[1,"shop-list"],["class","shop-item",4,"ngFor","ngForOf"],["label","Need Attention"],["class","shop-item warning",4,"ngFor","ngForOf"],[1,"order-management","chennai-card"],["baseChart","","height","200",3,"data","type"],[1,"support-tickets","chennai-card"],[1,"badge"],[4,"ngFor","ngForOf"],[1,"quality-metrics","chennai-card"],[1,"quality-item"],["mode","determinate",3,"value"],[1,"value"],[1,"shop-item"],["color","primary"],[1,"shop-item","warning"],[1,"issue"],["matListItemTitle",""],["matListItemLine",""],["mat-icon-button","",3,"click"]],template:function(F,w){1&F&&(r.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),r.EFF(4,"Admin Dashboard"),r.k0s(),r.j41(5,"p"),r.EFF(6,"Platform Monitoring & Management"),r.k0s()(),r.j41(7,"div",3)(8,"button",4),r.bIt("click",function(){return w.refreshDashboard()}),r.j41(9,"mat-icon"),r.EFF(10,"refresh"),r.k0s(),r.EFF(11," Refresh "),r.k0s(),r.j41(12,"button",5),r.bIt("click",function(){return w.exportReport("daily")}),r.j41(13,"mat-icon"),r.EFF(14,"download"),r.k0s(),r.EFF(15," Daily Report "),r.k0s()()(),r.j41(16,"div",6)(17,"mat-card",7)(18,"mat-card-content")(19,"div",8)(20,"mat-icon"),r.EFF(21,"store"),r.k0s()(),r.j41(22,"div",9)(23,"h3"),r.EFF(24),r.k0s(),r.j41(25,"p"),r.EFF(26,"Active Shops"),r.k0s()()()(),r.j41(27,"mat-card",7)(28,"mat-card-content")(29,"div",10)(30,"mat-icon"),r.EFF(31,"shopping_cart"),r.k0s()(),r.j41(32,"div",9)(33,"h3"),r.EFF(34),r.k0s(),r.j41(35,"p"),r.EFF(36,"Pending Orders"),r.k0s()()()(),r.j41(37,"mat-card",7)(38,"mat-card-content")(39,"div",11)(40,"mat-icon"),r.EFF(41,"local_shipping"),r.k0s()(),r.j41(42,"div",9)(43,"h3"),r.EFF(44),r.k0s(),r.j41(45,"p"),r.EFF(46,"In Progress"),r.k0s()()()(),r.j41(47,"mat-card",7)(48,"mat-card-content")(49,"div",12)(50,"mat-icon"),r.EFF(51,"report_problem"),r.k0s()(),r.j41(52,"div",9)(53,"h3"),r.EFF(54),r.k0s(),r.j41(55,"p"),r.EFF(56,"Open Complaints"),r.k0s()()()()(),r.j41(57,"div",13)(58,"mat-card",14)(59,"mat-card-header")(60,"mat-card-title"),r.EFF(61,"Shop Performance"),r.k0s()(),r.j41(62,"mat-card-content")(63,"mat-tab-group")(64,"mat-tab",15)(65,"div",16),r.DNE(66,ui,5,2,"div",17),r.k0s()(),r.j41(67,"mat-tab",18)(68,"div",16),r.DNE(69,_t,5,2,"div",19),r.k0s()()()()(),r.j41(70,"mat-card",20)(71,"mat-card-header")(72,"mat-card-title"),r.EFF(73,"Order Overview"),r.k0s()(),r.j41(74,"mat-card-content"),r.nrm(75,"canvas",21),r.k0s()(),r.j41(76,"mat-card",22)(77,"mat-card-header")(78,"mat-card-title"),r.EFF(79,"Customer Support"),r.k0s(),r.j41(80,"span",23),r.EFF(81),r.k0s()(),r.j41(82,"mat-card-content")(83,"mat-list"),r.DNE(84,Jn,9,6,"mat-list-item",24),r.k0s()()(),r.j41(85,"mat-card",25)(86,"mat-card-header")(87,"mat-card-title"),r.EFF(88,"Quality Metrics"),r.k0s()(),r.j41(89,"mat-card-content")(90,"div",26)(91,"span"),r.EFF(92,"Food Quality"),r.k0s(),r.nrm(93,"mat-progress-bar",27),r.j41(94,"span",28),r.EFF(95),r.k0s()(),r.j41(96,"div",26)(97,"span"),r.EFF(98,"Packaging"),r.k0s(),r.nrm(99,"mat-progress-bar",27),r.j41(100,"span",28),r.EFF(101),r.k0s()(),r.j41(102,"div",26)(103,"span"),r.EFF(104,"Delivery"),r.k0s(),r.nrm(105,"mat-progress-bar",27),r.j41(106,"span",28),r.EFF(107),r.k0s()()()()()()),2&F&&(r.R7$(24),r.JRh(w.metrics.activeShops),r.R7$(10),r.JRh(w.metrics.pendingOrders),r.R7$(10),r.JRh(w.metrics.deliveriesInProgress),r.R7$(10),r.JRh(w.metrics.customerComplaints),r.R7$(12),r.Y8G("ngForOf",w.topRatedShops),r.R7$(3),r.Y8G("ngForOf",w.problematicShops),r.R7$(6),r.Y8G("data",w.orderTrendData)("type","line"),r.R7$(6),r.SpI("",w.openTickets.length," Open"),r.R7$(3),r.Y8G("ngForOf",w.openTickets.slice(0,5)),r.R7$(9),r.Y8G("value",w.qualityMetrics.foodQuality),r.R7$(2),r.SpI("",w.qualityMetrics.foodQuality,"%"),r.R7$(4),r.Y8G("value",w.qualityMetrics.packagingQuality),r.R7$(2),r.SpI("",w.qualityMetrics.packagingQuality,"%"),r.R7$(4),r.Y8G("value",w.qualityMetrics.deliveryQuality),r.R7$(2),r.SpI("",w.qualityMetrics.deliveryQuality,"%"))},dependencies:[dt.Sq,bt.RN,bt.m2,bt.MM,bt.dh,Ft.$z,Ft.iY,Kt.An,ae.Jl,St.jt,St.YE,St.C_,St.yE,Rt.HM,$e.mq,$e.T8,Me.j9,dt.vh],styles:[".admin-dashboard[_ngcontent-%COMP%]{padding:var(--chennai-spacing-lg)}.admin-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]{margin-bottom:var(--chennai-spacing-xl);border-radius:var(--chennai-radius-lg)}.admin-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#fff;font-size:1.75rem;font-weight:600}.admin-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.8;color:#fff}.admin-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:var(--chennai-spacing-sm)}.admin-dashboard[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:var(--chennai-spacing-lg);margin-bottom:var(--chennai-spacing-xl)}.admin-dashboard[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]{padding:var(--chennai-spacing-lg)}.admin-dashboard[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--chennai-spacing-md)}.admin-dashboard[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:var(--chennai-radius-round);display:flex;align-items:center;justify-content:center}.admin-dashboard[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-icon.shops[_ngcontent-%COMP%]{background:var(--chennai-banana-leaf-green)}.admin-dashboard[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-icon.orders[_ngcontent-%COMP%]{background:var(--chennai-marina)}.admin-dashboard[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-icon.delivery[_ngcontent-%COMP%]{background:var(--chennai-saffron)}.admin-dashboard[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-icon.complaints[_ngcontent-%COMP%]{background:var(--chennai-temple-red)}.admin-dashboard[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:24px}.admin-dashboard[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 var(--chennai-spacing-xs) 0;font-size:1.5rem;font-weight:700;color:var(--chennai-charcoal)}.admin-dashboard[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--chennai-ash-gray);font-size:.875rem}.admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:var(--chennai-spacing-lg)}.admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .shop-monitoring[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .shop-monitoring[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .order-management[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .order-management[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .support-tickets[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .support-tickets[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .quality-metrics[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .quality-metrics[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%]{margin-bottom:var(--chennai-spacing-sm)}.admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .shop-monitoring[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .shop-monitoring[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .order-management[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .order-management[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .support-tickets[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .support-tickets[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .quality-metrics[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .quality-metrics[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--chennai-spacing-sm);border-radius:var(--chennai-radius-sm)}.admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .shop-monitoring[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%]   .shop-item.warning[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .shop-monitoring[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%]   .shop-item.warning[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .order-management[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%]   .shop-item.warning[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .order-management[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%]   .shop-item.warning[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .support-tickets[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%]   .shop-item.warning[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .support-tickets[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%]   .shop-item.warning[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .quality-metrics[_ngcontent-%COMP%]   .shop-list[_ngcontent-%COMP%]   .shop-item.warning[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .quality-metrics[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%]   .shop-item.warning[_ngcontent-%COMP%]{background:rgba(255,107,53,.1)}.admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .shop-monitoring[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .order-management[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .support-tickets[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .quality-metrics[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--chennai-spacing-md);margin-bottom:var(--chennai-spacing-md)}.admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .shop-monitoring[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child, .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .order-management[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child, .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .support-tickets[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child, .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .quality-metrics[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{min-width:100px;font-weight:500}.admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .shop-monitoring[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .order-management[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .support-tickets[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .quality-metrics[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{flex:1}.admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .shop-monitoring[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .order-management[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .support-tickets[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .quality-metrics[_ngcontent-%COMP%]   .quality-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:600;color:var(--chennai-charcoal)}.admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .support-tickets[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:var(--chennai-temple-red);color:#fff;padding:4px 8px;border-radius:var(--chennai-radius-sm);font-size:.75rem}@media (max-width: 768px){.admin-dashboard[_ngcontent-%COMP%]{padding:var(--chennai-spacing-md)}.admin-dashboard[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%], .admin-dashboard[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.admin-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]{flex-direction:column;gap:var(--chennai-spacing-md);text-align:center}}"]})}}return E})();function Qn(E,R){1&E&&(r.j41(0,"span",46)(1,"mat-icon"),r.EFF(2,"trending_up"),r.k0s(),r.EFF(3," Active "),r.k0s())}function to(E,R){if(1&E&&(r.j41(0,"div",47)(1,"mat-icon"),r.EFF(2,"notifications_active"),r.k0s(),r.j41(3,"span"),r.EFF(4),r.k0s(),r.j41(5,"mat-icon",48),r.EFF(6,"chevron_right"),r.k0s()()),2&E){const y=r.XpG();r.R7$(4),r.SpI("",y.inventory.lowStock+y.inventory.outOfStock," items need attention")}}function xt(E,R){if(1&E){const y=r.RV6();r.j41(0,"button",49),r.bIt("click",function(){const Y=r.eBV(y).$implicit,yt=r.XpG();return r.Njj(yt.handleQuickAction(Y.action))}),r.j41(1,"div",50)(2,"mat-icon"),r.EFF(3),r.k0s()(),r.j41(4,"span",51),r.EFF(5),r.k0s(),r.j41(6,"mat-icon",52),r.EFF(7,"chevron_right"),r.k0s()()}if(2&E){const y=R.$implicit;r.R7$(1),r.Y8G("ngClass",y.action),r.R7$(2),r.JRh(y.icon),r.R7$(2),r.JRh(y.label)}}function Ui(E,R){if(1&E&&(r.j41(0,"div",57)(1,"div",58)(2,"span",59),r.EFF(3),r.k0s(),r.j41(4,"span",60),r.EFF(5),r.k0s()(),r.j41(6,"div",61)(7,"span",62),r.EFF(8),r.nI1(9,"number"),r.k0s(),r.j41(10,"span",63),r.EFF(11),r.k0s()()()),2&E){const y=R.$implicit;r.R7$(3),r.SpI("#",y.id,""),r.R7$(2),r.JRh(y.customer),r.R7$(3),r.SpI("\u20b9",r.bMT(9,5,y.amount),""),r.R7$(2),r.Y8G("ngClass",null==y.status?null:y.status.toLowerCase()),r.R7$(1),r.JRh(y.status)}}function Vi(E,R){if(1&E&&(r.j41(0,"div",53)(1,"div",19)(2,"h2",20),r.EFF(3,"Recent Orders"),r.k0s(),r.j41(4,"button",54)(5,"mat-icon"),r.EFF(6,"arrow_forward"),r.k0s()()(),r.j41(7,"div",55),r.DNE(8,Ui,12,7,"div",56),r.k0s()()),2&E){const y=r.XpG();r.R7$(8),r.Y8G("ngForOf",y.recentOrders.slice(0,4))}}let fi=(()=>{class E{constructor(y,F){this.store=y,this.websocketService=F,this.destroy$=new ke.B,this.businessMetrics={todayRevenue:0,weekRevenue:0,monthRevenue:0,totalOrders:0,pendingOrders:0,completedOrders:0,avgOrderValue:0,repeatCustomers:0,newCustomers:0,rating:0,totalProducts:0,lowStockItems:0},this.financialSummary={totalEarnings:0,pendingPayouts:0,commission:0,netEarnings:0,lastPayout:null,nextPayout:null},this.inventory={totalItems:0,inStock:0,lowStock:0,outOfStock:0,expiringSoon:0},this.recentOrders=[],this.pendingOrders=[],this.topProducts=[],this.customerAnalytics={totalCustomers:0,newThisMonth:0,repeatRate:0,avgOrderFrequency:0},this.recentReviews=[],this.reviewStats={average:0,total:0,fiveStar:0,fourStar:0,threeStar:0,twoStar:0,oneStar:0},this.revenueChartData={labels:[],datasets:[{data:[],label:"Revenue (\u20b9)",backgroundColor:"rgba(255, 107, 53, 0.2)",borderColor:"#FF6B35",fill:!0}]},this.orderChartData={labels:[],datasets:[{data:[],label:"Orders",backgroundColor:"#006994"}]},this.categoryChartData={labels:[],datasets:[{data:[],backgroundColor:["#FF6B35","#FFD700","#006994","#4CAF50","#C41E3A"]}]},this.customerChartData={labels:["New","Returning"],datasets:[{data:[0,0],backgroundColor:["#FFD700","#FF6B35"]}]},this.quickActions=[{icon:"add_box",label:"Add Product",action:"add-product"},{icon:"inventory",label:"Update Stock",action:"update-stock"},{icon:"local_offer",label:"Create Offer",action:"create-offer"},{icon:"receipt",label:"View Orders",action:"view-orders"}],this.notifications=[]}ngOnInit(){this.loadDashboardData(),this.setupRealTimeUpdates(),this.startAutoRefresh()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadDashboardData(){this.store.dispatch(Dt.WO({role:"SHOP_OWNER",period:"30days"})),this.loadBusinessMetrics(),this.loadFinancialSummary(),this.loadInventoryStatus(),this.loadRecentOrders(),this.loadTopProducts(),this.loadCustomerAnalytics(),this.loadReviews()}setupRealTimeUpdates(){this.websocketService.connect().pipe((0,pt.Q)(this.destroy$)).subscribe(),this.websocketService.subscribe("/topic/shop/dashboard").pipe((0,pt.Q)(this.destroy$)).subscribe(y=>{this.handleRealTimeUpdate(y)}),this.websocketService.subscribe("/topic/shop/orders").pipe((0,pt.Q)(this.destroy$)).subscribe(y=>{this.handleNewOrder(y)}),this.websocketService.subscribe("/topic/shop/inventory").pipe((0,pt.Q)(this.destroy$)).subscribe(y=>{this.handleInventoryAlert(y)})}startAutoRefresh(){(0,Ye.Y)(6e4).pipe((0,pt.Q)(this.destroy$)).subscribe(()=>{this.refreshDashboard()})}handleRealTimeUpdate(y){"REVENUE_UPDATE"===y.type?this.businessMetrics.todayRevenue=y.data.revenue:"ORDER_UPDATE"===y.type&&(this.businessMetrics.pendingOrders=y.data.pending,this.businessMetrics.completedOrders=y.data.completed)}handleNewOrder(y){this.recentOrders.unshift(y),this.pendingOrders.unshift(y),this.businessMetrics.pendingOrders++,this.businessMetrics.todayRevenue+=y.amount,this.notifications.unshift({type:"new_order",message:`New order #${y.orderNumber} received!`,amount:y.amount,timestamp:new Date})}handleInventoryAlert(y){"LOW_STOCK"===y.type&&(this.inventory.lowStock++,this.notifications.unshift({type:"inventory",message:`Low stock alert: ${y.productName}`,timestamp:new Date}))}loadBusinessMetrics(){}loadFinancialSummary(){}loadInventoryStatus(){}loadRecentOrders(){}loadTopProducts(){}loadCustomerAnalytics(){}loadReviews(){}refreshDashboard(){this.store.dispatch(Dt.CY())}handleQuickAction(y){console.log("Quick action:",y)}acceptOrder(y){console.log("Accepting order:",y)}rejectOrder(y){console.log("Rejecting order:",y)}updateInventory(y){console.log("Updating inventory:",y)}respondToReview(y){console.log("Responding to review:",y)}exportReport(y){console.log("Exporting report:",y)}viewAnalytics(){console.log("Viewing detailed analytics")}getGreeting(){const y=(new Date).getHours();return y<12?"morning":y<17?"afternoon":"evening"}getCurrentDate(){return(new Date).toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}getShopOwnerName(){const y=localStorage.getItem("shopData");if(y)try{const F=JSON.parse(y);return F.ownerName||F.shopName||"Shop Owner"}catch{return"Shop Owner"}return"Shop Owner"}formatCurrency(y){return y?y>=1e5?(y/1e5).toFixed(1)+"L":y>=1e3?(y/1e3).toFixed(1)+"K":y.toLocaleString("en-IN"):"0"}static{this.\u0275fac=function(F){return new(F||E)(r.rXU(pi.il),r.rXU(Ue.V))}}static{this.\u0275cmp=r.VBU({type:E,selectors:[["app-shop-owner-dashboard"]],decls:120,vars:22,consts:[[1,"dashboard-wrapper"],[1,"welcome-header"],[1,"welcome-content"],[1,"greeting"],[1,"date-text"],["mat-stroked-button","",1,"refresh-btn",3,"click"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon","blue"],[1,"stat-info"],[1,"stat-value"],[1,"stat-label"],[1,"stat-icon","orange"],[1,"stat-icon","green"],[1,"stat-card","revenue"],[1,"stat-icon","purple"],[1,"content-grid"],[1,"main-column"],[1,"card","revenue-card"],[1,"card-header"],[1,"card-title"],[1,"period-badge"],[1,"revenue-stats"],[1,"revenue-item"],[1,"revenue-label"],[1,"revenue-amount"],[1,"currency"],[1,"amount"],["class","trend up",4,"ngIf"],[1,"revenue-divider"],[1,"trend","neutral"],[1,"card","inventory-card"],["mat-icon-button","","routerLink","/shop-owner/products",1,"card-action"],[1,"inventory-grid"],[1,"inventory-item"],[1,"inv-icon","total"],[1,"inv-value"],[1,"inv-label"],[1,"inv-icon","low"],[1,"inv-icon","out"],["class","inventory-alert","routerLink","/shop-owner/products",4,"ngIf"],[1,"side-column"],[1,"card","actions-card"],[1,"actions-list"],["class","action-btn",3,"click",4,"ngFor","ngForOf"],["class","card orders-card",4,"ngIf"],[1,"trend","up"],["routerLink","/shop-owner/products",1,"inventory-alert"],[1,"arrow"],[1,"action-btn",3,"click"],[1,"action-icon",3,"ngClass"],[1,"action-text"],[1,"action-arrow"],[1,"card","orders-card"],["mat-icon-button","","routerLink","/shop-owner/orders",1,"card-action"],[1,"orders-list"],["class","order-item",4,"ngFor","ngForOf"],[1,"order-item"],[1,"order-info"],[1,"order-id"],[1,"order-customer"],[1,"order-meta"],[1,"order-amount"],[1,"order-status",3,"ngClass"]],template:function(F,w){1&F&&(r.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),r.EFF(4),r.k0s(),r.j41(5,"p",4),r.EFF(6),r.k0s()(),r.j41(7,"button",5),r.bIt("click",function(){return w.refreshDashboard()}),r.j41(8,"mat-icon"),r.EFF(9,"refresh"),r.k0s(),r.EFF(10," Refresh "),r.k0s()(),r.j41(11,"div",6)(12,"div",7)(13,"div",8)(14,"mat-icon"),r.EFF(15,"shopping_bag"),r.k0s()(),r.j41(16,"div",9)(17,"span",10),r.EFF(18),r.k0s(),r.j41(19,"span",11),r.EFF(20,"Today's Orders"),r.k0s()()(),r.j41(21,"div",7)(22,"div",12)(23,"mat-icon"),r.EFF(24,"pending_actions"),r.k0s()(),r.j41(25,"div",9)(26,"span",10),r.EFF(27),r.k0s(),r.j41(28,"span",11),r.EFF(29,"Pending Orders"),r.k0s()()(),r.j41(30,"div",7)(31,"div",13)(32,"mat-icon"),r.EFF(33,"check_circle"),r.k0s()(),r.j41(34,"div",9)(35,"span",10),r.EFF(36),r.k0s(),r.j41(37,"span",11),r.EFF(38,"Completed"),r.k0s()()(),r.j41(39,"div",14)(40,"div",15)(41,"mat-icon"),r.EFF(42,"currency_rupee"),r.k0s()(),r.j41(43,"div",9)(44,"span",10),r.EFF(45),r.k0s(),r.j41(46,"span",11),r.EFF(47,"Today's Revenue"),r.k0s()()()(),r.j41(48,"div",16)(49,"div",17)(50,"div",18)(51,"div",19)(52,"h2",20),r.EFF(53,"Revenue Overview"),r.k0s(),r.j41(54,"span",21),r.EFF(55,"This Month"),r.k0s()(),r.j41(56,"div",22)(57,"div",23)(58,"span",24),r.EFF(59,"Today"),r.k0s(),r.j41(60,"div",25)(61,"span",26),r.EFF(62,"\u20b9"),r.k0s(),r.j41(63,"span",27),r.EFF(64),r.k0s()(),r.DNE(65,Qn,4,0,"span",28),r.k0s(),r.nrm(66,"div",29),r.j41(67,"div",23)(68,"span",24),r.EFF(69,"This Month"),r.k0s(),r.j41(70,"div",25)(71,"span",26),r.EFF(72,"\u20b9"),r.k0s(),r.j41(73,"span",27),r.EFF(74),r.k0s()(),r.j41(75,"span",30)(76,"mat-icon"),r.EFF(77,"calendar_today"),r.k0s(),r.EFF(78," Monthly "),r.k0s()()()(),r.j41(79,"div",31)(80,"div",19)(81,"h2",20),r.EFF(82,"Inventory Status"),r.k0s(),r.j41(83,"button",32)(84,"mat-icon"),r.EFF(85,"arrow_forward"),r.k0s()()(),r.j41(86,"div",33)(87,"div",34)(88,"div",35)(89,"mat-icon"),r.EFF(90,"inventory_2"),r.k0s()(),r.j41(91,"span",36),r.EFF(92),r.k0s(),r.j41(93,"span",37),r.EFF(94,"Total Products"),r.k0s()(),r.j41(95,"div",34)(96,"div",38)(97,"mat-icon"),r.EFF(98,"warning_amber"),r.k0s()(),r.j41(99,"span",36),r.EFF(100),r.k0s(),r.j41(101,"span",37),r.EFF(102,"Low Stock"),r.k0s()(),r.j41(103,"div",34)(104,"div",39)(105,"mat-icon"),r.EFF(106,"error_outline"),r.k0s()(),r.j41(107,"span",36),r.EFF(108),r.k0s(),r.j41(109,"span",37),r.EFF(110,"Out of Stock"),r.k0s()()(),r.DNE(111,to,7,1,"div",40),r.k0s()(),r.j41(112,"div",41)(113,"div",42)(114,"div",19)(115,"h2",20),r.EFF(116,"Quick Actions"),r.k0s()(),r.j41(117,"div",43),r.DNE(118,xt,8,3,"button",44),r.k0s()(),r.DNE(119,Vi,9,1,"div",45),r.k0s()()()),2&F&&(r.R7$(4),r.Lme("Good ",w.getGreeting(),", ",w.getShopOwnerName(),"!"),r.R7$(2),r.JRh(w.getCurrentDate()),r.R7$(12),r.JRh(w.businessMetrics.totalOrders),r.R7$(3),r.AVh("alert",w.businessMetrics.pendingOrders>0),r.R7$(6),r.JRh(w.businessMetrics.pendingOrders),r.R7$(9),r.JRh(w.businessMetrics.completedOrders),r.R7$(9),r.SpI("\u20b9",w.formatCurrency(w.businessMetrics.todayRevenue),""),r.R7$(19),r.JRh(w.formatCurrency(w.businessMetrics.todayRevenue)),r.R7$(1),r.Y8G("ngIf",w.businessMetrics.todayRevenue>0),r.R7$(9),r.JRh(w.formatCurrency(w.businessMetrics.monthRevenue)),r.R7$(18),r.JRh(w.inventory.totalItems),r.R7$(3),r.AVh("warning",w.inventory.lowStock>0),r.R7$(5),r.JRh(w.inventory.lowStock),r.R7$(3),r.AVh("danger",w.inventory.outOfStock>0),r.R7$(5),r.JRh(w.inventory.outOfStock),r.R7$(3),r.Y8G("ngIf",w.inventory.lowStock>0||w.inventory.outOfStock>0),r.R7$(7),r.Y8G("ngForOf",w.quickActions),r.R7$(1),r.Y8G("ngIf",w.recentOrders.length>0))},dependencies:[dt.YU,dt.Sq,dt.bT,We.Wk,Ft.$z,Ft.iY,Kt.An,dt.QX],styles:[".dashboard-wrapper[_ngcontent-%COMP%]{padding:24px;background:#f8fafc;min-height:calc(100vh - 64px)}.welcome-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:28px}.welcome-header[_ngcontent-%COMP%]   .welcome-content[_ngcontent-%COMP%]   .greeting[_ngcontent-%COMP%]{font-size:26px;font-weight:700;color:#1e293b;margin:0 0 4px;letter-spacing:-.5px}.welcome-header[_ngcontent-%COMP%]   .welcome-content[_ngcontent-%COMP%]   .date-text[_ngcontent-%COMP%]{font-size:14px;color:#64748b;margin:0;font-weight:500}.welcome-header[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px 20px;border-radius:12px;border:1px solid #e2e8f0;background:white;color:#475569;font-weight:500;transition:all .2s ease}.welcome-header[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:hover{border-color:#4ade80;color:#16a34a;background:#f0fdf4}.welcome-header[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:20px;margin-bottom:28px}.stat-card[_ngcontent-%COMP%]{background:white;border-radius:16px;padding:20px;display:flex;align-items:center;gap:16px;border:1px solid #f1f5f9;box-shadow:0 1px 3px #0000000a;transition:all .2s ease}.stat-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000014;transform:translateY(-2px)}.stat-card.alert[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffbeb 0%,#fef3c7 100%);border-color:#fcd34d}.stat-card.revenue[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f0fdf4 0%,#dcfce7 100%);border-color:#86efac}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:52px;height:52px;border-radius:14px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px;color:#fff}.stat-card[_ngcontent-%COMP%]   .stat-icon.blue[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6 0%,#2563eb 100%)}.stat-card[_ngcontent-%COMP%]   .stat-icon.orange[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b 0%,#d97706 100%)}.stat-card[_ngcontent-%COMP%]   .stat-icon.green[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4ade80 0%,#22c55e 100%)}.stat-card[_ngcontent-%COMP%]   .stat-icon.purple[_ngcontent-%COMP%]{background:linear-gradient(135deg,#16a34a 0%,#15803d 100%)}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#1e293b;letter-spacing:-.5px}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:13px;color:#64748b;font-weight:500}.content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 380px;gap:24px}.main-column[_ngcontent-%COMP%], .side-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.card[_ngcontent-%COMP%]{background:white;border-radius:16px;border:1px solid #f1f5f9;box-shadow:0 1px 3px #0000000a;overflow:hidden}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px 16px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1e293b;margin:0;letter-spacing:-.2px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]{background:#f0fdf4;color:#16a34a;padding:6px 12px;border-radius:20px;font-size:12px;font-weight:600}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-action[_ngcontent-%COMP%]{width:36px;height:36px;background:#f8fafc;border-radius:10px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#64748b}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-action[_ngcontent-%COMP%]:hover{background:#f0fdf4}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-action[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{color:#16a34a}.revenue-card[_ngcontent-%COMP%]   .revenue-stats[_ngcontent-%COMP%]{display:flex;padding:0 24px 24px;gap:32px}.revenue-card[_ngcontent-%COMP%]   .revenue-item[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:8px}.revenue-card[_ngcontent-%COMP%]   .revenue-item[_ngcontent-%COMP%]   .revenue-label[_ngcontent-%COMP%]{font-size:13px;color:#64748b;font-weight:500}.revenue-card[_ngcontent-%COMP%]   .revenue-item[_ngcontent-%COMP%]   .revenue-amount[_ngcontent-%COMP%]{display:flex;align-items:baseline}.revenue-card[_ngcontent-%COMP%]   .revenue-item[_ngcontent-%COMP%]   .revenue-amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#64748b;margin-right:2px}.revenue-card[_ngcontent-%COMP%]   .revenue-item[_ngcontent-%COMP%]   .revenue-amount[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#1e293b;letter-spacing:-1px}.revenue-card[_ngcontent-%COMP%]   .revenue-item[_ngcontent-%COMP%]   .trend[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:12px;font-weight:600}.revenue-card[_ngcontent-%COMP%]   .revenue-item[_ngcontent-%COMP%]   .trend[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.revenue-card[_ngcontent-%COMP%]   .revenue-item[_ngcontent-%COMP%]   .trend.up[_ngcontent-%COMP%]{color:#16a34a}.revenue-card[_ngcontent-%COMP%]   .revenue-item[_ngcontent-%COMP%]   .trend.neutral[_ngcontent-%COMP%]{color:#64748b}.revenue-card[_ngcontent-%COMP%]   .revenue-divider[_ngcontent-%COMP%]{width:1px;background:linear-gradient(180deg,transparent 0%,#e2e8f0 20%,#e2e8f0 80%,transparent 100%)}.inventory-card[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;padding:0 24px}.inventory-card[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px 16px;background:#f8fafc;border-radius:12px;transition:all .2s ease}.inventory-card[_ngcontent-%COMP%]   .inventory-item.warning[_ngcontent-%COMP%]{background:#fffbeb}.inventory-card[_ngcontent-%COMP%]   .inventory-item.warning[_ngcontent-%COMP%]   .inv-value[_ngcontent-%COMP%]{color:#d97706}.inventory-card[_ngcontent-%COMP%]   .inventory-item.danger[_ngcontent-%COMP%]{background:#fef2f2}.inventory-card[_ngcontent-%COMP%]   .inventory-item.danger[_ngcontent-%COMP%]   .inv-value[_ngcontent-%COMP%]{color:#dc2626}.inventory-card[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .inv-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;display:flex;align-items:center;justify-content:center;margin-bottom:12px}.inventory-card[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .inv-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px;width:22px;height:22px;color:#fff}.inventory-card[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .inv-icon.total[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4ade80 0%,#22c55e 100%)}.inventory-card[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .inv-icon.low[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fbbf24 0%,#f59e0b 100%)}.inventory-card[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .inv-icon.out[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f87171 0%,#ef4444 100%)}.inventory-card[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .inv-value[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#1e293b;letter-spacing:-.5px}.inventory-card[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]   .inv-label[_ngcontent-%COMP%]{font-size:12px;color:#64748b;font-weight:500;margin-top:4px}.inventory-card[_ngcontent-%COMP%]   .inventory-alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin:20px 24px 24px;padding:14px 16px;background:linear-gradient(135deg,#fef3c7 0%,#fde68a 100%);border-radius:12px;cursor:pointer;transition:all .2s ease}.inventory-card[_ngcontent-%COMP%]   .inventory-alert[_ngcontent-%COMP%]:hover{transform:translate(4px)}.inventory-card[_ngcontent-%COMP%]   .inventory-alert[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#b45309;font-size:20px;width:20px;height:20px}.inventory-card[_ngcontent-%COMP%]   .inventory-alert[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;font-size:13px;font-weight:600;color:#92400e}.inventory-card[_ngcontent-%COMP%]   .inventory-alert[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.actions-card[_ngcontent-%COMP%]   .actions-list[_ngcontent-%COMP%]{padding:0 16px 16px;display:flex;flex-direction:column;gap:8px}.actions-card[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px;width:100%;padding:14px 16px;background:#f8fafc;border:1px solid transparent;border-radius:12px;cursor:pointer;transition:all .2s ease}.actions-card[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:white;border-color:#e2e8f0;box-shadow:0 2px 8px #0000000f}.actions-card[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover   .action-arrow[_ngcontent-%COMP%]{transform:translate(4px);color:#4ade80}.actions-card[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.actions-card[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#fff}.actions-card[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .action-icon.add-product[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6 0%,#2563eb 100%)}.actions-card[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .action-icon.update-stock[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4ade80 0%,#22c55e 100%)}.actions-card[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .action-icon.create-offer[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6 0%,#7c3aed 100%)}.actions-card[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .action-icon.view-orders[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b 0%,#d97706 100%)}.actions-card[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .action-text[_ngcontent-%COMP%]{flex:1;font-size:14px;font-weight:600;color:#1e293b;text-align:left}.actions-card[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .action-arrow[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#94a3b8;transition:all .2s ease}.orders-card[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]{padding:0 16px 16px;display:flex;flex-direction:column;gap:8px}.orders-card[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:14px 16px;background:#f8fafc;border-radius:12px;transition:all .2s ease}.orders-card[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]:hover{background:#f1f5f9}.orders-card[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.orders-card[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .order-id[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#1e293b}.orders-card[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .order-customer[_ngcontent-%COMP%]{font-size:12px;color:#64748b}.orders-card[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .order-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:4px}.orders-card[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .order-meta[_ngcontent-%COMP%]   .order-amount[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#1e293b}.orders-card[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .order-meta[_ngcontent-%COMP%]   .order-status[_ngcontent-%COMP%]{font-size:10px;font-weight:600;padding:4px 10px;border-radius:12px;text-transform:uppercase;letter-spacing:.3px}.orders-card[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .order-meta[_ngcontent-%COMP%]   .order-status.pending[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.orders-card[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .order-meta[_ngcontent-%COMP%]   .order-status.processing[_ngcontent-%COMP%]{background:#dbeafe;color:#1d4ed8}.orders-card[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .order-meta[_ngcontent-%COMP%]   .order-status.completed[_ngcontent-%COMP%], .orders-card[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .order-meta[_ngcontent-%COMP%]   .order-status.delivered[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.orders-card[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .order-meta[_ngcontent-%COMP%]   .order-status.cancelled[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}@media (max-width: 1200px){.content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.side-column[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:24px}}@media (max-width: 900px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.side-column[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 600px){.dashboard-wrapper[_ngcontent-%COMP%]{padding:16px}.welcome-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.welcome-header[_ngcontent-%COMP%]   .greeting[_ngcontent-%COMP%]{font-size:22px}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px}.stat-card[_ngcontent-%COMP%]{padding:16px}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:44px;height:44px}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:20px}.inventory-card[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px}.revenue-card[_ngcontent-%COMP%]   .revenue-stats[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.revenue-card[_ngcontent-%COMP%]   .revenue-divider[_ngcontent-%COMP%]{width:100%;height:1px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:16px 16px 12px}.revenue-card[_ngcontent-%COMP%]   .revenue-stats[_ngcontent-%COMP%], .inventory-card[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%], .inventory-card[_ngcontent-%COMP%]   .inventory-alert[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}}"]})}}return E})();var Q=V(4978),Se=V(400),te=V(38);const bi=[{path:"",component:Un,canActivate:[Q.q,Se.K],data:{roles:[te.g.SUPER_ADMIN,te.g.ADMIN]}},{path:"super-admin",component:It,canActivate:[Q.q,Se.K],data:{roles:[te.g.SUPER_ADMIN]}},{path:"admin",component:we,canActivate:[Q.q,Se.K],data:{roles:[te.g.SUPER_ADMIN,te.g.ADMIN]}},{path:"shop-owner",component:fi,canActivate:[Q.q,Se.K],data:{roles:[te.g.SUPER_ADMIN,te.g.SHOP_OWNER]}}];let eo=(()=>{class E{static{this.\u0275fac=function(F){return new(F||E)}}static{this.\u0275mod=r.$C({type:E})}static{this.\u0275inj=r.G2t({imports:[We.iI.forChild(bi),We.iI]})}}return E})(),ee=(()=>{class E{static{this.\u0275fac=function(F){return new(F||E)}}static{this.\u0275mod=r.$C({type:E})}static{this.\u0275inj=r.G2t({imports:[dt.MD,eo,Ne.X1,Ne.YN,bt.Hu,Ft.Hl,Kt.m_,ye.D6,ri.Ve,li.X6,hi.fS,Jt.WX,se,ae.YN,Hi.RG,Pe.Cn,St.Fg,Rt.PO,$e.RI,$i.MY,Me.FR,ai]})}}return E})()},1264:function(gs){var Zt,V;V=()=>(()=>{"use strict";let Zt,V;var dt,Ne,Me,r,si,ai,bt,Ft,Kt,ye,ri,li,hi,Jt,Ii,ji,zi,Ni,h,Be={d:(h,t)=>{for(var e in t)Be.o(t,e)&&!Be.o(h,e)&&Object.defineProperty(h,e,{enumerable:!0,get:t[e]})},o:(h,t)=>Object.prototype.hasOwnProperty.call(h,t)},Bi={};Be.d(Bi,{default:()=>xg}),(h=dt||(dt={})).SVG_NS="http://www.w3.org/2000/svg",h.product="Highcharts",h.version="12.4.0",h.win=typeof window<"u"?window:{},h.doc=h.win.document,h.svg=!!h.doc?.createElementNS?.(h.SVG_NS,"svg")?.createSVGRect,h.pageLang=h.doc?.documentElement?.closest("[lang]")?.lang,h.userAgent=h.win.navigator?.userAgent||"",h.isChrome=h.win.chrome,h.isFirefox=-1!==h.userAgent.indexOf("Firefox"),h.isMS=/(edge|msie|trident)/i.test(h.userAgent)&&!h.win.opera,h.isSafari=!h.isChrome&&-1!==h.userAgent.indexOf("Safari"),h.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(h.userAgent),h.isWebKit=-1!==h.userAgent.indexOf("AppleWebKit"),h.deg2rad=2*Math.PI/360,h.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],h.noop=function(){},h.supportsPassiveEvents=function(){let t=!1;if(!h.isMS){let e=Object.defineProperty({},"passive",{get:function(){t=!0}});h.win.addEventListener&&h.win.removeEventListener&&(h.win.addEventListener("testPassive",h.noop,e),h.win.removeEventListener("testPassive",h.noop,e))}return t}(),h.charts=[],h.composed=[],h.dateFormats={},h.seriesTypes={},h.symbolSizes={},h.chartCount=0;let L=dt,{charts:ps,doc:ci,win:oe}=L;function Ge(h,t,e,i){let n=t?"Highcharts error":"Highcharts warning";32===h&&(h=`${n}: Deprecated member`);let o=Lt(h),s=o?`${n} #${h}: www.highcharts.com/errors/${h}/`:h.toString();if(void 0!==i){let a="";o&&(s+="?"),Rt(i,function(l,c){a+=`\n - ${c}: ${l}`,o&&(s+=encodeURI(c)+"="+encodeURI(l))}),s+=a}$i(L,"displayError",{chart:e,code:h,message:s,params:i},function(){if(t)throw Error(s);oe.console&&-1===Ge.messages.indexOf(s)&&console.warn(s)}),Ge.messages.push(s)}function Bn(h,t){return parseInt(h,t||10)}function Ce(h){return"string"==typeof h}function Oe(h){let t=Object.prototype.toString.call(h);return"[object Array]"===t||"[object Array Iterator]"===t}function ve(h,t){return!(!h||"object"!=typeof h||t&&Oe(h))}function Gi(h){return ve(h)&&"number"==typeof h.nodeType}function Gn(h){let t=h?.constructor;return!(!ve(h,!0)||Gi(h)||!t?.name||"Object"===t.name)}function Lt(h){return"number"==typeof h&&!isNaN(h)&&h<1/0&&h>-1/0}function Qt(h){return null!=h}function Hn(h,t,e){let i,n=Ce(t)&&!Qt(e),o=(s,a)=>{Qt(s)?h.setAttribute(a,s):n?(i=h.getAttribute(a))||"class"!==a||(i=h.getAttribute(a+"Name")):h.removeAttribute(a)};return Ce(t)?o(e,t):Rt(t,o),i}function $n(h){return Oe(h)?h:[h]}function se(h,t){let e;for(e in h||(h={}),t)h[e]=t[e];return h}function He(){let h=arguments,t=h.length;for(let e=0;e<t;e++){let i=h[e];if(null!=i)return i}}function ae(h,t){se(h.style,t)}function Hi(h){return Math.pow(10,Math.floor(Math.log(h)/Math.LN10))}function Pe(h,t){return h>1e14?h:parseFloat(h.toPrecision(t||14))}(Ge||(Ge={})).messages=[],Math.easeInOutSine=function(h){return-.5*(Math.cos(Math.PI*h)-1)};let St=Array.prototype.find?function(h,t){return h.find(t)}:function(h,t){let e,i=h.length;for(e=0;e<i;e++)if(t(h[e],e))return h[e]};function Rt(h,t,e){for(let i in h)Object.hasOwnProperty.call(h,i)&&t.call(e||h[i],h[i],i,h)}function $e(h,t,e){function i(s,a){let l=h.removeEventListener;l&&l.call(h,s,a,!1)}function n(s){let a,l;h.nodeName&&(t?(a={})[t]=!0:a=s,Rt(a,function(c,g){if(s[g])for(l=s[g].length;l--;)i(g,s[g][l].fn)}))}let o="function"==typeof h&&h.prototype||h;if(Object.hasOwnProperty.call(o,"hcEvents")){let s=o.hcEvents;t?e?(s[t]=(s[t]||[]).filter(function(l){return e!==l.fn}),i(t,e)):(n(s),s[t]=[]):(n(s),delete o.hcEvents)}}function $i(h,t,e,i){if(e=e||{},ci?.createEvent&&(h.dispatchEvent||h.fireEvent&&h!==L)){let n=ci.createEvent("Events");n.initEvent(t,!0,!0),e=se(n,e),h.dispatchEvent?h.dispatchEvent(e):h.fireEvent(t,e)}else if(h.hcEvents){e.target||se(e,{preventDefault:function(){e.defaultPrevented=!0},target:h,type:t});let n=[],o=h,s=!1;for(;o.hcEvents;)Object.hasOwnProperty.call(o,"hcEvents")&&o.hcEvents[t]&&(n.length&&(s=!0),n.unshift.apply(n,o.hcEvents[t])),o=Object.getPrototypeOf(o);s&&n.sort((a,l)=>a.order-l.order),n.forEach(a=>{!1===a.fn.call(h,e)&&e.preventDefault()})}i&&!e.defaultPrevented&&i.call(h,e)}let We=function(){let h=Math.random().toString(36).substring(2,9)+"-",t=0;return function(){return"highcharts-"+(Zt?"":h)+t++}}();oe.jQuery&&(oe.jQuery.fn.highcharts=function(){let h=[].slice.call(arguments);if(this[0])return h[0]?(new(L[Ce(h[0])?h.shift():"Chart"])(this[0],h[0],h[1]),this):ps[Hn(this[0],"data-highcharts-chart")]});let G={addEvent:function(h,t,e,i={}){let n="function"==typeof h&&h.prototype||h;Object.hasOwnProperty.call(n,"hcEvents")||(n.hcEvents={});let o=n.hcEvents;L.Point&&h instanceof L.Point&&h.series&&h.series.chart&&(h.series.chart.runTrackerClick=!0);let s=h.addEventListener;return s&&s.call(h,t,e,!!L.supportsPassiveEvents&&{passive:void 0===i.passive?-1!==t.indexOf("touch"):i.passive,capture:!1}),o[t]||(o[t]=[]),o[t].push({fn:e,order:"number"==typeof i.order?i.order:1/0}),o[t].sort((l,c)=>l.order-c.order),function(){$e(h,t,e)}},arrayMax:function(h){let t=h.length,e=h[0];for(;t--;)h[t]>e&&(e=h[t]);return e},arrayMin:function(h){let t=h.length,e=h[0];for(;t--;)h[t]<e&&(e=h[t]);return e},attr:Hn,clamp:function(h,t,e){return h>t?h<e?h:e:t},clearTimeout:function(h){Qt(h)&&clearTimeout(h)},correctFloat:Pe,createElement:function(h,t,e,i,n){let o=ci.createElement(h);return t&&se(o,t),n&&ae(o,{padding:"0",border:"none",margin:"0"}),e&&ae(o,e),i&&i.appendChild(o),o},crisp:function(h,t=0,e){let i=t%2/2,n=e?-1:1;return(Math.round(h*n-i)+i)*n},css:ae,defined:Qt,destroyObjectProperties:function(h,t,e){Rt(h,function(i,n){i!==t&&i?.destroy&&i.destroy(),(i?.destroy||!e)&&delete h[n]})},diffObjects:function(h,t,e,i){let n={};return function o(s,a,l,c){let g=e?a:s;Rt(s,function(d,p){if(!c&&i&&i.indexOf(p)>-1&&a[p]){d=$n(d),l[p]=[];for(let m=0;m<Math.max(d.length,a[p].length);m++)a[p][m]&&(void 0===d[m]?l[p][m]=a[p][m]:(l[p][m]={},o(d[m],a[p][m],l[p][m],c+1)))}else ve(d,!0)&&!d.nodeType?(l[p]=Oe(d)?[]:{},o(d,a[p]||{},l[p],c+1),0===Object.keys(l[p]).length&&("colorAxis"!==p||0!==c)&&delete l[p]):(s[p]!==a[p]||p in s&&!(p in a))&&"__proto__"!==p&&"constructor"!==p&&(l[p]=g[p])})}(h,t,n,0),n},discardElement:function(h){h?.parentElement?.removeChild(h)},erase:function(h,t){let e=h.length;for(;e--;)if(h[e]===t){h.splice(e,1);break}},error:Ge,extend:se,extendClass:function(h,t){let e=function(){};return se(e.prototype=new h,t),e},find:St,fireEvent:$i,getAlignFactor:(h="")=>({center:.5,right:1,middle:.5,bottom:1}[h]||0),getClosestDistance:function(h,t){let e,i,n,o,s=!t;return h.forEach(a=>{if(a.length>1)for(o=i=a.length-1;o>0;o--)(n=a[o]-a[o-1])<0&&!s?(t?.(),t=void 0):n&&(void 0===e||n<e)&&(e=n)}),e},getMagnitude:Hi,getNestedProperty:function(h,t){let e=h.split(".");for(;e.length&&Qt(t);){let i=e.shift();if(void 0===i||"__proto__"===i)return;if("this"===i){let o;return ve(t)&&(o=t["@this"]),o??t}let n=t[i.replace(/[\\'"]/g,"")];if(!Qt(n)||"function"==typeof n||"number"==typeof n.nodeType||n===oe)return;t=n}return t},getStyle:function h(t,e,i){let n;if("width"===e){let s=Math.min(t.offsetWidth,t.scrollWidth),a=t.getBoundingClientRect?.().width;return a<s&&a>=s-1&&(s=Math.floor(a)),Math.max(0,s-(h(t,"padding-left",!0)||0)-(h(t,"padding-right",!0)||0))}if("height"===e)return Math.max(0,Math.min(t.offsetHeight,t.scrollHeight)-(h(t,"padding-top",!0)||0)-(h(t,"padding-bottom",!0)||0));let o=oe.getComputedStyle(t,void 0);return o&&(n=o.getPropertyValue(e),He(i,"opacity"!==e)&&(n=Bn(n))),n},insertItem:function(h,t){let e,i=h.options.index,n=t.length;for(e=h.options.isInternal?n:0;e<n+1;e++)if(!t[e]||Lt(i)&&i<He(t[e].options.index,t[e]._i)||t[e].options.isInternal){t.splice(e,0,h);break}return e},isArray:Oe,isClass:Gn,isDOMElement:Gi,isFunction:function(h){return"function"==typeof h},isNumber:Lt,isObject:ve,isString:Ce,merge:function(h,...t){let e,i=[h,...t],n={},o=function(a,l){return"object"!=typeof a&&(a={}),Rt(l,function(c,g){"__proto__"!==g&&"constructor"!==g&&(a[g]=!ve(c,!0)||Gn(c)||Gi(c)?l[g]:o(a[g]||{},c))}),a};!0===h&&(n=i[1],i=Array.prototype.slice.call(i,2));let s=i.length;for(e=0;e<s;e++)n=o(n,i[e]);return n},normalizeTickInterval:function(h,t,e,i,n){let o,s=h,a=h/(e=He(e,Hi(h)));for(!t&&(t=n?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===i&&(1===e?t=t.filter(function(l){return l%1==0}):e<=.1&&(t=[1/e]))),o=0;o<t.length&&(s=t[o],(!n||!(s*e>=h))&&(n||!(a<=(t[o]+(t[o+1]||t[o]))/2)));o++);return Pe(s*e,-Math.round(Math.log(.001)/Math.LN10))},objectEach:Rt,offset:function(h){let t=ci.documentElement,e=h.parentElement||h.parentNode?h.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:e.top+(oe.pageYOffset||t.scrollTop)-(t.clientTop||0),left:e.left+(oe.pageXOffset||t.scrollLeft)-(t.clientLeft||0),width:e.width,height:e.height}},pad:function(h,t,e){return Array((t||2)+1-String(h).replace("-","").length).join(e||"0")+h},pick:He,pInt:Bn,pushUnique:function(h,t){return 0>h.indexOf(t)&&!!h.push(t)},relativeLength:function(h,t,e){return/%$/.test(h)?t*parseFloat(h)/100+(e||0):parseFloat(h)},removeEvent:$e,replaceNested:function(h,...t){let e,i;do{for(i of(e=h,t))h=h.replace(i[0],i[1])}while(h!==e);return h},splat:$n,stableSort:function(h,t){let e,i,n=h.length;for(i=0;i<n;i++)h[i].safeI=i;for(h.sort(function(o,s){return 0===(e=t(o,s))?o.safeI-s.safeI:e}),i=0;i<n;i++)delete h[i].safeI},syncTimeout:function(h,t,e){return t>0?setTimeout(h,t,e):(h.call(0,e),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(h){return Ce(h)?h.substring(0,1).toUpperCase()+h.substring(1):String(h)},uniqueKey:We,useSerialIds:function(h){return Zt=He(h,Zt)},wrap:function(h,t,e){let i=h[t];h[t]=function(){let n=arguments,o=this;return e.apply(this,[function(){return i.apply(o,arguments.length?arguments:n)}].concat([].slice.call(arguments)))}}},{pageLang:Wn,win:Xe}=L,{defined:Wi,error:Xi,extend:di,isNumber:Yi,isObject:gi,isString:_e,merge:Xn,objectEach:Yn,pad:Ht,splat:Un,timeUnits:ke,ucfirst:Ye}=G,pt=L.isSafari&&Xe.Intl&&!Xe.Intl.DateTimeFormat.prototype.formatRange,pi=class{constructor(h,t){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=Xe.Date,this.update(h),this.lang=t}update(h={}){this.dTLCache={},this.options=h=Xn(!0,this.options,h);let{timezoneOffset:t,useUTC:e,locale:i}=h;this.Date=h.Date||Xe.Date||Date;let n=h.timezone;Wi(e)&&(n=e?"UTC":void 0),t&&t%60==0&&(n="Etc/GMT"+(t>0?"+":"")+t/60),this.variableTimezone="UTC"!==n&&0!==n?.indexOf("Etc/GMT"),this.timezone=n,this.lang&&i&&(this.lang.locale=i),["months","shortMonths","weekdays","shortWeekdays"].forEach(o=>{let s=/months/i.test(o),a=/short/.test(o),l={timeZone:"UTC"};l[s?"month":"weekday"]=a?"short":"long",this[o]=(s?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(c=>this.dateFormat(l,24*(s?31:1)*36e5*c))})}toParts(h){let[t,e,i,n,o,s,a]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},h,"es").split(/(?:, | |\/|:)/g);return[n,i-1,e,o,s,a,Math.floor(Number(h)||0)%1e3,"DLMXJVS".indexOf(t)].map(Number)}dateTimeFormat(h,t,e=this.options.locale||Wn){let i=JSON.stringify(h)+e;_e(h)&&(h=this.str2dtf(h));let n=this.dTLCache[i];if(!n){h.timeZone??(h.timeZone=this.timezone);try{n=new Intl.DateTimeFormat(e,h)}catch(o){/Invalid time zone/i.test(o.message)?(Xi(34),h.timeZone="UTC",n=new Intl.DateTimeFormat(e,h)):Xi(o.message,!1)}}return this.dTLCache[i]=n,n?.format(t)||""}str2dtf(h,t={}){let e={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(e).forEach(i=>{-1!==h.indexOf(i)&&di(t,e[i])}),t}makeTime(h,t,e=1,i=0,n,o,s){let a=this.Date.UTC(h,t,e,i,n||0,o||0,s||0);if("UTC"!==this.timezone){let l=this.getTimezoneOffset(a);if(a+=l,-1!==[2,3,8,9,10,11].indexOf(t)&&(i<5||i>20)){let c=this.getTimezoneOffset(a);l!==c?a+=c-l:l-36e5!==this.getTimezoneOffset(a-36e5)||pt||(a-=36e5)}}return a}parse(h){if(!_e(h))return h??void 0;let t=(h=h.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(h),e=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(h);t||e||(h+="Z");let i=Date.parse(h);return Yi(i)?i+(!t||e?this.getTimezoneOffset(i):0):void 0}getTimezoneOffset(h){if("UTC"!==this.timezone){let[t,e,i,n,o=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},h,"en").split(/(GMT|:)/).map(Number),s=-60*(i+o/60)*6e4;if(Yi(s))return s}return 0}dateFormat(h,t,e){let i=this.lang;if(!Wi(t)||isNaN(t))return i?.invalidDate||"";if(_e(h=h??"%Y-%m-%d %H:%M:%S")){let n,o=/%\[([a-zA-Z]+)\]/g;for(;n=o.exec(h);)h=h.replace(n[0],this.dateTimeFormat(n[1],t,i?.locale))}if(_e(h)&&-1!==h.indexOf("%")){let n=this,[o,s,a,l,c,g,d,p]=this.toParts(t),m=i?.weekdays||this.weekdays,u=i?.shortWeekdays||this.shortWeekdays,f=i?.months||this.months,x=i?.shortMonths||this.shortMonths;Yn(di({a:u?u[p]:m[p].substr(0,3),A:m[p],d:Ht(a),e:Ht(a,2," "),w:p,v:i?.weekFrom??"",b:x[s],B:f[s],m:Ht(s+1),o:s+1,y:o.toString().substr(2,2),Y:o,H:Ht(l),k:l,I:Ht(l%12||12),l:l%12||12,M:Ht(c),p:l<12?"AM":"PM",P:l<12?"am":"pm",S:Ht(g),L:Ht(d,3)},L.dateFormats),function(b,M){if(_e(h))for(;-1!==h.indexOf("%"+M);)h=h.replace("%"+M,"function"==typeof b?b.call(n,t):b)})}else if(gi(h)){let n=(this.getTimezoneOffset(t)||0)/36e5,o=this.timezone||"Etc/GMT"+(n>=0?"+":"")+n,{prefix:s="",suffix:a=""}=h;h=s+this.dateTimeFormat(di({timeZone:o},h),t)+a}return e?Ye(h):h}resolveDTLFormat(h){return gi(h,!0)?gi(h,!0)&&(h=>void 0===h.main)(h)?{main:h}:h:{main:(h=Un(h))[0],from:h[1],to:h[2]}}getDateFormat(h,t,e,i){let n=this.dateFormat("%m-%d %H:%M:%S.%L",t),o="01-01 00:00:00.000",s={millisecond:15,second:12,minute:9,hour:6,day:3},a="millisecond",l=a;for(a in ke){if(h&&h===ke.week&&+this.dateFormat("%w",t)===e&&n.substr(6)===o.substr(6)){a="week";break}if(h&&ke[a]>h){a=l;break}if(s[a]&&n.substr(s[a])!==o.substr(s[a]))break;"week"!==a&&(l=a)}return this.resolveDTLFormat(i[a]).main}},{defined:Ue,extend:Vn,timeUnits:ht}=G,mi=class extends pi{getTimeTicks(h,t,e,i){let x,n=this,o=[],s={},{count:a=1,unitRange:l}=h,[c,g,d,p,m,u]=n.toParts(t),f=(t||0)%1e3;if(i??(i=1),Ue(t)){if(f=l>=ht.second?0:a*Math.floor(f/a),l>=ht.second&&(u=l>=ht.minute?0:a*Math.floor(u/a)),l>=ht.minute&&(m=l>=ht.hour?0:a*Math.floor(m/a)),l>=ht.hour&&(p=l>=ht.day?0:a*Math.floor(p/a)),l>=ht.day&&(d=l>=ht.month?1:Math.max(1,a*Math.floor(d/a))),l>=ht.month&&(g=l>=ht.year?0:a*Math.floor(g/a)),l>=ht.year&&(c-=c%a),l===ht.week){a&&(t=n.makeTime(c,g,d,p,m,u,f));let C=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},t,"es"),O="DLMXJVS".indexOf(C);d+=-O+i+(O<i?-7:0)}t=n.makeTime(c,g,d,p,m,u,f),n.variableTimezone&&Ue(e)&&(x=e-t>4*ht.month||n.getTimezoneOffset(t)!==n.getTimezoneOffset(e));let b=t,M=1;for(;b<e;)o.push(b),l===ht.year?b=n.makeTime(c+M*a,0):l===ht.month?b=n.makeTime(c,g+M*a):!x||l!==ht.day&&l!==ht.week?x&&l===ht.hour&&a>1?b=n.makeTime(c,g,d,p+M*a):b+=l*a:b=n.makeTime(c,g,d+M*a*(l===ht.day?1:7)),M++;o.push(b),l<=ht.hour&&o.length<1e4&&o.forEach(C=>{C%18e5==0&&"000000000"===n.dateFormat("%H%M%S%L",C)&&(s[C]="day")})}return o.info=Vn(h,{higherRanks:s,totalRange:l*a}),o}},{isTouchDevice:qn}=L,{fireEvent:Zn,merge:Kn}=G,It={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{color:"#333333",fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:h=>Math.sqrt(1-Math.pow(h-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:qn?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},ui=new mi(It.time,It.lang),_t={defaultOptions:It,defaultTime:ui,getOptions:function(){return It},setOptions:function(h){return Zn(L,"setOptions",{options:h}),Kn(!0,It,h),h.time&&ui.update(It.time),h.lang&&"locale"in h.lang&&ui.update({locale:h.lang.locale}),h.lang?.chartTitle&&(It.title={...It.title,text:h.lang.chartTitle}),It}},{win:Jn}=L,{isNumber:we,isString:Qn,merge:to,pInt:xt,defined:Ui}=G,Vi=(h,t,e)=>`color-mix(in srgb,${h},${t} ${100*e}%)`,fi=h=>Qn(h)&&!!h&&"none"!==h;class Q{static parse(t){return t?new Q(t):Q.None}constructor(t){let e,i,n,o;this.rgba=[NaN,NaN,NaN,NaN],this.input=t;let s=L.Color;if(s&&s!==Q)return new s(t);if("object"==typeof t&&void 0!==t.stops)this.stops=t.stops.map(a=>new Q(a[1]));else if("string"==typeof t)for(this.input=t=Q.names[t.toLowerCase()]||t,n=Q.parsers.length;n--&&!i;)(e=(o=Q.parsers[n]).regex.exec(t))&&(i=o.parse(e));i&&(this.rgba=i)}get(t){let e=this.input,i=this.rgba;if(this.output)return this.output;if("object"==typeof e&&void 0!==this.stops){let n=to(e);return n.stops=[].slice.call(n.stops),this.stops.forEach((o,s)=>{n.stops[s]=[n.stops[s][0],o.get(t)]}),n}return i&&we(i[0])?"rgb"===t||!t&&1===i[3]?"rgb("+i[0]+","+i[1]+","+i[2]+")":"a"===t?`${i[3]}`:"rgba("+i.join(",")+")":e}brighten(t){let e=this.rgba;if(this.stops)this.stops.forEach(function(i){i.brighten(t)});else if(we(t)&&0!==t)if(we(e[0]))for(let i=0;i<3;i++)e[i]+=xt(255*t),e[i]<0&&(e[i]=0),e[i]>255&&(e[i]=255);else Q.useColorMix&&fi(this.input)&&(this.output=Vi(this.input,t>0?"white":"black",Math.abs(t)));return this}setOpacity(t){return this.rgba[3]=t,this}tweenTo(t,e){let i=this.rgba,n=t.rgba;if(!we(i[0])||!we(n[0]))return Q.useColorMix&&fi(this.input)&&fi(t.input)&&e<.99?Vi(this.input,t.input,e):t.input||"none";let o=1!==n[3]||1!==i[3],s=(l,c)=>l+(i[c]-l)*(1-e),a=n.slice(0,3).map(s).map(Math.round);return o&&a.push(s(n[3],3)),(o?"rgba(":"rgb(")+a.join(",")+")"}}Q.names={white:"#ffffff",black:"#000000"},Q.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(h){return[xt(h[1]),xt(h[2]),xt(h[3]),parseFloat(h[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(h){return[xt(h[1]),xt(h[2]),xt(h[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(h){return[xt(h[1]+h[1],16),xt(h[2]+h[2],16),xt(h[3]+h[3],16),Ui(h[4])?xt(h[4]+h[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(h){return[xt(h[1],16),xt(h[2],16),xt(h[3],16),Ui(h[4])?xt(h[4],16)/255:1]}}],Q.useColorMix=Jn.CSS?.supports("color","color-mix(in srgb,red,blue 9%)"),Q.None=new Q("");let{parse:Se}=Q,{win:te}=L,{isNumber:bi,objectEach:eo}=G,ee=(()=>{class h{constructor(e,i,n){this.pos=NaN,this.options=i,this.elem=e,this.prop=n}dSetter(){let e=this.paths,i=e?.[0],n=e?.[1],o=this.now||0,s=[];if(1!==o&&i&&n)if(i.length===n.length&&o<1)for(let a=0;a<n.length;a++){let l=i[a],c=n[a],g=[];for(let d=0;d<c.length;d++){let p=l[d],m=c[d];g[d]=bi(p)&&bi(m)&&("A"!==c[0]||4!==d&&5!==d)?p+o*(m-p):m}s.push(g)}else s=n;else s=this.toD||[];this.elem.attr("d",s,void 0,!0)}update(){let e=this.elem,i=this.prop,n=this.now,o=this.options.step;this[i+"Setter"]?this[i+"Setter"]():e.attr?e.element&&e.attr(i,n,null,!0):e.style[i]=n+this.unit,o&&o.call(e,n,this)}run(e,i,n){let o=this,s=o.options,a=function(g){return!a.stopped&&o.step(g)},l=te.requestAnimationFrame||function(g){setTimeout(g,13)},c=function(){for(let g=0;g<h.timers.length;g++)h.timers[g]()||h.timers.splice(g--,1);h.timers.length&&l(c)};e!==i||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=e,this.end=i,this.unit=n,this.now=this.start,this.pos=0,a.elem=this.elem,a.prop=this.prop,a()&&1===h.timers.push(a)&&l(c)):(delete s.curAnim[this.prop],s.complete&&0===Object.keys(s.curAnim).length&&s.complete.call(this.elem))}step(e){let i,n,o=+new Date,s=this.options,a=this.elem,l=s.complete,c=s.duration,g=s.curAnim;return a.attr&&!a.element?i=!1:e||o>=c+this.startTime?(this.now=this.end,this.pos=1,this.update(),g[this.prop]=!0,n=!0,eo(g,function(d){!0!==d&&(n=!1)}),n&&l&&l.call(a),i=!1):(this.pos=s.easing((o-this.startTime)/c),this.now=this.start+(this.end-this.start)*this.pos,this.update(),i=!0),i}initPath(e,i,n){let d,p,m,u,o=e.startX,s=e.endX,a=n.slice(),l=e.isArea,c=l?2:1,g=i&&n.length>i.length&&n.hasStackedCliffs,f=i?.slice();if(!f||g)return[a,a];function x(M,C){for(;M.length<p;){let O=M[0],k=C[p-M.length];if(k&&"M"===O[0]&&(M[0]="C"===k[0]?["C",O[1],O[2],O[1],O[2],O[1],O[2]]:["L",O[1],O[2]]),M.unshift(O),l){let P=M.pop();M.push(M[M.length-1],P)}}}function b(M){for(;M.length<p;){let C=M[Math.floor(M.length/c)-1].slice();if("C"===C[0]&&(C[1]=C[5],C[2]=C[6]),l){let O=M[Math.floor(M.length/c)].slice();M.splice(M.length/2,0,C,O)}else M.push(C)}}if(o&&s&&s.length){for(m=0;m<o.length;m++){if(o[m]===s[0]){d=m;break}if(o[0]===s[s.length-o.length+m]){d=m,u=!0;break}if(o[o.length-1]===s[s.length-o.length+m]){d=o.length-m;break}}void 0===d&&(f=[])}return f.length&&bi(d)&&(p=a.length+d*c,u?(x(f,a),b(a)):(x(a,f),b(f))),[f,a]}fillSetter(){h.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,Se(this.start).tweenTo(Se(this.end),this.pos),void 0,!0)}}return h.timers=[],h})(),{defined:E,getStyle:R,isArray:y,isNumber:F,isObject:w,merge:Y,objectEach:yt,pick:ms}=G;function io(h){return w(h)?Y({duration:500,defer:0},h):{duration:500*!!h,defer:0}}function us(h,t){let e=ee.timers.length;for(;e--;)ee.timers[e].elem!==h||t&&t!==ee.timers[e].prop||(ee.timers[e].stopped=!0)}let Mt={animate:function(h,t,e){let i,o,s,a,n="";w(e)||(a=arguments,e={duration:a[2],easing:a[3],complete:a[4]}),F(e.duration)||(e.duration=400),e.easing="function"==typeof e.easing?e.easing:Math[e.easing]||Math.easeInOutSine,e.curAnim=Y(t),yt(t,function(l,c){us(h,c),s=new ee(h,e,c),o=void 0,"d"===c&&y(t.d)?(s.paths=s.initPath(h,h.pathArray,t.d),s.toD=t.d,i=0,o=1):h.attr?i=h.attr(c):(i=parseFloat(R(h,c))||0,"opacity"!==c&&(n="px")),o||(o=l),"string"==typeof o&&o.match("px")&&(o=o.replace(/px/g,"")),s.run(i,o,n)})},animObject:io,getDeferredAnimation:function(h,t,e){let i=io(t),o=0,s=0;return(e?[e]:h.series).forEach(a=>{let l=io(a.options.animation);o=w(t)&&E(t.defer)?i.defer:Math.max(o,l.duration+l.defer),s=Math.min(i.duration,l.duration)}),h.renderer.forExport&&(o=0),{defer:Math.max(0,o-s),duration:Math.min(o,s)}},setAnimation:function(h,t){t.renderer.globalAnimation=ms(h,t.options.chart.animation,!0)},stop:us},{SVG_NS:fs,win:wr}=L,{attr:Sr,createElement:Tr,css:Ar,error:bs,isFunction:Er,isString:xs,objectEach:Ms,splat:Fr}=G,{trustedTypes:no}=wr,qi=no&&Er(no.createPolicy)&&no.createPolicy("highcharts",{createHTML:h=>h}),Lr=qi?qi.createHTML(""):"";class ot{static filterUserAttributes(t){return Ms(t,(e,i)=>{let n=!0;-1===ot.allowedAttributes.indexOf(i)&&(n=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(i)&&(n=xs(e)&&ot.allowedReferences.some(o=>0===e.indexOf(o))),n||(bs(33,!1,void 0,{"Invalid attribute in config":`${i}`}),delete t[i]),xs(e)&&t[i]&&(t[i]=e.replace(/</g,"&lt;"))}),t}static parseStyle(t){return t.split(";").reduce((e,i)=>{let n=i.split(":").map(s=>s.trim()),o=n.shift();return o&&n.length&&(e[o.replace(/-([a-z])/g,s=>s[1].toUpperCase())]=n.join(":")),e},{})}static setElementHTML(t,e){t.innerHTML=ot.emptyHTML,e&&new ot(e).addToDOM(t)}constructor(t){this.nodes="string"==typeof t?this.parseMarkup(t):t}addToDOM(t){return function e(i,n){let o;return Fr(i).forEach(function(s){let a,l=s.tagName,c=s.textContent?L.doc.createTextNode(s.textContent):void 0,g=ot.bypassHTMLFiltering;if(l)if("#text"===l)a=c;else if(-1!==ot.allowedTags.indexOf(l)||g){let p=L.doc.createElementNS("svg"===l?fs:n.namespaceURI||fs,l),m=s.attributes||{};Ms(s,function(u,f){"tagName"!==f&&"attributes"!==f&&"children"!==f&&"style"!==f&&"textContent"!==f&&(m[f]=u)}),Sr(p,g?m:ot.filterUserAttributes(m)),s.style&&Ar(p,s.style),c&&p.appendChild(c),e(s.children||[],p),a=p}else bs(33,!1,void 0,{"Invalid tagName in config":l});a&&n.appendChild(a),o=a}),o}(this.nodes,t)}parseMarkup(t){let e,i=[];t=t.trim().replace(/ style=(["'])/g," data-style=$1");try{e=(new DOMParser).parseFromString(qi?qi.createHTML(t):t,"text/html")}catch{}if(!e){let o=Tr("div");o.innerHTML=t,e={body:o}}let n=(o,s)=>{let a=o.nodeName.toLowerCase(),l={tagName:a};"#text"===a&&(l.textContent=o.textContent||"");let c=o.attributes;if(c){let g={};[].forEach.call(c,d=>{"data-style"===d.name?l.style=ot.parseStyle(d.value):g[d.name]=d.value}),l.attributes=g}if(o.childNodes.length){let g=[];[].forEach.call(o.childNodes,d=>{n(d,g)}),g.length&&(l.children=g)}s.push(l)};return[].forEach.call(e.body.childNodes,o=>n(o,i)),i}}ot.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","disabled","dx","dy","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","result","role","rowspan","scope","slope","src","startOffset","stdDeviation","stroke-linecap","stroke-width","stroke","style","summary","tabindex","tableValues","target","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],ot.allowedReferences=["https://","http://","mailto:","/","../","./","#"],ot.allowedTags=["#text","a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","tbody","td","text","textPath","th","thead","title","tr","tspan","u","ul"],ot.emptyHTML=Lr,ot.bypassHTMLFiltering=!1;let{defaultOptions:ys,defaultTime:Cs}=_t,{pageLang:Rr}=L,{extend:Dr,getNestedProperty:Ir,isArray:jr,isNumber:Os,isObject:zr,isString:Nr,pick:Br,ucfirst:Gr}=G,Zi={add:(h,t)=>h+t,divide:(h,t)=>0!==t?h/t:"",eq:(h,t)=>h==t,each:function(h){let t=arguments[arguments.length-1];return!!jr(h)&&h.map((e,i)=>Ki(t.body,Dr(zr(e)?e:{"@this":e},{"@index":i,"@first":0===i,"@last":i===h.length-1}))).join("")},ge:(h,t)=>h>=t,gt:(h,t)=>h>t,if:h=>!!h,le:(h,t)=>h<=t,lt:(h,t)=>h<t,multiply:(h,t)=>h*t,ne:(h,t)=>h!=t,subtract:(h,t)=>h-t,ucfirst:Gr,unless:h=>!h},vs={},Ps=h=>/^["'].+["']$/.test(h);function Ki(h="",t,e){let p,m,f,i=/\{([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'\u2019= #\(\)]+)\}/g,n=/\(([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/g,o=[],s=/f$/,a=/\.(\d)/,l=e?.options?.lang||ys.lang,c=e?.time||Cs,g=e?.numberFormatter||_s.bind(e),d=(x="")=>{let b;return"true"===x||"false"!==x&&((b=Number(x)).toString()===x?b:Ps(x)?x.slice(1,-1):Ir(x,t))},u=0;for(;null!==(p=i.exec(h));){let x=p,b=n.exec(p[1]);b&&(p=b,f=!0),m?.isBlock||(m={ctx:t,expression:p[1],find:p[0],isBlock:"#"===p[1].charAt(0),start:p.index,startInner:p.index+p[0].length,length:p[0].length});let M=(m.isBlock?x:p)[1].split(" ")[0].replace("#","");Zi[M]&&(m.isBlock&&M===m.fn&&u++,m.fn||(m.fn=M));let C="else"===p[1];if(m.isBlock&&m.fn&&(p[1]===`/${m.fn}`||C))if(u)!C&&u--;else{let O=m.startInner,k=h.substr(O,p.index-O);void 0===m.body?(m.body=k,m.startInner=p.index+p[0].length):m.elseBody=k,m.find+=k+p[0],C||(o.push(m),m=void 0)}else m.isBlock||o.push(m);if(b&&!m?.isBlock)break}return o.forEach(x=>{let b,M,{body:C,elseBody:O,expression:k,fn:P}=x;if(P){let T,v=[x],_=[],S=k.length,A=0;for(M=0;M<=S;M++){let I=k.charAt(M);T||'"'!==I&&"'"!==I?T===I&&(T=""):T=I,T||" "!==I&&M!==S||(_.push(k.substr(A,M-A)),A=M+1)}for(M=Zi[P].length;M--;)v.unshift(d(_[M+1]));b=Zi[P].apply(t,v),x.isBlock&&"boolean"==typeof b&&(b=Ki(b?C:O,t,e))}else{let v=Ps(k)?[k]:k.split(":"),_=(b=d(v.shift()||""))%1!=0;if("number"==typeof b&&(v.length||_)){let S=v.join(":");if(s.test(S)||_){let A=parseInt((S.match(a)||["","-1"])[1],10);null!==b&&(b=g(b,A,l.decimalPoint,S.indexOf(",")>-1?l.thousandsSep:""))}else b=c.dateFormat(S,b)}n.lastIndex=0,n.test(x.find)&&Nr(b)&&(b=`"${b}"`)}h=h.replace(x.find,Br(b,""))}),f?Ki(h,t,e):h}function _s(h,t,e,i){t*=1;let n,o,[s,a]=(h=+h||0).toString().split("e").map(Number),l=this?.options?.lang||ys.lang,c=(h.toString().split(".")[1]||"").split("e")[0].length,g=t,d={};e??(e=l.decimalPoint),i??(i=l.thousandsSep),-1===t?t=Math.min(c,20):Os(t)?t&&a<0&&((o=t+a)>=0?(s=+s.toExponential(o).split("e")[0],t=o):(s=Math.floor(s),h=t<20?+(s*Math.pow(10,a)).toFixed(t):0,a=0)):t=2,a&&(t??(t=2),h=s),Os(t)&&t>=0&&(d.minimumFractionDigits=t,d.maximumFractionDigits=t),""===i&&(d.useGrouping=!1);let p=i||e,m=p?"en":this?.locale||l.locale||Rr,u=JSON.stringify(d)+m;return n=(vs[u]??(vs[u]=new Intl.NumberFormat(m,d))).format(h),p&&(n=n.replace(/([,\.])/g,"_$1").replace(/_\,/g,i??",").replace("_.",e??".")),(t||0!=+n)&&(!(a<0)||g)||(n="0"),a&&0!=+n&&(n+="e"+(a<0?"":"+")+a),n}let At={dateFormat:function(h,t,e){return Cs.dateFormat(h,t,e)},format:Ki,helpers:Zi,numberFormat:_s};!function(h){let t;h.rendererTypes={},h.getRendererType=function(e=t){return h.rendererTypes[e]||h.rendererTypes[t]},h.registerRendererType=function(e,i,n){h.rendererTypes[e]=i,(!t||n)&&(t=e,L.Renderer=i)}}(Ne||(Ne={}));let xi=Ne,{clamp:Hr,pick:$r,pushUnique:Wr,stableSort:oo}=G;(Me||(Me={})).distribute=function h(t,e,i){let d,p,m,f,x,M,n=t,o=n.reducedLen||e,s=(C,O)=>C.target-O.target,a=[],l=t.length,c=[],g=a.push,u=!0,b=0;for(d=l;d--;)b+=t[d].size;if(b>o){for(oo(t,(C,O)=>(O.rank||0)-(C.rank||0)),m=(M=t[0].rank===t[t.length-1].rank)?l/2:-1,p=M?m:l-1;m&&b>o;)f=t[d=Math.floor(p)],Wr(c,d)&&(b-=f.size),p+=m,M&&p>=t.length&&(m/=2,p=m);c.sort((C,O)=>O-C).forEach(C=>g.apply(a,t.splice(C,1)))}for(oo(t,s),t=t.map(C=>({size:C.size,targets:[C.target],align:$r(C.align,.5)}));u;){for(d=t.length;d--;)f=t[d],x=(Math.min.apply(0,f.targets)+Math.max.apply(0,f.targets))/2,f.pos=Hr(x-f.size*f.align,0,e-f.size);for(d=t.length,u=!1;d--;)d>0&&t[d-1].pos+t[d-1].size>t[d].pos&&(t[d-1].size+=t[d].size,t[d-1].targets=t[d-1].targets.concat(t[d].targets),t[d-1].align=.5,t[d-1].pos+t[d-1].size>e&&(t[d-1].pos=e-t[d-1].size),t.splice(d,1),u=!0)}return g.apply(n,a),d=0,t.some(C=>{let O=0;return(C.targets||[]).some(()=>(n[d].pos=C.pos+O,void 0!==i&&Math.abs(n[d].pos-n[d].target)>i?(n.slice(0,d+1).forEach(k=>delete k.pos),n.reducedLen=(n.reducedLen||e)-.1*e,n.reducedLen>.1*e&&h(n,e,i),!0):(O+=n[d].size,d++,!1)))}),oo(n,s),n};let Ji=Me,{animate:Xr,animObject:Yr,stop:ks}=Mt,{deg2rad:ws,doc:Ve,svg:Ur,SVG_NS:Qi,win:Vr,isFirefox:qr}=L,{addEvent:Zr,attr:so,createElement:Kr,crisp:tn,css:Ss,defined:$t,erase:Jr,extend:Mi,fireEvent:ao,getAlignFactor:ro,isArray:Ts,isFunction:As,isNumber:Qr,isObject:tl,isString:Es,merge:lo,objectEach:qe,pick:ie,pInt:en,pushUnique:el,replaceNested:il,syncTimeout:nl,uniqueKey:Fs}=G;class mt{_defaultGetter(t){let e=ie(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0);return/^-?[\d\.]+$/.test(e)&&(e=parseFloat(e)),e}_defaultSetter(t,e,i){i.setAttribute(e,t)}add(t){let e,i=this.renderer,n=this.element;return t&&(this.parentGroup=t),void 0!==this.textStr&&"text"===this.element.nodeName&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(n),this.onAdd&&this.onAdd(),this}addClass(t,e){let i=e?"":this.attr("class")||"";return(t=(t||"").split(/ /g).reduce(function(n,o){return-1===i.indexOf(o)&&n.push(o),n},i?[i]:[]).join(" "))!==i&&this.attr("class",t),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(t,e,i,n=!0){let o=this.renderer,s=o.alignedObjects,a=!!t;t?(this.alignOptions=t,this.alignByTranslate=e,this.alignTo=i):(t=this.alignOptions||{},e=this.alignByTranslate,i=this.alignTo);let l=!i||Es(i)?i||"renderer":void 0;l&&(a&&el(s,this),i=void 0);let c=ie(i,o[l],o),g=(c.x||0)+(t.x||0)+((c.width||0)-(t.width||0))*ro(t.align),d=(c.y||0)+(t.y||0)+((c.height||0)-(t.height||0))*ro(t.verticalAlign),p={"text-align":t?.align};return p[e?"translateX":"x"]=Math.round(g),p[e?"translateY":"y"]=Math.round(d),n&&(this[this.placed?"animate":"attr"](p),this.placed=!0),this.alignAttr=p,this}alignSetter(t){let e={left:"start",center:"middle",right:"end"};e[t]&&(this.alignValue=t,this.element.setAttribute("text-anchor",e[t]))}animate(t,e,i){let n=Yr(ie(e,this.renderer.globalAnimation,!0)),o=n.defer;return Ve.hidden&&(n.duration=0),0!==n.duration?(i&&(n.complete=i),nl(()=>{this.element&&Xr(this,t,n)},o)):(this.attr(t,void 0,i||n.complete),qe(t,function(s,a){n.step&&n.step.call(this,s,{prop:a,pos:1,elem:this})},this)),this}applyTextOutline(t){let e=this.element;-1!==t.indexOf("contrast")&&(t=t.replace(/contrast/g,this.renderer.getContrast(e.style.fill)));let i=t.indexOf(" "),n=t.substring(i+1),o=t.substring(0,i);if(o&&"none"!==o&&L.svg){this.fakeTS=!0,o=o.replace(/(^[\d\.]+)(.*?)$/g,function(g,d,p){return 2*Number(d)+p}),this.removeTextOutline();let s=Ve.createElementNS(Qi,"tspan");so(s,{class:"highcharts-text-outline",fill:n,stroke:n,"stroke-width":o,"stroke-linejoin":"round"});let a=e.querySelector("textPath")||e;[].forEach.call(a.childNodes,g=>{let d=g.cloneNode(!0);d.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(p=>d.removeAttribute(p)),s.appendChild(d)});let l=0;[].forEach.call(a.querySelectorAll("text tspan"),g=>{l+=Number(g.getAttribute("dy"))});let c=Ve.createElementNS(Qi,"tspan");c.textContent="\u200b",so(c,{x:Number(e.getAttribute("x")),dy:-l}),s.appendChild(c),a.insertBefore(s,a.firstChild)}}attr(t,e,i,n){let a,l,g,{element:o}=this,s=mt.symbolCustomAttribs,c=this;return"string"==typeof t&&void 0!==e&&(a=t,(t={})[a]=e),"string"==typeof t?c=(this[t+"Getter"]||this._defaultGetter).call(this,t,o):(qe(t,function(d,p){g=!1,n||ks(this,p),this.symbolName&&-1!==s.indexOf(p)&&(l||(this.symbolAttr(t),l=!0),g=!0),this.rotation&&("x"===p||"y"===p)&&(this.doTransform=!0),g||(this[p+"Setter"]||this._defaultSetter).call(this,d,p,o)},this),this.afterSetters()),i&&i.call(this),c}clip(t){if(t&&!t.clipPath){let e=Fs()+"-",i=this.renderer.createElement("clipPath").attr({id:e}).add(this.renderer.defs);Mi(t,{clipPath:i,id:e,count:0}),t.add(i)}return this.attr("clip-path",t?`url(${this.renderer.url}#${t.id})`:"none")}crisp(t,e){e=Math.round(e||t.strokeWidth||0);let i=t.x||this.x||0,n=t.y||this.y||0,o=(t.width||this.width||0)+i,s=(t.height||this.height||0)+n,a=tn(i,e),l=tn(n,e);return Mi(t,{x:a,y:l,width:tn(o,e)-a,height:tn(s,e)-l}),$t(t.strokeWidth)&&(t.strokeWidth=e),t}complexColor(t,e,i){let o,s,a,l,c,g,d,p,m,u,x,n=this.renderer,f=[];ao(this.renderer,"complexColor",{args:arguments},function(){if(t.radialGradient?s="radialGradient":t.linearGradient&&(s="linearGradient"),s){if(a=t[s],c=n.gradients,g=t.stops,m=i.radialReference,Ts(a)&&(t[s]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===s&&m&&!$t(a.gradientUnits)&&(l=a,a=lo(a,n.getRadialAttr(m,l),{gradientUnits:"userSpaceOnUse"})),qe(a,function(b,M){"id"!==M&&f.push(M,b)}),qe(g,function(b){f.push(b)}),c[f=f.join(",")])u=c[f].attr("id");else{a.id=u=Fs();let b=c[f]=n.createElement(s).attr(a).add(n.defs);b.radAttr=l,b.stops=[],g.forEach(function(M){0===M[1].indexOf("rgba")?(d=(o=Q.parse(M[1])).get("rgb"),p=o.get("a")):(d=M[1],p=1);let C=n.createElement("stop").attr({offset:M[0],"stop-color":d,"stop-opacity":p}).add(b);b.stops.push(C)})}x="url("+n.url+"#"+u+")",i.setAttribute(e,x),i.gradient=f,t.toString=function(){return x}}})}css(t){let o,e=this.styles,i={},n=this.element,s=!e;if(e&&qe(t,function(a,l){e&&e[l]!==a&&(i[l]=a,s=!0)}),s){e&&(t=Mi(e,i)),null===t.width||"auto"===t.width?delete this.textWidth:"text"===n.nodeName.toLowerCase()&&t.width&&(o=this.textWidth=en(t.width)),Mi(this.styles,t),o&&!Ur&&this.renderer.forExport&&delete t.width;let a=qr&&t.fontSize||null;a&&(Qr(a)||/^\d+$/.test(a))&&(t.fontSize+="px");let l=lo(t);n.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(c=>l&&delete l[c]),l.color&&(l.fill=l.color,delete l.color)),Ss(n,l)}return this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t.textOutline&&this.applyTextOutline(t.textOutline)),this}dashstyleSetter(t){let e,i=this["stroke-width"];if("inherit"===i&&(i=1),t){let n=(t=t.toLowerCase()).replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(e=n.length;e--;)n[e]=""+en(n[e])*ie(i,NaN);t=n.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}}destroy(){let s,a,t=this,e=t.element||{},i=t.renderer,n=e.ownerSVGElement,o="SPAN"===e.nodeName&&t.parentGroup||void 0;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,ks(t),t.clipPath&&n){let l=t.clipPath;[].forEach.call(n.querySelectorAll("[clip-path],[CLIP-PATH]"),function(c){c.getAttribute("clip-path").indexOf(l.element.id)>-1&&c.removeAttribute("clip-path")}),t.clipPath=l.destroy()}if(t.stops){for(a=0;a<t.stops.length;a++)t.stops[a].destroy();t.stops.length=0,t.stops=void 0}for(t.safeRemoveChild(e);o?.div&&0===o.div.childNodes.length;)s=o.parentGroup,t.safeRemoveChild(o.div),delete o.div,o=s;t.alignOptions&&Jr(i.alignedObjects,t),qe(t,(l,c)=>{(t[c]?.parentGroup===t||-1!==["connector","foreignObject"].indexOf(c))&&t[c]?.destroy?.(),delete t[c]})}dSetter(t,e,i){Ts(t)&&("string"==typeof t[0]&&(t=this.renderer.pathToSegments(t)),this.pathArray=t,t=t.reduce((n,o,s)=>o?.join?(s?n+" ":"")+o.join(" "):(o||"").toString(),"")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(i.setAttribute(e,t),this[e]=t)}fillSetter(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.complexColor(t,e,i)}hrefSetter(t,e,i){i.setAttributeNS("http://www.w3.org/1999/xlink",e,t)}getBBox(t,e){let i,n,o,s,{alignValue:a,element:l,renderer:c,styles:g,textStr:d}=this,{cache:p,cacheKeys:m}=c,u=l.namespaceURI===this.SVG_NS,f=ie(e,this.rotation,0),x=c.styledMode?l&&mt.prototype.getStyle.call(l,"font-size"):g.fontSize;if($t(d)&&(-1===(s=d.toString()).indexOf("<")&&(s=s.replace(/\d/g,"0")),s+=["",c.rootFontSize,x,f,this.textWidth,a,g.lineClamp,g.textOverflow,g.fontWeight].join(",")),s&&!t&&(i=p[s]),!i||i.polygon){if(u||c.forExport){try{o=this.fakeTS&&function(M){let C=l.querySelector(".highcharts-text-outline");C&&Ss(C,{display:M})},As(o)&&o("none"),i=l.getBBox?Mi({},l.getBBox()):{width:l.offsetWidth,height:l.offsetHeight,x:0,y:0},As(o)&&o("")}catch{}(!i||i.width<0)&&(i={x:0,y:0,width:0,height:0})}else i=this.htmlGetBBox();n=i.height,u&&(i.height=n={"11px,17":14,"13px,20":16}[`${x||""},${Math.round(n)}`]||n),f&&(i=this.getRotatedBox(i,f));let b={bBox:i};ao(this,"afterGetBBox",b),i=b.bBox}if(s&&(""===d||i.height>0)){for(;m.length>250;)delete p[m.shift()];p[s]||m.push(s),p[s]=i}return i}getRotatedBox(t,e){let{x:i,y:n,width:o,height:s}=t,{alignValue:a,translateY:l,rotationOriginX:c=0,rotationOriginY:g=0}=this,d=ro(a),p=Number(this.element.getAttribute("y")||0)-(l?0:n),m=e*ws,u=(e-90)*ws,f=Math.cos(m),x=Math.sin(m),b=o*f,M=o*x,C=Math.cos(u),O=Math.sin(u),[[k,P],[v,_]]=[c,g].map(W=>[W-W*f,W*x]),S=i+d*(o-b)+k+_+p*C,A=S+b,T=A-s*C,I=T-b,N=n+p-d*M-P+v+p*O,B=N+M,j=B-s*O,D=j-M,z=Math.min(S,A,T,I),tt=Math.min(N,B,j,D);return{x:z,y:tt,width:Math.max(S,A,T,I)-z,height:Math.max(N,B,j,D)-tt,polygon:[[S,N],[A,B],[T,j],[I,D]]}}getStyle(t){return Vr.getComputedStyle(this.element||this,"").getPropertyValue(t)}hasClass(t){return-1!==(""+this.attr("class")).split(" ").indexOf(t)}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(t,e){this.onEvents={},this.opacity=1,this.SVG_NS=Qi,this.element="span"===e||"body"===e?Kr(e):Ve.createElementNS(this.SVG_NS,e),this.renderer=t,this.styles={},ao(this,"afterInit")}on(t,e){let{onEvents:i}=this;return i[t]&&i[t](),i[t]=Zr(this.element,t,e),this}opacitySetter(t,e,i){let n=Number(Number(t).toFixed(3));this.opacity=n,i.setAttribute(e,n)}reAlign(){this.alignOptions?.width&&"left"!==this.alignOptions.align&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(t){return this.attr("class",(""+this.attr("class")).replace(Es(t)?RegExp(`(^| )${t}( |$)`):t," ").replace(/ +/g," ").trim())}removeTextOutline(){let t=this.element.querySelector("tspan.highcharts-text-outline");t&&this.safeRemoveChild(t)}safeRemoveChild(t){let e=t.parentNode;e&&e.removeChild(t)}setRadialReference(t){let e=this.element.gradient&&this.renderer.gradients[this.element.gradient]||void 0;return this.element.radialReference=t,e?.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this}shadow(t){let{renderer:e}=this,i=lo(90===this.parentGroup?.rotation?{offsetX:-1,offsetY:-1}:{},tl(t)?t:{}),n=e.shadowDefinition(i);return this.attr({filter:t?`url(${e.url}#${n})`:"none"})}show(t=!0){return this.attr({visibility:t?"inherit":"visible"})}"stroke-widthSetter"(t,e,i){this[e]=t,i.setAttribute(e,t)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let i,t=this.getStyle("stroke-width"),e=0;return/px$/.test(t)?e=en(t):""!==t&&(so(i=Ve.createElementNS(Qi,"rect"),{width:t,"stroke-width":0}),this.element.parentNode.appendChild(i),e=i.getBBox().width,i.parentNode.removeChild(i)),e}symbolAttr(t){let e=this;mt.symbolCustomAttribs.forEach(function(i){e[i]=ie(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})}textSetter(t){t!==this.textStr&&(delete this.textPxLength,this.textStr=t,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(t){let e=this.element,i=e.getElementsByTagName("title")[0]||Ve.createElementNS(this.SVG_NS,"title");e.insertBefore?e.insertBefore(i,e.firstChild):e.appendChild(i),i.textContent=il(ie(t,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let t=this.element;return t.parentNode.appendChild(t),this}translate(t,e){return this.attr({translateX:t,translateY:e})}updateTransform(t="transform"){let{element:e,foreignObject:i,matrix:n,padding:o,rotation:s=0,rotationOriginX:a,rotationOriginY:l,scaleX:c,scaleY:g,text:d,translateX:p=0,translateY:m=0}=this,u=["translate("+p+","+m+")"];$t(n)&&u.push("matrix("+n.join(",")+")"),s&&(u.push("rotate("+s+" "+(a??e.getAttribute("x")??this.x??0)+" "+(l??e.getAttribute("y")??this.y??0)+")"),"SPAN"!==d?.element.tagName||d?.foreignObject||d.attr({rotation:s,rotationOriginX:(a||0)-o,rotationOriginY:(l||0)-o})),($t(c)||$t(g))&&u.push("scale("+ie(c,1)+" "+ie(g,1)+")"),u.length&&!(d||this).textPath&&(i?.element||e).setAttribute(t,u.join(" "))}visibilitySetter(t,e,i){"inherit"===t?i.removeAttribute(e):this[e]!==t&&i.setAttribute(e,t),this[e]=t}xGetter(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)}zIndexSetter(t,e){let l,c,g,p,u,i=this.renderer,n=this.parentGroup,o=(n||i).element||i.box,s=this.element,a=o===i.box,d=!1,m=this.added;if($t(t)?(s.setAttribute("data-z-index",t),this[e]===(t*=1)&&(m=!1)):$t(this[e])&&s.removeAttribute("data-z-index"),this[e]=t,m){for((t=this.zIndex)&&n&&(n.handleZ=!0),u=(l=o.childNodes).length-1;u>=0&&!d;u--)p=!$t(g=(c=l[u]).getAttribute("data-z-index")),c!==s&&(t<0&&p&&!a&&!u?(o.insertBefore(s,l[u]),d=!0):(en(g)<=t||p&&(!$t(t)||t>=0))&&(o.insertBefore(s,l[u+1]),d=!0));d||(o.insertBefore(s,l[3*!!a]),d=!0)}return d}}mt.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],mt.prototype.strokeSetter=mt.prototype.fillSetter,mt.prototype.yGetter=mt.prototype.xGetter,mt.prototype.matrixSetter=mt.prototype.rotationOriginXSetter=mt.prototype.rotationOriginYSetter=mt.prototype.rotationSetter=mt.prototype.scaleXSetter=mt.prototype.scaleYSetter=mt.prototype.translateXSetter=mt.prototype.translateYSetter=mt.prototype.verticalAlignSetter=function(h,t){this[t]=h,this.doTransform=!0};let Wt=mt,{defined:Ls,extend:ol,getAlignFactor:Rs,isNumber:yi,merge:sl,pick:nn,removeEvent:Ds}=G;class Te extends Wt{constructor(t,e,i,n,o,s,a,l,c,g){let d;super(t,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=e,this.x=i,this.y=n,this.anchorX=s,this.anchorY=a,this.baseline=c,this.className=g,this.addClass("button"===g?"highcharts-no-tooltip":"highcharts-label"),g&&this.addClass("highcharts-"+g),this.text=t.text(void 0,0,0,l).attr({zIndex:1}),"string"==typeof o&&((d=/^url\((.*?)\)$/.test(o))||this.renderer.symbols[o])&&(this.symbolKey=o),this.bBox=Te.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=t.styledMode||d,this.deferredAttr={},this.alignFactor=0}alignSetter(t){let e=Rs(t);this.textAlign=t,e!==this.alignFactor&&(this.alignFactor=e,this.bBox&&yi(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(t,e){this.anchorX=t,this.boxAttr(e,Math.round(t)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(t,e){this.anchorY=t,this.boxAttr(e,t-this.ySetting)}boxAttr(t,e){this.box?this.box.attr(t,e):this.deferredAttr[t]=e}css(t){if(t){let e={};t=sl(t),Te.textProps.forEach(i=>{void 0!==t[i]&&(e[i]=t[i],delete t[i])}),this.text.css(e),"fontSize"in e||"fontWeight"in e?this.updateTextPadding():("width"in e||"textOverflow"in e)&&this.updateBoxSize()}return Wt.prototype.css.call(this,t)}destroy(){Ds(this.element,"mouseenter"),Ds(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),Wt.prototype.destroy.call(this)}fillSetter(t,e){t&&(this.needsBox=!0),this.fill=t,this.boxAttr(e,t)}getBBox(t,e){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();let{padding:i,height:n=0,translateX:o=0,translateY:s=0,width:a=0}=this,l=nn(this.paddingLeft,i),c=e??(this.rotation||0),g={width:a,height:n,x:o+this.bBox.x-l,y:s+this.bBox.y-i+this.baselineOffset};return c&&(g=this.getRotatedBox(g,c)),g}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(t){this.heightSetting=t,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:nn(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&Ls(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(t,e){yi(t)?t!==this[e]&&(this[e]=t,this.updateTextPadding()):this[e]=void 0}rSetter(t,e){this.boxAttr(e,t)}strokeSetter(t,e){this.stroke=t,this.boxAttr(e,t)}"stroke-widthSetter"(t,e){t&&(this.needsBox=!0),this["stroke-width"]=t,this.boxAttr(e,t)}"text-alignSetter"(t){this.textAlign=this["text-align"]=t,this.updateTextPadding()}textSetter(t){void 0!==t&&this.text.attr({text:t}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let t,e=this.text,i={},n=this.padding,o=this.bBox=yi(this.widthSetting)&&yi(this.heightSetting)&&!this.textAlign||!Ls(e.textStr)?Te.emptyBBox:e.getBBox(void 0,0);this.width=this.getPaddedWidth(),this.height=(this.heightSetting||o.height||0)+2*n;let s=this.renderer.fontMetrics(e);if(this.baselineOffset=n+Math.min((this.text.firstLineMetrics||s).b,o.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-s.h)/2),this.needsBox&&!e.textPath){if(!this.box){let a=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();a.addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),a.add(this)}i.x=t=this.getCrispAdjust(),i.y=(this.baseline?-this.baselineOffset:0)+t,i.width=Math.round(this.width),i.height=Math.round(this.height),this.box.attr(ol(i,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let t=this.text,e=t.styles.textAlign||this.textAlign;if(!t.textPath){this.updateBoxSize();let i=this.baseline?0:this.baselineOffset,n=(this.paddingLeft??this.padding)+Rs(e)*(this.widthSetting??this.bBox.width);(n!==t.x||i!==t.y)&&(t.attr({align:e,x:n}),void 0!==i&&t.attr("y",i)),t.x=n,t.y=i}}widthSetter(t){this.widthSetting=yi(t)?t:void 0,this.doUpdate=!0}getPaddedWidth(){let t=this.padding,e=nn(this.paddingLeft,t),i=nn(this.paddingRight,t);return(this.widthSetting||this.bBox.width||0)+e+i}xSetter(t){this.x=t,this.alignFactor&&(t-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.anchorX&&(this["forceAnimate:anchorX"]=!0),this.xSetting=Math.round(t),this.attr("translateX",this.xSetting)}ySetter(t){this.anchorY&&(this["forceAnimate:anchorY"]=!0),this.ySetting=this.y=Math.round(t),this.attr("translateY",this.ySetting)}}Te.emptyBBox={width:0,height:0,x:0,y:0},Te.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:Is,isNumber:al,pick:Ci}=G;function js(h,t,e,i,n){let o=[];if(n){let s=n.start||0,a=n.end||0,l=Ci(n.r,e),c=Ci(n.r,i||e),g=2e-4/(n.borderRadius?1:Math.max(l,1)),d=Math.abs(a-s-2*Math.PI)<g;d&&(s=Math.PI/2,a=2.5*Math.PI-g);let p=n.innerR,m=Ci(n.open,d),u=Math.cos(s),f=Math.sin(s),x=Math.cos(a),b=Math.sin(a),M=Ci(n.longArc,a-s-Math.PI<g?0:1),C=["A",l,c,0,M,Ci(n.clockwise,1),h+l*x,t+c*b];C.params={start:s,end:a,cx:h,cy:t},o.push(["M",h+l*u,t+c*f],C),Is(p)&&((C=["A",p,p,0,M,Is(n.clockwise)?1-n.clockwise:0,h+p*u,t+p*f]).params={start:a,end:s,cx:h,cy:t},o.push(m?["M",h+p*x,t+p*b]:["L",h+p*x,t+p*b],C)),m||o.push(["Z"])}return o}function zs(h,t,e,i,n){return n?.r?ho(h,t,e,i,n):[["M",h,t],["L",h+e,t],["L",h+e,t+i],["L",h,t+i],["Z"]]}function ho(h,t,e,i,n){let o=n?.r||0;return[["M",h+o,t],["L",h+e-o,t],["A",o,o,0,0,1,h+e,t+o],["L",h+e,t+i-o],["A",o,o,0,0,1,h+e-o,t+i],["L",h+o,t+i],["A",o,o,0,0,1,h,t+i-o],["L",h,t+o],["A",o,o,0,0,1,h+o,t],["Z"]]}let Ns={arc:js,callout:function(h,t,e,i,n){let o=Math.min(n?.r||0,e,i),s=o+6,a=n?.anchorX,l=n?.anchorY||0,c=ho(h,t,e,i,{r:o});if(!al(a)||a<e&&a>0&&l<i&&l>0)return c;if(h+a>e-s)if(l>t+s&&l<t+i-s)c.splice(3,1,["L",h+e,l-6],["L",h+e+6,l],["L",h+e,l+6],["L",h+e,t+i-o]);else if(a<e){let g=l<t+s;c.splice(g?2:5,0,["L",a,l],["L",h+e-o,g?t:t+i])}else c.splice(3,1,["L",h+e,i/2],["L",a,l],["L",h+e,i/2],["L",h+e,t+i-o]);else if(h+a<s)if(l>t+s&&l<t+i-s)c.splice(7,1,["L",h,l+6],["L",h-6,l],["L",h,l-6],["L",h,t+o]);else if(a>0){let g=l<t+s;c.splice(g?1:6,0,["L",a,l],["L",h+o,g?t:t+i])}else c.splice(7,1,["L",h,i/2],["L",a,l],["L",h,i/2],["L",h,t+o]);else l>i&&a<e-s?c.splice(5,1,["L",a+6,t+i],["L",a,t+i+6],["L",a-6,t+i],["L",h+o,t+i]):l<0&&a>s&&c.splice(1,1,["L",a-6,t],["L",a,t-6],["L",a+6,t],["L",e-o,t]);return c},circle:function(h,t,e,i){return js(h+e/2,t+i/2,e/2,i/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(h,t,e,i){return[["M",h+e/2,t],["L",h+e,t+i/2],["L",h+e/2,t+i],["L",h,t+i/2],["Z"]]},rect:zs,roundedRect:ho,square:zs,triangle:function(h,t,e,i){return[["M",h+e/2,t],["L",h+e,t+i],["L",h,t+i],["Z"]]},"triangle-down":function(h,t,e,i){return[["M",h,t],["L",h+e,t],["L",h+e/2,t+i],["Z"]]}},{doc:co,SVG_NS:rl,win:Bs}=L,{attr:go,extend:ll,fireEvent:hl,isString:cl,objectEach:dl,pick:gl}=G,po=(h,t)=>h.substring(0,t)+"\u2026",{defaultOptions:ml}=_t,{charts:ul,deg2rad:Gs,doc:Ze,isFirefox:Hs,isMS:$s,isWebKit:fl,noop:bl,SVG_NS:xl,symbolSizes:mo,win:uo}=L,{addEvent:on,attr:sn,createElement:Ml,crisp:Ws,css:an,defined:Ae,destroyObjectProperties:yl,extend:Ee,isArray:Cl,isNumber:Fe,isObject:Oi,isString:Ol,merge:fo,pick:bo,pInt:vl,replaceNested:Pl,uniqueKey:_l}=G;class rn{constructor(t,e,i,n,o,s,a){let l,c;this.x=0,this.y=0;let g=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),d=g.element;a||g.css(this.getStyle(n||{})),t.appendChild(d),sn(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&sn(d,"xmlns",this.SVG_NS),this.box=d,this.boxWrapper=g,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(Ze.createTextNode("Created with Highcharts 12.4.0")),this.defs=this.createElement("defs").add(),this.allowHTML=s,this.forExport=o,this.styledMode=a,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=g.getStyle("font-size"),this.setSize(e,i,!1),Hs&&t.getBoundingClientRect&&((l=function(){an(t,{left:0,top:0}),c=t.getBoundingClientRect(),an(t,{left:Math.ceil(c.left)-c.left+"px",top:Math.ceil(c.top)-c.top+"px"})})(),this.unSubPixelFix=on(uo,"resize",l))}definition(t){return new ot([t]).addToDOM(this.defs.element)}getReferenceURL(){if((Hs||fl)&&Ze.getElementsByTagName("base").length){if(!Ae(V)){let t=_l(),e=new ot([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:t},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${t})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(Ze.body);an(e,{position:"fixed",top:0,left:0,zIndex:9e5}),V="hitme"===Ze.elementFromPoint(6,6)?.id,Ze.body.removeChild(e)}if(V)return Pl(uo.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(t){return this.style=Ee({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},t),this.style}setStyle(t){this.boxWrapper.css(this.getStyle(t))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),yl(this.gradients||{}),this.gradients=null,this.defs=t.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(t){return new this.Element(this,t)}getRadialAttr(t,e){return{cx:t[0]-t[2]/2+(e.cx||0)*t[2],cy:t[1]-t[2]/2+(e.cy||0)*t[2],r:(e.r||0)*t[2]}}shadowDefinition(t){let e=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(t).map(n=>`${n}-${t[n]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),i=fo({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},t);return this.defs.element.querySelector(`#${e}`)||this.definition({tagName:"filter",attributes:{id:e,filterUnits:i.filterUnits},children:this.getShadowFilterContent(i)}),e}getShadowFilterContent(t){return[{tagName:"feDropShadow",attributes:{dx:t.offsetX,dy:t.offsetY,"flood-color":t.color,"flood-opacity":Math.min(5*t.opacity,1),stdDeviation:t.width/2}}]}buildText(t){new class{constructor(h){let t=h.styles;this.renderer=h.renderer,this.svgElement=h,this.width=h.textWidth,this.textLineHeight=t?.lineHeight,this.textOutline=t?.textOutline,this.ellipsis="ellipsis"===t?.textOverflow,this.lineClamp=t?.lineClamp,this.noWrap="nowrap"===t?.whiteSpace}buildSVG(){let h=this.svgElement,t=h.element,e=h.renderer,i=gl(h.textStr,"").toString(),n=-1!==i.indexOf("<"),o=t.childNodes,s=!h.added&&e.box,a=[i,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,h.getStyle("font-size"),h.styles.lineClamp,this.width].join(",");if(a!==h.textCache){h.textCache=a,delete h.actualWidth;for(let l=o.length;l--;)t.removeChild(o[l]);if(n||this.ellipsis||this.width||h.textPath||-1!==i.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(i))){if(""!==i){s&&s.appendChild(t);let l=new ot(i);this.modifyTree(l.nodes),l.addToDOM(t),this.modifyDOM(),this.ellipsis&&-1!==(t.textContent||"").indexOf("\u2026")&&h.attr("title",this.unescapeEntities(h.textStr||"",["&lt;","&gt;"])),s&&s.removeChild(t)}}else t.appendChild(co.createTextNode(this.unescapeEntities(i)));cl(this.textOutline)&&h.applyTextOutline&&h.applyTextOutline(this.textOutline)}}modifyDOM(){let h,t=this.svgElement,e=go(t.element,"x");for(t.firstLineMetrics=void 0;(h=t.element.firstChild)&&/^[\s\u200B]*$/.test(h.textContent||" ");)t.element.removeChild(h);[].forEach.call(t.element.querySelectorAll("tspan.highcharts-br"),(s,a)=>{s.nextSibling&&s.previousSibling&&(0===a&&1===s.previousSibling.nodeType&&(t.firstLineMetrics=t.renderer.fontMetrics(s.previousSibling)),go(s,{dy:this.getLineHeight(s.nextSibling),x:e}))});let i=this.width||0;if(!i)return;let n=(s,a)=>{let l=s.textContent||"",c=l.replace(/([^\^])-/g,"$1- ").split(" "),g=!this.noWrap&&(c.length>1||t.element.childNodes.length>1),d=this.getLineHeight(a),p=Math.max(0,i-.8*d),m=0,u=t.actualWidth;if(g){let f=[],x=[];for(;a.firstChild&&a.firstChild!==s;)x.push(a.firstChild),a.removeChild(a.firstChild);for(;c.length;)if(c.length&&!this.noWrap&&m>0&&(f.push(s.textContent||""),s.textContent=c.join(" ").replace(/- /g,"-")),this.truncate(s,void 0,c,0===m&&u||0,i,p,(b,M)=>c.slice(0,M).join(" ").replace(/- /g,"-")),u=t.actualWidth,m++,this.lineClamp&&m>=this.lineClamp){c.length&&(this.truncate(s,s.textContent||"",void 0,0,i,p,po),s.textContent=s.textContent?.replace("\u2026","")+"\u2026");break}x.forEach(b=>{a.insertBefore(b,s)}),f.forEach(b=>{a.insertBefore(co.createTextNode(b),s);let M=co.createElementNS(rl,"tspan");M.textContent="\u200b",go(M,{dy:d,x:e}),a.insertBefore(M,s)})}else this.ellipsis&&l&&this.truncate(s,l,void 0,0,i,p,po)},o=s=>{[].slice.call(s.childNodes).forEach(a=>{a.nodeType===Bs.Node.TEXT_NODE?n(a,s):(-1!==a.className.baseVal.indexOf("highcharts-br")&&(t.actualWidth=0),o(a))})};o(t.element)}getLineHeight(h){let t=h.nodeType===Bs.Node.TEXT_NODE?h.parentElement:h;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(t||this.svgElement.element).h}modifyTree(h){let t=(e,i)=>{let{attributes:n={},children:o,style:s={},tagName:a}=e,l=this.renderer.styledMode;if("b"===a||"strong"===a?l?n.class="highcharts-strong":s.fontWeight="bold":("i"===a||"em"===a)&&(l?n.class="highcharts-emphasized":s.fontStyle="italic"),s?.color&&(s.fill=s.color),"br"===a){n.class="highcharts-br",e.textContent="\u200b";let c=h[i+1];c?.textContent&&(c.textContent=c.textContent.replace(/^ +/gm,""))}else"a"===a&&o&&o.some(c=>"#text"===c.tagName)&&(e.children=[{children:o,tagName:"tspan"}]);"#text"!==a&&"a"!==a&&(e.tagName="tspan"),ll(e,{attributes:n,style:s}),o&&o.filter(c=>"#text"!==c.tagName).forEach(t)};h.forEach(t),hl(this.svgElement,"afterModifyTree",{nodes:h})}truncate(h,t,e,i,n,o,s){let a,l,c=this.svgElement,{rotation:g}=c,d=[],p=e&&!i?1:0,m=(t||e||"").length,u=m;e||(n=o);let f=function(x,b){let M=b||x,C=h.parentNode;if(C&&void 0===d[M]&&C.getSubStringLength)try{d[M]=i+C.getSubStringLength(0,e?M+1:M)}catch{}return d[M]};if(c.rotation=0,i+(l=f(h.textContent.length))>n){for(;p<=m;)u=Math.ceil((p+m)/2),e&&(a=s(e,u)),l=f(u,a&&a.length-1),p===m?p=m+1:l>n?m=u-1:p=u;0===m?h.textContent="":t&&m===t.length-1||(h.textContent=a||s(t||e,u)),this.ellipsis&&l>n&&this.truncate(h,h.textContent||"",void 0,0,n,o,po)}e&&e.splice(0,u),c.actualWidth=l,c.rotation=g}unescapeEntities(h,t){return dl(this.renderer.escapes,function(e,i){t&&-1!==t.indexOf(e)||(h=h.toString().replace(RegExp(e,"g"),i))}),h}}(t).buildSVG()}getContrast(t){if("transparent"===t)return"#000000";let e=Q.parse(t).rgba,i=" clamp(0,calc(9e9*(0.5 - (0.2126*r + 0.7152*g + 0.0722*b))),1)";if(Fe(e[0])||!Q.useColorMix){let n=e.map(s=>{let a=s/255;return a<=.04?a/12.92:Math.pow((a+.055)/1.055,2.4)}),o=.2126*n[0]+.7152*n[1]+.0722*n[2];return 1.05/(o+.05)>(o+.05)/.05?"#FFFFFF":"#000000"}return"color(from "+t+" srgb"+i+i+i+")"}button(t,e,i,n,o={},s,a,l,c,g){let d=this.label(t,e,i,c,void 0,void 0,g,void 0,"button"),p=this.styledMode,m=arguments,u=0;o=fo(ml.global.buttonTheme,o),p&&(delete o.fill,delete o.stroke,delete o["stroke-width"]);let f=o.states||{},x=o.style||{};delete o.states,delete o.style;let b=[ot.filterUserAttributes(o)],M=[x];return p||["hover","select","disabled"].forEach((C,O)=>{b.push(fo(b[0],ot.filterUserAttributes(m[O+5]||f[C]||{}))),M.push(b[O+1].style),delete b[O+1].style}),on(d.element,$s?"mouseover":"mouseenter",function(){3!==u&&d.setState(1)}),on(d.element,$s?"mouseout":"mouseleave",function(){3!==u&&d.setState(u)}),d.setState=(C=0)=>{if(1!==C&&(d.state=u=C),d.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][C]),!p){d.attr(b[C]);let O=M[C];Oi(O)&&d.css(O)}},d.attr(b[0]),!p&&(d.css(Ee({cursor:"default"},x)),g&&d.text.css({pointerEvents:"none"})),d.on("touchstart",C=>C.stopPropagation()).on("click",function(C){3!==u&&n?.call(d,C)})}crispLine(t,e){let[i,n]=t;return Ae(i[1])&&i[1]===n[1]&&(i[1]=n[1]=Ws(i[1],e)),Ae(i[2])&&i[2]===n[2]&&(i[2]=n[2]=Ws(i[2],e)),t}path(t){let e=this.styledMode?{}:{fill:"none"};return Cl(t)?e.d=t:Oi(t)&&Ee(e,t),this.createElement("path").attr(e)}circle(t,e,i){let n=Oi(t)?t:void 0===t?{}:{x:t,y:e,r:i},o=this.createElement("circle");return o.xSetter=o.ySetter=function(s,a,l){l.setAttribute("c"+a,s)},o.attr(n)}arc(t,e,i,n,o,s){let a;Oi(t)?(e=(a=t).y,i=a.r,n=a.innerR,o=a.start,s=a.end,t=a.x):a={innerR:n,start:o,end:s};let l=this.symbol("arc",t,e,i,i,a);return l.r=i,l}rect(t,e,i,n,o,s){let a=Oi(t)?t:void 0===t?{}:{x:t,y:e,r:o,width:Math.max(i||0,0),height:Math.max(n||0,0)},l=this.createElement("rect");return this.styledMode||(void 0!==s&&(a["stroke-width"]=s,Ee(a,l.crisp(a))),a.fill="none"),l.rSetter=function(c,g,d){l.r=c,sn(d,{rx:c,ry:c})},l.rGetter=function(){return l.r||0},l.attr(a)}roundedRect(t){return this.symbol("roundedRect").attr(t)}setSize(t,e,i){this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:bo(i,!0)?void 0:0}),this.alignElements()}g(t){let e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e}image(t,e,i,n,o,s){let a={preserveAspectRatio:"none"};Fe(e)&&(a.x=e),Fe(i)&&(a.y=i),Fe(n)&&(a.width=n),Fe(o)&&(a.height=o);let l=this.createElement("image").attr(a),c=function(g){l.attr({href:t}),s.call(l,g)};if(s){l.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let g=new uo.Image;on(g,"load",c),g.src=t,g.complete&&c({})}else l.attr({href:t});return l}symbol(t,e,i,n,o,s){let a,l,c,g,d=this,p=/^url\((.*?)\)$/,m=p.test(t),u=!m&&(this.symbols[t]?t:"circle"),f=u&&this.symbols[u];if(f)"number"==typeof e&&(l=f.call(this.symbols,e||0,i||0,n||0,o||0,s)),a=this.path(l),d.styledMode||a.attr("fill","none"),Ee(a,{symbolName:u||void 0,x:e,y:i,width:n,height:o}),s&&Ee(a,s);else if(m){c=t.match(p)[1];let x=a=this.image(c);x.imgwidth=bo(s?.width,mo[c]?.width),x.imgheight=bo(s?.height,mo[c]?.height),g=b=>b.attr({width:b.width,height:b.height}),["width","height"].forEach(b=>{x[`${b}Setter`]=function(M,C){this[C]=M;let{alignByTranslate:O,element:k,width:P,height:v,imgwidth:_,imgheight:S}=this,A="width"===C?_:S,T=1;s&&"within"===s.backgroundSize&&P&&v&&_&&S?(T=Math.min(P/_,v/S),sn(k,{width:Math.round(_*T),height:Math.round(S*T)})):k&&A&&k.setAttribute(C,A),!O&&_&&S&&this.translate(((P||0)-_*T)/2,((v||0)-S*T)/2)}}),Ae(e)&&x.attr({x:e,y:i}),x.isImg=!0,x.symbolUrl=t,Ae(x.imgwidth)&&Ae(x.imgheight)?g(x):(x.attr({width:0,height:0}),Ml("img",{onload:function(){let b=ul[d.chartIndex];0===this.width&&(an(this,{position:"absolute",top:"-999em"}),Ze.body.appendChild(this)),mo[c]={width:this.width,height:this.height},x.imgwidth=this.width,x.imgheight=this.height,x.element&&g(x),this.parentNode&&this.parentNode.removeChild(this),d.imgCount--,d.imgCount||!b||b.hasLoaded||b.onload()},src:c}),this.imgCount++)}return a}clipRect(t,e,i,n){return this.rect(t,e,i,n,0)}text(t,e,i,n){let o={};if(n&&(this.allowHTML||!this.forExport))return this.html(t,e,i);o.x=Math.round(e||0),i&&(o.y=Math.round(i)),Ae(t)&&(o.text=t);let s=this.createElement("text").attr(o);return n&&(!this.forExport||this.allowHTML)||(s.xSetter=function(a,l,c){let g=c.getElementsByTagName("tspan"),d=c.getAttribute(l);for(let m,p=0;p<g.length;p++)(m=g[p]).getAttribute(l)===d&&m.setAttribute(l,a);c.setAttribute(l,a)}),s}fontMetrics(t){let e=Fe(t)?t:vl(Wt.prototype.getStyle.call(t,"font-size")||0),i=e<24?e+3:Math.round(1.2*e);return{h:i,b:Math.round(.8*i),f:e}}rotCorr(t,e,i){let n=t;return e&&i&&(n=Math.max(n*Math.cos(e*Gs),4)),{x:-t/3*Math.sin(e*Gs),y:n}}pathToSegments(t){let e=[],i=[],n={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let o=0;o<t.length;o++)Ol(i[0])&&Fe(t[o])&&i.length===n[i[0].toUpperCase()]&&t.splice(o,0,i[0].replace("M","L").replace("m","l")),"string"==typeof t[o]&&(i.length&&e.push(i.slice(0)),i.length=0),i.push(t[o]);return e.push(i.slice(0)),e}label(t,e,i,n,o,s,a,l,c){return new Te(this,t,e,i,n,o,s,a,l,c)}alignElements(){this.alignedObjects.forEach(t=>t.align())}}Ee(rn.prototype,{Element:Wt,SVG_NS:xl,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Ns,draw:bl}),xi.registerRendererType("svg",rn,!0);let{composed:kl,isFirefox:wl}=L,{attr:Sl,css:re,createElement:Tl,defined:Xs,extend:Al,getAlignFactor:El,isNumber:ln,pInt:Fl,pushUnique:Ll}=G;function Ys(h,t,e){let i=this.div?.style;Wt.prototype[`${t}Setter`].call(this,h,t,e),i&&(e.style[t]=i[t]=h)}let Rl=(h,t)=>{if(!h.div){let e=Sl(h.element,"class"),i=h.css,n=Tl("div",e?{className:e}:void 0,{position:"absolute",left:`${h.translateX||0}px`,top:`${h.translateY||0}px`,...h.styles,display:h.display,opacity:h.opacity,visibility:h.visibility},h.parentGroup?.div||t);h.classSetter=(o,s,a)=>{a.setAttribute("class",o),n.className=o},h.translateXSetter=h.translateYSetter=(o,s)=>{h[s]=o,n.style["translateX"===s?"left":"top"]=`${o}px`,h.doTransform=!0},h.scaleXSetter=h.scaleYSetter=(o,s)=>{h[s]=o,h.doTransform=!0},h.opacitySetter=h.visibilitySetter=Ys,h.css=o=>(i.call(h,o),o.cursor&&(n.style.cursor=o.cursor),o.pointerEvents&&(n.style.pointerEvents=o.pointerEvents),h),h.on=function(){return Wt.prototype.on.apply({element:n,onEvents:h.onEvents},arguments),h},h.div=n}return h.div};class Ke extends Wt{static compose(t){Ll(kl,this.compose)&&(t.prototype.html=function(e,i,n){return new Ke(this,"span").attr({text:e,x:Math.round(i),y:Math.round(n)})})}constructor(t,e){super(t,e),Ke.useForeignObject?this.foreignObject=t.createElement("foreignObject").attr({zIndex:2}):this.css({position:"absolute",...t.styledMode?{}:{fontFamily:t.style.fontFamily,fontSize:t.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(t,e,i){this.xCorr=-t*i,this.yCorr=-e}css(t){let e,{element:i}=this,n="SPAN"===i.tagName&&t&&"width"in t,o=n&&t.width;return n&&(delete t.width,this.textWidth=Fl(o)||void 0,e=!0),"ellipsis"===t?.textOverflow&&(t.overflow="hidden",t.whiteSpace="nowrap"),t?.lineClamp&&(t.display="-webkit-box",t.WebkitLineClamp=t.lineClamp,t.WebkitBoxOrient="vertical",t.overflow="hidden"),ln(Number(t?.fontSize))&&(t.fontSize+="px"),Al(this.styles,t),re(i,t),e&&this.updateTransform(),this}htmlGetBBox(){let{element:t}=this;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}updateTransform(){if(!this.added)return void(this.alignOnAdd=!0);let{element:t,foreignObject:e,oldTextWidth:i,renderer:n,rotation:o,rotationOriginX:s,rotationOriginY:a,scaleX:l,scaleY:c,styles:{display:g="inline-block",whiteSpace:d},textAlign:p="left",textWidth:m,translateX:u=0,translateY:f=0,x=0,y:b=0}=this;if(e||re(t,{marginLeft:`${u}px`,marginTop:`${f}px`}),"SPAN"===t.tagName){let M,C=[o,p,t.innerHTML,m,this.textAlign].join(","),O=-1*this.parentGroup?.padding||0;if(m!==i){let _=this.textPxLength?this.textPxLength:(re(t,{width:"",whiteSpace:d||"nowrap"}),t.offsetWidth),S=m||0,A=!n.styledMode&&""===t.style.textOverflow&&t.style.webkitLineClamp;(S>i||_>S||A)&&(/[\-\s\u00AD]/.test(t.textContent||t.innerText)||"ellipsis"===t.style.textOverflow)&&(re(t,{width:(o||l||_>S||A)&&ln(m)?m+"px":"auto",display:g,whiteSpace:d||"normal"}),this.oldTextWidth=m)}e&&(re(t,{display:"inline-block",verticalAlign:"top"}),e.attr({width:n.width,height:n.height})),C!==this.cTT&&(M=n.fontMetrics(t).b,Xs(o)&&!e&&(o!==(this.oldRotation||0)||p!==this.oldAlign)&&re(t,{transform:`rotate(${o}deg)`,transformOrigin:`${O}% ${O}px`}),this.getSpanCorrection(!Xs(o)&&!this.textWidth&&this.textPxLength||t.offsetWidth,M,El(p)));let{xCorr:k=0,yCorr:P=0}=this,v={left:`${x+k}px`,top:`${b+P}px`,textAlign:p,transformOrigin:`${(s??x)-k-x-O}px ${(a??b)-P-b-O}px`};(l||c)&&(v.transform=`scale(${l??1},${c??1})`),e?(super.updateTransform(),ln(x)&&ln(b)?(e.attr({x:x+k,y:b+P,width:t.offsetWidth+3,height:t.offsetHeight,"transform-origin":t.getAttribute("transform-origin")||"0 0"}),re(t,{display:g,textAlign:p})):wl&&e.attr({width:0,height:0})):re(t,v),this.cTT=C,this.oldRotation=o,this.oldAlign=p}}add(t){let{foreignObject:e,renderer:i}=this,n=i.box.parentNode,o=[];if(e)e.add(t),super.add(i.createElement("body").attr({xmlns:"http://www.w3.org/1999/xhtml"}).css({background:"transparent",margin:"0 3px 0 0"}).add(e));else{let s;if(this.parentGroup=t,t&&!(s=t.div)){let a=t;for(;a;)o.push(a),a=a.parentGroup;for(let l of o.reverse())s=Rl(l,n)}(s||n).appendChild(this.element)}return this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(t){t!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,ot.setElementHTML(this.element,t??""),this.textStr=t,this.doTransform=!0)}alignSetter(t){this.alignValue=this.textAlign=t,this.doTransform=!0}xSetter(t,e){this[e]=t,this.doTransform=!0}}let Le=Ke.prototype;Le.visibilitySetter=Le.opacitySetter=Ys,Le.ySetter=Le.rotationSetter=Le.rotationOriginXSetter=Le.rotationOriginYSetter=Le.xSetter,function(h){h.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},h.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:t}=this.axis.chart;return t(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}}(r||(r={}));let Dl=r,{addEvent:Il,isFunction:jl,objectEach:zl,removeEvent:Nl}=G;(si||(si={})).registerEventOptions=function(h,t){h.eventOptions=h.eventOptions||{},zl(t.events,function(e,i){h.eventOptions[i]!==e&&(h.eventOptions[i]&&(Nl(h,i,h.eventOptions[i]),delete h.eventOptions[i]),jl(e)&&(h.eventOptions[i]=e,Il(h,i,e,{order:0})))})};let hn=si,{deg2rad:xo}=L,{clamp:Bl,correctFloat:cn,defined:Mo,destroyObjectProperties:Gl,extend:Us,fireEvent:vi,getAlignFactor:Hl,isNumber:dn,merge:$l,objectEach:Wl,pick:Xt}=G,Je=class{constructor(h,t,e,i,n){this.isNew=!0,this.isNewLabel=!0,this.axis=h,this.pos=t,this.type=e||"",this.parameters=n||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,vi(this,"init"),e||i||this.addLabel()}addLabel(){let f,x,b,h=this,t=h.axis,e=t.options,i=t.chart,n=t.categories,o=t.logarithmic,s=t.names,a=h.pos,l=Xt(h.options?.labels,e.labels),c=t.tickPositions,g=a===c[0],d=a===c[c.length-1],p=(!l.step||1===l.step)&&1===t.tickInterval,m=c.info,u=h.label,M=this.parameters.category||(n?Xt(n[a],s[a],a):a);o&&dn(M)&&(M=cn(o.lin2log(M))),t.dateTime&&(m?f=(x=i.time.resolveDTLFormat(e.dateTimeLabelFormats[!e.grid?.enabled&&m.higherRanks[a]||m.unitName])).main:dn(M)&&(f=t.dateTime.getXDateFormat(M,e.dateTimeLabelFormats||{}))),h.isFirst=g,h.isLast=d;let C={axis:t,chart:i,dateTimeLabelFormat:f,isFirst:g,isLast:d,pos:a,tick:h,tickPositionInfo:m,value:M};vi(this,"labelFormat",C);let O=v=>l.formatter?l.formatter.call(v,v):l.format?(v.text=t.defaultLabelFormatter.call(v),At.format(l.format,v,i)):t.defaultLabelFormatter.call(v),k=O.call(C,C),P=x?.list;h.shortenLabel=P?function(){for(b=0;b<P.length;b++)if(Us(C,{dateTimeLabelFormat:P[b]}),u.attr({text:O.call(C,C)}),u.getBBox().width<t.getSlotWidth(h)-2*(l.padding||0))return;u.attr({text:""})}:void 0,p&&t._addedPlotLB&&h.moveLabel(k,l),Mo(u)||h.movedLabel?u&&u.textStr!==k&&!p&&(!u.textWidth||l.style.width||u.styles.width||u.css({width:null}),u.attr({text:k}),u.textPxLength=u.getBBox().width):(h.label=u=h.createLabel(k,l),h.rotation=0)}createLabel(h,t,e){let i=this.axis,{renderer:n,styledMode:o}=i.chart,s=t.style.whiteSpace,a=Mo(h)&&t.enabled?n.text(h,e?.x,e?.y,t.useHTML).add(i.labelGroup):void 0;return a&&(o||a.css($l(t.style)),a.textPxLength=a.getBBox().width,!o&&s&&a.css({whiteSpace:s})),a}destroy(){Gl(this,this.axis)}getPosition(h,t,e,i){let n=this.axis,o=n.chart,s=i&&o.oldChartHeight||o.chartHeight,a={x:h?cn(n.translate(t+e,void 0,void 0,i)+n.transB):n.left+n.offset+(n.opposite?(i&&o.oldChartWidth||o.chartWidth)-n.right-n.left:0),y:h?s-n.bottom+n.offset-(n.opposite?n.height:0):cn(s-n.translate(t+e,void 0,void 0,i)-n.transB)};return a.y=Bl(a.y,-1e9,1e9),vi(this,"afterGetPosition",{pos:a}),a}getLabelPosition(h,t,e,i,n,o,s,a){let l,c,g=this.axis,d=g.transA,p=g.isLinked&&g.linkedParent?g.linkedParent.reversed:g.reversed,m=g.staggerLines,u=g.tickRotCorr||{x:0,y:0},f=i||g.reserveSpaceDefault?0:-g.labelOffset*("center"===g.labelAlign?.5:1),x=n.distance,b={};return l=0===g.side?e.rotation?-x:-e.getBBox().height:2===g.side?u.y+x:Math.cos(e.rotation*xo)*(u.y-e.getBBox(!1,0).height/2),Mo(n.y)&&(l=0===g.side&&g.horiz?n.y+l:n.y),h=h+Xt(n.x,[0,1,0,-1][g.side]*x)+f+u.x-(o&&i?o*d*(p?-1:1):0),t=t+l-(o&&!i?o*d*(p?1:-1):0),m&&(c=s/(a||1)%m,g.opposite&&(c=m-c-1),t+=c*(g.labelOffset/m)),b.x=h,b.y=Math.round(t),vi(this,"afterGetLabelPosition",{pos:b,tickmarkOffset:o,index:s}),b}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(h,t,e,i,n=!1,o){return o.crispLine([["M",h,t],["L",h+(n?0:-e),t+(n?e:0)]],i)}handleOverflow(h){let f,t=this.axis,e=t.options.labels,i=h.x,n=t.chart.chartWidth,o=t.chart.spacing,s=Xt(t.labelLeft,Math.min(t.pos,o[3])),a=Xt(t.labelRight,Math.max(t.isRadial?0:t.pos+t.len,n-o[1])),l=this.label,c=this.rotation,g=Hl(t.labelAlign||l.attr("align")),d=l.getBBox().width,p=t.getSlotWidth(this),m=p,u=1;c||"justify"!==e.overflow?c<0&&i-g*d<s?f=Math.round(i/Math.cos(c*xo)-s):c>0&&i+g*d>a&&(f=Math.round((n-i)/Math.cos(c*xo))):(i-g*d<s?m=h.x+m*(1-g)-s:i+(1-g)*d>a&&(m=a-h.x+m*g,u=-1),(m=Math.min(p,m))<p&&"center"===t.labelAlign&&(h.x+=u*(p-m-g*(p-Math.min(d,m)))),(d>m||t.autoRotation&&l?.styles?.width)&&(f=m)),f&&l&&(this.shortenLabel?this.shortenLabel():l.css(Us({},{width:Math.floor(f)+"px",lineClamp:+!t.isRadial})))}moveLabel(h,t){let s,e=this,i=e.label,n=e.axis,o=!1;i&&i.textStr===h?(e.movedLabel=i,o=!0,delete e.label):Wl(n.ticks,function(a){o||a.isNew||a===e||!a.label||a.label.textStr!==h||(e.movedLabel=a.label,o=!0,a.labelPos=e.movedLabel.xy,delete a.label)}),!o&&(e.labelPos||i)&&(s=e.labelPos||i.xy,e.movedLabel=e.createLabel(h,t,s),e.movedLabel&&e.movedLabel.attr({opacity:0}))}render(h,t,e){let i=this.axis,n=i.horiz,o=this.pos,s=Xt(this.tickmarkOffset,i.tickmarkOffset),a=this.getPosition(n,o,s,t),g=i.pos,d=g+i.len,p=n?a.x:a.y,m=Xt(e,this.label?.newOpacity,1);!i.chart.polar&&(cn(p)<g||p>d)&&(e=0),e??(e=1),this.isActive=!0,this.renderGridLine(t,e),this.renderMark(a,e),this.renderLabel(a,t,m,h),this.isNew=!1,vi(this,"afterRender")}renderGridLine(h,t){let g,e=this.axis,i=e.options,n={},o=this.pos,s=this.type,a=Xt(this.tickmarkOffset,e.tickmarkOffset),l=e.chart.renderer,c=this.gridLine,d=i.gridLineWidth,p=i.gridLineColor,m=i.gridLineDashStyle;"minor"===this.type&&(d=i.minorGridLineWidth,p=i.minorGridLineColor,m=i.minorGridLineDashStyle),c||(e.chart.styledMode||(n.stroke=p,n["stroke-width"]=d||0,n.dashstyle=m),s||(n.zIndex=1),h&&(t=0),this.gridLine=c=l.path().attr(n).addClass("highcharts-"+(s?s+"-":"")+"grid-line").add(e.gridGroup)),c&&(g=e.getPlotLinePath({value:o+a,lineWidth:c.strokeWidth(),force:"pass",old:h,acrossPanes:!1}))&&c[h||this.isNew?"attr":"animate"]({d:g,opacity:t})}renderMark(h,t){let e=this.axis,i=e.options,n=e.chart.renderer,o=this.type,s=e.tickSize(o?o+"Tick":"tick"),a=h.x,l=h.y,c=Xt(i["minor"!==o?"tickWidth":"minorTickWidth"],!o&&e.isXAxis?1:0),g=i["minor"!==o?"tickColor":"minorTickColor"],d=this.mark,p=!d;s&&(e.opposite&&(s[0]=-s[0]),!d&&(this.mark=d=n.path().addClass("highcharts-"+(o?o+"-":"")+"tick").add(e.axisGroup),e.chart.styledMode||d.attr({stroke:g,"stroke-width":c})),d[p?"attr":"animate"]({d:this.getMarkPath(a,l,s[0],d.strokeWidth(),e.horiz,n),opacity:t}))}renderLabel(h,t,e,i){let n=this.axis,o=n.horiz,s=n.options,a=this.label,l=s.labels,c=l.step,g=Xt(this.tickmarkOffset,n.tickmarkOffset),d=h.x,p=h.y,m=!0;a&&dn(d)&&(a.xy=h=this.getLabelPosition(d,p,a,o,l,g,i,c),this.isFirst&&!this.isLast&&!s.showFirstLabel||this.isLast&&!this.isFirst&&!s.showLastLabel?m=!1:!o||l.step||l.rotation||t||0===e||this.handleOverflow(h),c&&i%c&&(m=!1),m&&dn(h.y)?(h.opacity=e,a[this.isNewLabel?"attr":"animate"](h).show(!0),this.isNewLabel=!1):(a.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let h=this.label,t=this.axis;h&&!this.isNew&&(h.animate({opacity:0},void 0,h.destroy),delete this.label),t.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:Xl}=Mt,{xAxis:Vs,yAxis:Yl}=Dl,{defaultOptions:yo}=_t,{registerEventOptions:Ul}=hn,{deg2rad:Vl}=L,{arrayMax:qs,arrayMin:ql,clamp:Co,correctFloat:Tt,defined:et,destroyObjectProperties:Zl,erase:Zs,error:Oo,extend:gn,fireEvent:st,getClosestDistance:Ks,insertItem:Kl,isArray:Js,isNumber:H,isString:Qs,merge:pn,normalizeTickInterval:Jl,objectEach:mn,pick:X,relativeLength:un,removeEvent:Ql,splat:th,syncTimeout:eh}=G,ta=(h,t)=>Jl(t,void 0,void 0,X(h.options.allowDecimals,t<.5||void 0!==h.tickAmount),!!h.tickAmount);gn(yo,{xAxis:Vs,yAxis:pn(Vs,Yl)});let vo=(()=>{class h{constructor(e,i,n){this.init(e,i,n)}init(e,i,n=this.coll){let o="xAxis"===n,s=this.isZAxis||(e.inverted?!o:o);this.chart=e,this.horiz=s,this.isXAxis=o,this.coll=n,st(this,"init",{userOptions:i}),this.opposite=X(i.opposite,this.opposite),this.side=X(i.side,this.side,s?2*!this.opposite:this.opposite?1:3),this.setOptions(i);let a=this.options,l=a.labels;this.type??(this.type=a.type||"linear"),this.uniqueNames??(this.uniqueNames=a.uniqueNames??!0),st(this,"afterSetType"),this.userOptions=i,this.minPixelPadding=0,this.reversed=X(a.reversed,this.reversed),this.visible=a.visible,this.zoomEnabled=a.zoomEnabled,this.hasNames="category"===this.type||!0===a.categories,this.categories=Js(a.categories)&&a.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=et(a.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=a.minRange||a.maxZoom,this.range=a.range,this.offset=a.offset||0,this.max=void 0,this.min=void 0;let c=X(a.crosshair,th(e.options.tooltip.crosshairs)[+!o]);this.crosshair=!0===c?{}:c,-1===e.axes.indexOf(this)&&(o?e.axes.splice(e.xAxis.length,0,this):e.axes.push(this),Kl(this,e[this.coll])),e.orderItems(this.coll),this.series=this.series||[],e.inverted&&!this.isZAxis&&o&&!et(this.reversed)&&(this.reversed=!0),this.labelRotation=H(l.rotation)?l.rotation:void 0,Ul(this,a),st(this,"afterInit")}setOptions(e){this.options=pn(this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}},"yAxis"===this.coll?{title:{text:this.chart.options.lang.yAxisTitle}}:{},yo[this.coll],e),st(this,"afterSetOptions",{userOptions:e})}defaultLabelFormatter(){let m,u,e=this.axis,{numberFormatter:i}=this.chart,n=H(this.value)?this.value:NaN,o=e.chart.time,s=e.categories,a=this.dateTimeLabelFormat,l=yo.lang,c=l.numericSymbols,g=l.numericSymbolMagnitude||1e3,d=e.logarithmic?Math.abs(n):e.tickInterval,p=c?.length;if(s)u=`${this.value}`;else if(a)u=o.dateFormat(a,n,!0);else if(p&&c&&d>=1e3)for(;p--&&void 0===u;)d>=(m=Math.pow(g,p+1))&&10*n%m==0&&null!==c[p]&&0!==n&&(u=i(n/m,-1)+c[p]);return void 0===u&&(u=Math.abs(n)>=1e4?i(n,-1):i(n,-1,void 0,"")),u}getSeriesExtremes(){let e,i=this;st(this,"getSeriesExtremes",null,function(){i.hasVisibleSeries=!1,i.dataMin=i.dataMax=i.threshold=void 0,i.softThreshold=!i.isXAxis,i.series.forEach(n=>{if(n.reserveSpace()){let s,l,c,o=n.options,a=o.threshold;if(i.hasVisibleSeries=!0,i.positiveValuesOnly&&0>=(a||0)&&(a=void 0),i.isXAxis)(s=n.getColumn("x")).length&&(s=i.logarithmic?s.filter(g=>g>0):s,l=(e=n.getXExtremes(s)).min,c=e.max,H(l)||l instanceof Date||(s=s.filter(H),l=(e=n.getXExtremes(s)).min,c=e.max),s.length&&(i.dataMin=Math.min(X(i.dataMin,l),l),i.dataMax=Math.max(X(i.dataMax,c),c)));else{let g=n.applyExtremes();H(g.dataMin)&&(l=g.dataMin,i.dataMin=Math.min(X(i.dataMin,l),l)),H(g.dataMax)&&(c=g.dataMax,i.dataMax=Math.max(X(i.dataMax,c),c)),et(a)&&(i.threshold=a),(!o.softThreshold||i.positiveValuesOnly)&&(i.softThreshold=!1)}}})}),st(this,"afterGetSeriesExtremes")}translate(e,i,n,o,s,a){let l=this.linkedParent||this,c=o&&l.old?l.old.min:l.min;if(!H(c))return NaN;let g=l.minPixelPadding,d=(l.isOrdinal||l.brokenAxis?.hasBreaks||l.logarithmic&&s)&&!!l.lin2val,p=1,m=0,u=o&&l.old?l.old.transA:l.transA,f=0;return u||(u=l.transA),n&&(p*=-1,m=l.len),l.reversed&&(p*=-1,m-=p*(l.sector||l.len)),i?(f=(e=e*p+m-g)/u+c,d&&(f=l.lin2val(f))):(d&&(e=l.val2lin(e)),f=p*(e-c)*u+m+p*g+(H(a)?u*a:0),l.isRadial||(f=Tt(f))),f}toPixels(e,i){return this.translate(this.chart?.time.parse(e)??NaN,!1,!this.horiz,void 0,!0)+(i?0:this.pos)}toValue(e,i){return this.translate(e-(i?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(e){let f,x,b,M,C,i=this,n=i.chart,o=i.left,s=i.top,a=e.old,l=e.value,c=e.lineWidth,g=a&&n.oldChartHeight||n.chartHeight,d=a&&n.oldChartWidth||n.chartWidth,p=i.transB,m=e.translatedValue,u=e.force;function O(P,v,_){return"pass"!==u&&(P<v||P>_)&&(u?P=Co(P,v,_):C=!0),P}let k={value:l,lineWidth:c,old:a,force:u,acrossPanes:e.acrossPanes,translatedValue:m};return st(this,"getPlotLinePath",k,function(P){f=b=(m=Co(m=X(m,i.translate(l,void 0,void 0,a)),-1e9,1e9))+p,x=M=g-m-p,H(m)?i.horiz?(x=s,M=g-i.bottom+(i.options.isInternal?0:n.scrollablePixelsY||0),f=b=O(f,o,o+i.width)):(f=o,b=d-i.right+(n.scrollablePixelsX||0),x=M=O(x,s,s+i.height)):(C=!0,u=!1),P.path=C&&!u?void 0:n.renderer.crispLine([["M",f,x],["L",b,M]],c||1)}),k.path}getLinearTickPositions(e,i,n){let o,s,a,l=Tt(Math.floor(i/e)*e),c=Tt(Math.ceil(n/e)*e),g=[];if(Tt(l+e)===l&&(a=20),this.single)return[i];for(o=l;o<=c&&(g.push(o),(o=Tt(o+e,a))!==s);)s=o;return g}getMinorTickInterval(){let{minorTicks:e,minorTickInterval:i}=this.options;return!0===e?X(i,"auto"):!1!==e?i:void 0}getMinorTickPositions(){let g,e=this.options,i=this.tickPositions,n=this.minorTickInterval,o=this.pointRangePadding||0,s=(this.min||0)-o,a=(this.max||0)+o,l=this.brokenAxis?.hasBreaks?this.brokenAxis.unitLength:a-s,c=[];if(l&&l/n<this.len/3){let d=this.logarithmic;if(d)this.paddedTicks.forEach(function(p,m,u){m&&c.push.apply(c,d.getLogTickPositions(n,u[m-1],u[m],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())c=c.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(n),s,a,e.startOfWeek));else for(g=s+(i[0]-s)%n;g<=a&&g!==c[0];g+=n)c.push(g)}return 0!==c.length&&this.trimTicks(c),c}adjustForMinRange(){let l,c,g,d,e=this.options,i=this.logarithmic,n=this.chart.time,{max:o,min:s,minRange:a}=this;this.isXAxis&&void 0===a&&!i&&(a=et(e.min)||et(e.max)||et(e.floor)||et(e.ceiling)?null:Math.min(5*(Ks(this.series.map(p=>{let m=p.getColumn("x");return p.xIncrement?m.slice(0,2):m}))||0),this.dataMax-this.dataMin)),H(o)&&H(s)&&H(a)&&o-s<a&&(c=this.dataMax-this.dataMin>=a,l=(a-o+s)/2,g=[s-l,n.parse(e.min)??s-l],c&&(g[2]=i?i.log2lin(this.dataMin):this.dataMin),d=[(s=qs(g))+a,n.parse(e.max)??s+a],c&&(d[2]=i?i.log2lin(this.dataMax):this.dataMax),(o=ql(d))-s<a&&(g[0]=o-a,g[1]=n.parse(e.min)??o-a,s=qs(g))),this.minRange=a,this.min=s,this.max=o}getClosest(){let e,i;if(this.categories)i=1;else{let n=[];this.series.forEach(function(o){let s=o.closestPointRange,a=o.getColumn("x");1===a.length?n.push(a[0]):o.sorted&&et(s)&&o.reserveSpace()&&(i=et(i)?Math.min(i,s):s)}),n.length&&(n.sort((o,s)=>o-s),e=Ks([n]))}return e&&i?Math.min(e,i):e||i}nameToX(e){let s,i=Js(this.options.categories),n=i?this.categories:this.names,o=e.options.x;return e.series.requireSorting=!1,et(o)||(o=this.uniqueNames&&n?i?n.indexOf(e.name):X(n.keys[e.name],-1):e.series.autoIncrement()),-1===o?!i&&n&&(s=n.length):H(o)&&(s=o),void 0!==s?(this.names[s]=e.name,this.names.keys[e.name]=s):e.x&&(s=e.x),s}updateNames(){let e=this,i=this.names;i.length>0&&(Object.keys(i.keys).forEach(function(n){delete i.keys[n]}),i.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(n=>{n.xIncrement=null,(!n.points||n.isDirtyData)&&(e.max=Math.max(e.max||0,n.dataTable.rowCount-1),n.processData(),n.generatePoints());let o=n.getColumn("x").slice();n.data.forEach((s,a)=>{let l=o[a];s?.options&&void 0!==s.name&&void 0!==(l=e.nameToX(s))&&l!==s.x&&(o[a]=s.x=l)}),n.dataTable.setColumn("x",o)}))}setAxisTranslation(){let l,d,e=this,i=e.max-e.min,n=e.linkedParent,o=!!e.categories,s=e.isXAxis,a=e.axisPointRange||0,c=0,g=0,p=e.transA;(s||o||a)&&(l=e.getClosest(),n?(c=n.minPointOffset,g=n.pointRangePadding):e.series.forEach(function(m){let u=o?1:s?X(m.options.pointRange,l,0):e.axisPointRange||0,f=m.options.pointPlacement;if(a=Math.max(a,u),!e.single||o){let x=m.is("xrange")?!s:s;c=Math.max(c,x&&Qs(f)?0:u/2),g=Math.max(g,x&&"on"===f?0:u)}}),d=e.ordinal?.slope&&l?e.ordinal.slope/l:1,e.minPointOffset=c*=d,e.pointRangePadding=g*=d,e.pointRange=Math.min(a,e.single&&o?1:i),s&&(e.closestPointRange=l)),e.translationSlope=e.transA=p=e.staticScale||e.len/(i+g||1),e.transB=e.horiz?e.left:e.bottom,e.minPixelPadding=p*c,st(this,"afterSetAxisTranslation")}minFromRange(){let{max:e,min:i}=this;return H(e)&&H(i)&&e-i||void 0}setTickInterval(e){let S,T,I,N,B,{categories:i,chart:n,dataMax:o,dataMin:s,dateTime:a,isXAxis:l,logarithmic:c,options:g,softThreshold:d}=this,p=n.time,m=H(this.threshold)?this.threshold:void 0,u=this.minRange||0,{ceiling:f,floor:x,linkedTo:b,softMax:M,softMin:C}=g,O=H(b)&&n[this.coll]?.[b],k=g.tickPixelInterval,P=g.maxPadding,v=g.minPadding,_=0,A=H(g.tickInterval)&&g.tickInterval>=0?g.tickInterval:void 0;if(a||i||O||this.getTickAmount(),N=X(this.userMin,p.parse(g.min)),B=X(this.userMax,p.parse(g.max)),O?(this.linkedParent=O,S=O.getExtremes(),this.min=X(S.min,S.dataMin),this.max=X(S.max,S.dataMax),this.type!==O.type&&Oo(11,!0,n)):(d&&et(m)&&H(o)&&H(s)&&(s>=m?(T=m,v=0):o<=m&&(I=m,P=0)),this.min=X(N,T,s),this.max=X(B,I,o)),H(this.max)&&H(this.min)&&(c&&(this.positiveValuesOnly&&!e&&0>=Math.min(this.min,X(s,this.min))&&Oo(10,!0,n),this.min=Tt(c.log2lin(this.min),16),this.max=Tt(c.log2lin(this.max),16)),this.range&&H(s)&&(this.userMin=this.min=N=Math.max(s,this.minFromRange()||0),this.userMax=B=this.max,this.range=void 0)),st(this,"foundExtremes"),this.adjustForMinRange(),H(this.min)&&H(this.max)){if(!H(this.userMin)&&H(C)&&C<this.min&&(this.min=N=C),!H(this.userMax)&&H(M)&&M>this.max&&(this.max=B=M),i||this.axisPointRange||this.stacking?.usePercentage||O||(_=this.max-this.min)&&(!et(N)&&v&&(this.min-=_*v),!et(B)&&P&&(this.max+=_*P)),!H(this.userMin)&&H(x)&&(this.min=Math.max(this.min,x)),!H(this.userMax)&&H(f)&&(this.max=Math.min(this.max,f)),d&&H(s)&&H(o)){let D=m||0;!et(N)&&this.min<D&&s>=D?this.min=g.minRange?Math.min(D,this.max-u):D:!et(B)&&this.max>D&&o<=D&&(this.max=g.minRange?Math.max(D,this.min+u):D)}!n.polar&&this.min>this.max&&(et(g.min)?this.max=this.min:et(g.max)&&(this.min=this.max)),_=this.max-this.min}if(this.tickInterval=this.min!==this.max&&H(this.min)&&H(this.max)?O&&!A&&k===O.options.tickPixelInterval?A=O.tickInterval:X(A,this.tickAmount?_/Math.max(this.tickAmount-1,1):void 0,i?1:_*k/Math.max(this.len,k)):1,l&&!e){let D=this.min!==this.old?.min||this.max!==this.old?.max;this.series.forEach(function(z){z.forceCrop=z.forceCropping?.(),z.processData(D)}),st(this,"postProcessData",{hasExtremesChanged:D})}this.setAxisTranslation(),st(this,"initialAxisTranslation"),this.pointRange&&!A&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let j=X(g.minTickInterval,a&&!this.series.some(D=>!D.sorted)?this.closestPointRange:0);!A&&j&&this.tickInterval<j&&(this.tickInterval=j),a||c||A||(this.tickInterval=ta(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){let g,e=this.options,i=e.tickPositions,n=e.tickPositioner,o=this.getMinorTickInterval(),s=!this.isPanning,a=s&&e.startOnTick,l=s&&e.endOnTick,c=[];if(this.tickmarkOffset=this.categories&&"between"===e.tickmarkPlacement&&1===this.tickInterval?.5:0,this.single=this.min===this.max&&et(this.min)&&!this.tickAmount&&(this.min%1==0||!1!==e.allowDecimals),i)c=i.slice();else if(H(this.min)&&H(this.max)){if(!this.ordinal?.positions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))c=[this.min,this.max],Oo(19,!1,this.chart);else if(this.dateTime)c=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,e.units),this.min,this.max,e.startOfWeek,this.ordinal?.positions,this.closestPointRange,!0);else if(this.logarithmic)c=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let d=this.tickInterval,p=d;for(;p<=2*d&&(c=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&c.length>this.tickAmount);)this.tickInterval=ta(this,p*=1.1)}c.length>this.len&&(c=[c[0],c[c.length-1]])[0]===c[1]&&(c.length=1),n&&(this.tickPositions=c,(g=n.apply(this,[this.min,this.max]))&&(c=g))}this.tickPositions=c,this.minorTickInterval="auto"===o&&this.tickInterval?this.tickInterval/e.minorTicksPerMajor:o,this.paddedTicks=c.slice(0),this.trimTicks(c,a,l),!this.isLinked&&H(this.min)&&H(this.max)&&(this.single&&c.length<2&&!this.categories&&!this.series.some(d=>d.is("heatmap")&&"between"===d.options.pointPlacement)&&(this.min-=.5,this.max+=.5),i||g||this.adjustTickAmount()),st(this,"afterSetTickPositions")}trimTicks(e,i,n){let o=e[0],s=e[e.length-1],a=!this.isOrdinal&&this.minPointOffset||0;if(st(this,"trimTicks"),!this.isLinked||!this.grid){if(i&&o!==-1/0)this.min=o;else for(;this.min-a>e[0];)e.shift();if(n)this.max=s;else for(;this.max+a<e[e.length-1];)e.pop();0===e.length&&et(o)&&!this.options.tickPositions&&e.push((s+o)/2)}}alignToOthers(){let e,i=this,n=i.chart,o=[this],s=i.options,a=n.options.chart,l="yAxis"===this.coll&&a.alignThresholds,c=[];if(i.thresholdAlignment=void 0,(!1!==a.alignTicks&&s.alignTicks||l)&&!1!==s.startOnTick&&!1!==s.endOnTick&&!i.logarithmic){let g=p=>{let{horiz:m,options:u}=p;return[m?u.left:u.top,u.width,u.height,u.pane].join(",")},d=g(this);n[this.coll].forEach(function(p){let{series:m}=p;m.length&&m.some(u=>u.visible)&&p!==i&&g(p)===d&&(e=!0,o.push(p))})}if(e&&l){o.forEach(d=>{let p=d.getThresholdAlignment(i);H(p)&&c.push(p)});let g=c.length>1?c.reduce((d,p)=>d+p,0)/c.length:void 0;o.forEach(d=>{d.thresholdAlignment=g})}return e}getThresholdAlignment(e){if((!H(this.dataMin)||this!==e&&this.series.some(i=>i.isDirty||i.isDirtyData))&&this.getSeriesExtremes(),H(this.threshold)){let i=Co((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(i=1-i),i}}getTickAmount(){let e=this.options,i=e.tickPixelInterval,n=e.tickAmount;et(e.tickInterval)||n||!(this.len<i)||this.isRadial||this.logarithmic||!e.startOnTick||!e.endOnTick||(n=2),!n&&this.alignToOthers()&&(n=Math.ceil(this.len/i)+1),n<4&&(this.finalTickAmt=n,n=5),this.tickAmount=n}adjustTickAmount(){let p,m,f,e=this,{finalTickAmt:i,max:n,min:o,options:s,tickPositions:a,tickAmount:l,thresholdAlignment:c}=e,g=a?.length,d=X(e.threshold,e.softThreshold?0:null),u=e.tickInterval,x=()=>a.push(Tt(a[a.length-1]+u)),b=()=>a.unshift(Tt(a[0]-u));if(H(c)&&(f=c<.5?Math.ceil(c*(l-1)):Math.floor(c*(l-1)),s.reversed&&(f=l-1-f)),e.hasData()&&H(o)&&H(n)){let M=()=>{e.transA*=(g-1)/(l-1),e.min=s.startOnTick?a[0]:Math.min(o,a[0]),e.max=s.endOnTick?a[a.length-1]:Math.max(n,a[a.length-1])};if(H(f)&&H(e.threshold)){for(;a[f]!==d||a.length!==l||a[0]>o||a[a.length-1]<n;){for(a.length=0,a.push(e.threshold);a.length<l;)void 0===a[f]||a[f]>e.threshold?b():x();if(u>8*e.tickInterval)break;u*=2}M()}else if(g<l){for(;a.length<l;)a.length%2||o===d?x():b();M()}if(et(i)){for(m=p=a.length;m--;)(3===i&&m%2==1||i<=2&&m>0&&m<p-1)&&a.splice(m,1);e.finalTickAmt=void 0}}}setScale(){let{coll:e,stacking:i}=this,n=!1,o=!1;this.series.forEach(a=>{n=n||a.isDirtyData||a.isDirty,o=o||a.xAxis?.isDirty||!1}),this.setAxisSize();let s=this.len!==this.old?.len;s||n||o||this.isLinked||this.forceRedraw||this.userMin!==this.old?.userMin||this.userMax!==this.old?.userMax||this.alignToOthers()?(i&&"yAxis"===e&&i.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),i&&"xAxis"===e&&i.buildStacks(),this.isDirty||(this.isDirty=s||this.min!==this.old?.min||this.max!==this.old?.max)):i&&i.cleanStacks(),n&&delete this.allExtremes,st(this,"afterSetScale")}setExtremes(e,i,n=!0,o,s){let a=this.chart;this.series.forEach(l=>{delete l.kdTree}),e=a.time.parse(e),i=a.time.parse(i),st(this,"setExtremes",s=gn(s,{min:e,max:i}),l=>{this.userMin=l.min,this.userMax=l.max,this.eventArgs=l,n&&a.redraw(o)})}setAxisSize(){let e=this.chart,i=this.options,n=i.offsets||[0,0,0,0],o=this.horiz,s=this.width=Math.round(un(X(i.width,e.plotWidth-n[3]+n[1]),e.plotWidth)),a=this.height=Math.round(un(X(i.height,e.plotHeight-n[0]+n[2]),e.plotHeight)),l=this.top=Math.round(un(X(i.top,e.plotTop+n[0]),e.plotHeight,e.plotTop)),c=this.left=Math.round(un(X(i.left,e.plotLeft+n[3]),e.plotWidth,e.plotLeft));this.bottom=e.chartHeight-a-l,this.right=e.chartWidth-s-c,this.len=Math.max(o?s:a,0),this.pos=o?c:l}getExtremes(){let e=this.logarithmic;return{min:e?Tt(e.lin2log(this.min)):this.min,max:e?Tt(e.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(e){let i=this.logarithmic,n=i?i.lin2log(this.min):this.min,o=i?i.lin2log(this.max):this.max;return null===e||e===-1/0?e=n:e===1/0?e=o:n>e?e=n:o<e&&(e=o),this.translate(e,0,1,0,1)}autoLabelAlign(e){let i=(X(e,0)-90*this.side+720)%360,n={align:"center"};return st(this,"autoLabelAlign",n,function(o){i>15&&i<165?o.align="right":i>195&&i<345&&(o.align="left")}),n.align}tickSize(e){let s,i=this.options,n=X(i["tick"===e?"tickWidth":"minorTickWidth"],"tick"===e&&this.isXAxis&&!this.categories?1:0),o=i["tick"===e?"tickLength":"minorTickLength"];n&&o&&("inside"===i[e+"Position"]&&(o=-o),s=[o,n]);let a={tickSize:s};return st(this,"afterTickSize",a),a.tickSize}labelMetrics(){let e=this.chart.renderer,i=this.ticks,n=i[Object.keys(i)[0]]||{};return this.chart.renderer.fontMetrics(n.label||n.movedLabel||e.box)}unsquish(){let p,u,e=this.options.labels,i=e.padding||0,n=this.horiz,o=this.tickInterval,s=this.len/((+!!this.categories+this.max-this.min)/o),a=e.rotation,l=Tt(.8*this.labelMetrics().h),c=Math.max(this.max-this.min,0),g=function(f){let x=(f+2*i)/(s||1);return(x=x>1?Math.ceil(x):1)*o>c&&f!==1/0&&s!==1/0&&c&&(x=Math.ceil(c/o)),Tt(x*o)},d=o,m=Number.MAX_VALUE;if(n){if(!e.staggerLines&&(H(a)?u=[a]:s<e.autoRotationLimit&&(u=e.autoRotation)),u){let f,x;for(let b of u)(b===a||b&&b>=-90&&b<=90)&&(x=(f=g(Math.abs(l/Math.sin(Vl*b))))+Math.abs(b/360))<m&&(m=x,p=b,d=f)}}else d=g(.75*l);return this.autoRotation=u,this.labelRotation=X(p,H(a)?a:0),e.step?o:d}getSlotWidth(e){let i=this.chart,n=this.horiz,o=this.options.labels,s=Math.max(this.tickPositions.length-!this.categories,1),a=i.margin[3];if(e&&H(e.slotWidth))return e.slotWidth;if(n&&o.step<2&&!this.isRadial)return o.rotation?0:(this.staggerLines||1)*this.len/s;if(!n){let l=o.style.width;if(void 0!==l)return parseInt(String(l),10);if(!this.opposite&&a)return a-i.spacing[3]}return.33*i.chartWidth}renderUnsquish(){let u,e=this.chart,i=e.renderer,n=this.tickPositions,o=this.ticks,s=this.options.labels,a=s.style,l=this.horiz,c=this.getSlotWidth(),g=Math.max(1,Math.round(c-(l?2*(s.padding||0):s.distance||0))),d={},p=this.labelMetrics(),m=a.lineClamp,f=m??(Math.floor(this.len/(n.length*p.h))||1),x=0;Qs(s.rotation)||(d.rotation=s.rotation||0),n.forEach(function(b){let M=o[b];M.movedLabel&&M.replaceMovedLabel();let C=M.label?.textPxLength||0;C>x&&(x=C)}),this.maxLabelLength=x,this.autoRotation?x>g&&x>p.h?d.rotation=this.labelRotation:this.labelRotation=0:c&&(u=g),d.rotation&&(u=x>.5*e.chartHeight?.33*e.chartHeight:x,m||(f=1)),this.labelAlign=s.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(d.align=this.labelAlign),n.forEach(function(b){let M=o[b],C=M?.label,O=a.width,k={};C&&(C.attr(d),M.shortenLabel?M.shortenLabel():u&&!O&&"nowrap"!==a.whiteSpace&&(u<(C.textPxLength||0)||"SPAN"===C.element.tagName)?C.css(gn(k,{width:`${u}px`,lineClamp:f})):!C.styles.width||k.width||O||C.css({width:"auto"}),M.rotation=d.rotation)},this),this.tickRotCorr=i.rotCorr(p.b,this.labelRotation||0,0!==this.side)}hasData(){return this.series.some(function(e){return e.hasData()})||this.options.showEmpty&&et(this.min)&&et(this.max)}addTitle(e){let i,s=this.opposite,a=this.options.title,l=this.chart.styledMode;this.axisTitle||((i=a.textAlign)||(i=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:s?"right":"left",middle:"center",high:s?"left":"right"})[a.align]),this.axisTitle=this.chart.renderer.text(a.text||"",0,0,a.useHTML).attr({zIndex:7,rotation:a.rotation||0,align:i}).addClass("highcharts-axis-title"),l||this.axisTitle.css(pn(a.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),l||a.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[e?"show":"hide"](e)}generateTick(e){let i=this.ticks;i[e]?i[e].addLabel():i[e]=new Je(this,e)}createGroups(){let{axisParent:e,chart:i,coll:n,options:o}=this,s=i.renderer,a=(l,c,g)=>s.g(l).attr({zIndex:g}).addClass(`highcharts-${n.toLowerCase()}${c} `+(this.isRadial?`highcharts-radial-axis${c} `:"")+(o.className||"")).add(e);this.axisGroup||(this.gridGroup=a("grid","-grid",o.gridZIndex),this.axisGroup=a("axis","",o.zIndex),this.labelGroup=a("axis-labels","-labels",o.labels.zIndex))}getOffset(){let M,O,v,_,e=this,{chart:i,horiz:n,options:o,side:s,ticks:a,tickPositions:l,coll:c}=e,g=i.inverted&&!e.isZAxis?[1,0,3,2][s]:s,d=e.hasData(),p=o.title,m=o.labels,u=H(o.crossing),f=i.axisOffset,x=i.clipOffset,b=[-1,1,1,-1][s],C=0,k=0,P=0;if(e.showAxis=M=d||o.showEmpty,e.staggerLines=e.horiz&&m.staggerLines||void 0,e.createGroups(),d||e.isLinked?(l.forEach(function(S){e.generateTick(S)}),e.renderUnsquish(),e.reserveSpaceDefault=0===s||2===s||{1:"left",3:"right"}[s]===e.labelAlign,X(m.reserveSpace,!u&&null,"center"===e.labelAlign||null,e.reserveSpaceDefault)&&l.forEach(function(S){P=Math.max(a[S].getLabelSize(),P)}),e.staggerLines&&(P*=e.staggerLines),e.labelOffset=P*(e.opposite?-1:1)):mn(a,function(S,A){S.destroy(),delete a[A]}),p?.text&&!1!==p.enabled&&(e.addTitle(M),M&&!u&&!1!==p.reserveSpace&&(e.titleOffset=C=e.axisTitle.getBBox()[n?"height":"width"],k=et(O=p.offset)?0:X(p.margin,n?5:10))),e.renderLine(),e.offset=b*X(o.offset,f[s]?f[s]+(o.margin||0):0),e.tickRotCorr=e.tickRotCorr||{x:0,y:0},_=0===s?-e.labelMetrics().h:2===s?e.tickRotCorr.y:0,v=Math.abs(P)+k,P&&(v-=_,v+=b*(n?X(m.y,e.tickRotCorr.y+b*m.distance):X(m.x,b*m.distance))),e.axisTitleMargin=X(O,v),e.getMaxLabelDimensions&&(e.maxLabelDimensions=e.getMaxLabelDimensions(a,l)),"colorAxis"!==c&&x){let S=this.tickSize("tick");f[s]=Math.max(f[s],(e.axisTitleMargin||0)+C+b*e.offset,v,l?.length&&S?S[0]+b*e.offset:0);let A=!e.axisLine||o.offset?0:e.axisLine.strokeWidth()/2;x[g]=Math.max(x[g],A)}st(this,"afterGetOffset")}getLinePath(e){let i=this.chart,n=this.opposite,o=this.offset,s=this.horiz,a=this.left+(n?this.width:0)+o,l=i.chartHeight-this.bottom-(n?this.height:0)+o;return n&&(e*=-1),i.renderer.crispLine([["M",s?this.left:a,s?l:this.top],["L",s?i.chartWidth-this.right:a,s?l:i.chartHeight-this.bottom]],e)}renderLine(){!this.axisLine&&(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(e){let i=this.horiz,n=this.left,o=this.top,s=this.len,a=this.options.title,l=i?n:o,c=this.opposite,g=this.offset,d=a.x,p=a.y,m=this.chart.renderer.fontMetrics(e),u=e?Math.max(e.getBBox(!1,0).height-m.h-1,0):0,f={low:l+(i?0:s),middle:l+s/2,high:l+(i?s:0)}[a.align],x=(i?o+this.height:n)+(i?1:-1)*(c?-1:1)*(this.axisTitleMargin||0)+[-u,u,m.f,-u][this.side],b={x:i?f+d:x+(c?this.width:0)+g+d,y:i?x+p-(c?this.height:0)+g:f+p};return st(this,"afterGetTitlePosition",{titlePosition:b}),b}renderMinorTick(e,i){let n=this.minorTicks;n[e]||(n[e]=new Je(this,e,"minor")),i&&n[e].isNew&&n[e].render(null,!0),n[e].render(null,!1,1)}renderTick(e,i,n){let s=this.ticks;(!this.isLinked||e>=this.min&&e<=this.max||this.grid?.isColumn)&&(s[e]||(s[e]=new Je(this,e)),n&&s[e].isNew&&s[e].render(i,!0,-1),s[e].render(i))}render(){let e,i,n=this,o=n.chart,s=n.logarithmic,l=n.options,c=n.isLinked,g=n.tickPositions,d=n.axisTitle,p=n.ticks,m=n.minorTicks,u=n.alternateBands,f=l.stackLabels,x=l.alternateGridColor,b=l.crossing,M=n.tickmarkOffset,C=n.axisLine,O=n.showAxis,k=Xl(o.renderer.globalAnimation);if(n.labelEdge.length=0,n.overlap=!1,[p,m,u].forEach(function(P){mn(P,function(v){v.isActive=!1})}),H(b)){let P=this.isXAxis?o.yAxis[0]:o.xAxis[0],v=[1,-1,-1,1][this.side];if(P){let _=P.toPixels(b,!0);n.horiz&&(_=P.len-_),n.offset=v*_}}if(n.hasData()||c){let P=n.chart.hasRendered&&n.old&&H(n.old.min);n.minorTickInterval&&!n.categories&&n.getMinorTickPositions().forEach(function(v){n.renderMinorTick(v,P)}),g.length&&(g.forEach(function(v,_){n.renderTick(v,_,P)}),M&&(0===n.min||n.single)&&(p[-1]||(p[-1]=new Je(n,-1,null,!0)),p[-1].render(-1))),x&&g.forEach(function(v,_){i=void 0!==g[_+1]?g[_+1]+M:n.max-M,_%2==0&&v<n.max&&i<=n.max+(o.polar?-M:M)&&(u[v]||(u[v]=new L.PlotLineOrBand(n,{})),e=v+M,u[v].options={from:s?s.lin2log(e):e,to:s?s.lin2log(i):i,color:x,className:"highcharts-alternate-grid"},u[v].render(),u[v].isActive=!0)}),n._addedPlotLB||(n._addedPlotLB=!0,(l.plotLines||[]).concat(l.plotBands||[]).forEach(function(v){n.addPlotBandOrLine(v)}))}[p,m,u].forEach(function(P){let v=[],_=k.duration;mn(P,function(S,A){S.isActive||(S.render(A,!1,0),S.isActive=!1,v.push(A))}),eh(function(){let S=v.length;for(;S--;)P[v[S]]&&!P[v[S]].isActive&&(P[v[S]].destroy(),delete P[v[S]])},P!==u&&o.hasRendered&&_?_:0)}),C&&(C[C.isPlaced?"animate":"attr"]({d:this.getLinePath(C.strokeWidth())}),C.isPlaced=!0,C[O?"show":"hide"](O)),d&&O&&(d[d.isNew?"attr":"animate"](n.getTitlePosition(d)),d.isNew=!1),f?.enabled&&n.stacking&&n.stacking.renderStackTotals(),n.old={len:n.len,max:n.max,min:n.min,transA:n.transA,userMax:n.userMax,userMin:n.userMin},n.isDirty=!1,st(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(e){e.render()})),this.series.forEach(function(e){e.isDirty=!0})}getKeepProps(){return this.keepProps||h.keepProps}destroy(e){let i=this,n=i.plotLinesAndBands,o=this.eventOptions;if(st(this,"destroy",{keepEvents:e}),e||Ql(i),[i.ticks,i.minorTicks,i.alternateBands].forEach(function(s){Zl(s)}),n){let s=n.length;for(;s--;)n[s].destroy()}for(let s in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(a){i[a]&&(i[a]=i[a].destroy())}),i.plotLinesAndBandsGroups)i.plotLinesAndBandsGroups[s]=i.plotLinesAndBandsGroups[s].destroy();mn(i,function(s,a){-1===i.getKeepProps().indexOf(a)&&delete i[a]}),this.eventOptions=o}drawCrosshair(e,i){let a,l,c,d,n=this.crosshair,o=n?.snap??!0,s=this.chart,g=this.cross;if(st(this,"drawCrosshair",{e,point:i}),e||(e=this.cross?.e),n&&!1!==(et(i)||!o)){if(o?et(i)&&(l=X("colorAxis"!==this.coll?i.crosshairPos:null,this.isXAxis?i.plotX:this.len-i.plotY)):l=e&&(this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos),et(l)&&(d={value:i&&(this.isXAxis?i.x:X(i.stackY,i.y)),translatedValue:l},s.polar&&gn(d,{isCrosshair:!0,chartX:e?.chartX,chartY:e?.chartY,point:i}),a=this.getPlotLinePath(d)||null),!et(a))return void this.hideCrosshair();c=this.categories&&!this.isRadial,g||(this.cross=g=s.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(c?"category ":"thin ")+(n.className||"")).attr({zIndex:X(n.zIndex,2)}).add(),!s.styledMode&&(g.attr({stroke:n.color||(c?Q.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":X(n.width,1)}).css({"pointer-events":"none"}),n.dashStyle&&g.attr({dashstyle:n.dashStyle}))),g.show().attr({d:a}),c&&!n.width&&g.attr({"stroke-width":this.transA}),this.cross.e=e}else this.hideCrosshair();st(this,"afterDrawCrosshair",{e,point:i})}hideCrosshair(){this.cross&&this.cross.hide(),st(this,"afterHideCrosshair")}update(e,i){let n=this.chart;e=pn(this.userOptions,e),this.destroy(!0),this.init(n,e),n.isDirtyBox=!0,X(i,!0)&&n.redraw()}remove(e){let i=this.chart,n=this.coll,o=this.series,s=o.length;for(;s--;)o[s]&&o[s].remove(!1);Zs(i.axes,this),Zs(i[n]||[],this),i.orderItems(n),this.destroy(),i.isDirtyBox=!0,X(e,!0)&&i.redraw()}setTitle(e,i){this.update({title:e},i)}setCategories(e,i){this.update({categories:e},i)}}return h.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"],h})(),{addEvent:ih,getMagnitude:nh,normalizeTickInterval:oh,timeUnits:fn}=G;!function(h){function t(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function e(){"datetime"===this.type?this.dateTime||(this.dateTime=new i(this)):this.dateTime=void 0}h.compose=function(n){return n.keepProps.includes("dateTime")||(n.keepProps.push("dateTime"),n.prototype.getTimeTicks=t,ih(n,"afterSetType",e)),n};class i{constructor(o){this.axis=o}normalizeTimeTickInterval(o,s){let d,a=s||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],l=a[a.length-1],c=fn[l[0]],g=l[1];for(d=0;d<a.length&&(c=fn[(l=a[d])[0]],g=l[1],!(a[d+1]&&o<=(c*g[g.length-1]+fn[a[d+1][0]])/2));d++);return c===fn.year&&o<5*c&&(g=[1,2,5]),{unitRange:c,count:oh(o/c,g,"year"===l[0]?Math.max(nh(o/c),1):1),unitName:l[0]}}getXDateFormat(o,s){let{axis:a}=this,l=a.chart.time;return a.closestPointRange?l.getDateFormat(a.closestPointRange,o,a.options.startOfWeek,s)||l.resolveDTLFormat(s.year).main:l.resolveDTLFormat(s.day).main}}h.Additions=i}(ai||(ai={}));let sh=ai,{addEvent:ea,normalizeTickInterval:ah,pick:rh}=G;!function(h){function t(){"logarithmic"!==this.type?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new i(this))}function e(){let n=this.logarithmic;n&&(this.lin2val=function(o){return n.lin2log(o)},this.val2lin=function(o){return n.log2lin(o)})}h.compose=function(n){return n.keepProps.includes("logarithmic")||(n.keepProps.push("logarithmic"),ea(n,"afterSetType",t),ea(n,"afterInit",e)),n};class i{constructor(o){this.axis=o}getLogTickPositions(o,s,a,l){let c=this.axis,g=c.len,d=c.options,p=[];if(l||(this.minorAutoInterval=void 0),o>=.5)o=Math.round(o),p=c.getLinearTickPositions(o,s,a);else if(o>=.08){let m,u,f,x,b,M,C;for(m=o>.3?[1,2,4]:o>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],u=Math.floor(s);u<a+1&&!C;u++)for(f=0,x=m.length;f<x&&!C;f++)(b=this.log2lin(this.lin2log(u)*m[f]))>s&&(!l||M<=a)&&void 0!==M&&p.push(M),M>a&&(C=!0),M=b}else{let m=this.lin2log(s),u=this.lin2log(a),f=l?c.getMinorTickInterval():d.tickInterval;o=ah(o=rh("auto"===f?null:f,this.minorAutoInterval,d.tickPixelInterval/(l?5:1)*(u-m)/((l?g/c.tickPositions.length:g)||1))),p=c.getLinearTickPositions(o,m,u).map(this.log2lin),l||(this.minorAutoInterval=o/5)}return l||(c.tickInterval=o),p}lin2log(o){return Math.pow(10,o)}log2lin(o){return Math.log(o)/Math.LN10}}h.Additions=i}(bt||(bt={}));let lh=bt,{erase:hh,extend:ch,isNumber:ia}=G;!function(h){let t;function e(c){return this.addPlotBandOrLine(c,"plotBands")}function i(c,g){let d=this.userOptions,p=new t(this,c);if(this.visible&&(p=p.render()),p){if(this._addedPlotLB||(this._addedPlotLB=!0,(d.plotLines||[]).concat(d.plotBands||[]).forEach(m=>{this.addPlotBandOrLine(m)})),g){let m=d[g]||[];m.push(c),d[g]=m}this.plotLinesAndBands.push(p)}return p}function n(c){return this.addPlotBandOrLine(c,"plotLines")}function o(c,g,d){let b,C,p=this.getPlotLinePath({value:g,force:!0,acrossPanes:(d=d||this.options).acrossPanes}),m=[],u=this.horiz,f=!ia(this.min)||!ia(this.max)||c<this.min&&g<this.min||c>this.max&&g>this.max,x=this.getPlotLinePath({value:c,force:!0,acrossPanes:d.acrossPanes}),M=1;if(x&&p)for(f&&(C=x.toString()===p.toString(),M=0),b=0;b<x.length;b+=2){let O=x[b],k=x[b+1],P=p[b],v=p[b+1];("M"===O[0]||"L"===O[0])&&("M"===k[0]||"L"===k[0])&&("M"===P[0]||"L"===P[0])&&("M"===v[0]||"L"===v[0])&&(u&&P[1]===O[1]?(P[1]+=M,v[1]+=M):u||P[2]!==O[2]||(P[2]+=M,v[2]+=M),m.push(["M",O[1],O[2]],["L",k[1],k[2]],["L",v[1],v[2]],["L",P[1],P[2]],["Z"])),m.isFlat=C}return m}function s(c){this.removePlotBandOrLine(c)}function a(c){let g=this.plotLinesAndBands,d=this.options,p=this.userOptions;if(g){let m=g.length;for(;m--;)g[m].id===c&&g[m].destroy();[d.plotLines||[],p.plotLines||[],d.plotBands||[],p.plotBands||[]].forEach(function(u){for(m=u.length;m--;)u[m]?.id===c&&hh(u,u[m])})}}function l(c){this.removePlotBandOrLine(c)}h.compose=function(c,g){let d=g.prototype;return d.addPlotBand||(t=c,ch(d,{addPlotBand:e,addPlotLine:n,addPlotBandOrLine:i,getPlotBandPath:o,removePlotBand:s,removePlotLine:l,removePlotBandOrLine:a})),g}}(Ft||(Ft={}));let dh=Ft,{addEvent:gh,arrayMax:na,arrayMin:oa,defined:Yt,destroyObjectProperties:ph,erase:mh,fireEvent:uh,merge:sa,objectEach:fh,pick:bh}=G;class bn{static compose(t,e){return gh(t,"afterInit",function(){this.labelCollectors.push(()=>{let i=[];for(let n of this.axes)for(let{label:o,options:s}of n.plotLinesAndBands)o&&!s?.label?.allowOverlap&&i.push(o);return i})}),dh.compose(bn,e)}constructor(t,e){this.axis=t,this.options=e,this.id=e.id}render(){uh(this,"render");let C,{axis:t,options:e}=this,{horiz:i,logarithmic:n}=t,{color:o,events:s,zIndex:a=0}=e,{renderer:l,time:c}=t.chart,g={},d=c.parse(e.to),p=c.parse(e.from),m=c.parse(e.value),u=e.borderWidth,f=e.label,{label:x,svgElem:b}=this,M=[],O=Yt(p)&&Yt(d),k=Yt(m),P=!b,v={class:"highcharts-plot-"+(O?"band ":"line ")+(e.className||"")},_=O?"bands":"lines";if(!t.chart.styledMode&&(k?(v.stroke=o||"#999999",v["stroke-width"]=bh(e.width,1),e.dashStyle&&(v.dashstyle=e.dashStyle)):O&&(v.fill=o||"#e6e9ff",u&&(v.stroke=e.borderColor,v["stroke-width"]=u))),g.zIndex=a,_+="-"+a,(C=t.plotLinesAndBandsGroups[_])||(t.plotLinesAndBandsGroups[_]=C=l.g("plot-"+_).attr(g).add()),b||(this.svgElem=b=l.path().attr(v).add(C)),Yt(m))M=t.getPlotLinePath({value:n?.log2lin(m)??m,lineWidth:b.strokeWidth(),acrossPanes:e.acrossPanes});else{if(!Yt(p)||!Yt(d))return;M=t.getPlotBandPath(n?.log2lin(p)??p,n?.log2lin(d)??d,e)}return!this.eventsAdded&&s&&(fh(s,(S,A)=>{b?.on(A,T=>{s[A].apply(this,[T])})}),this.eventsAdded=!0),!P&&b.d||!M?.length?b&&(M?(b.show(),b.animate({d:M})):b.d&&(b.hide(),x&&(this.label=x=x.destroy()))):b.attr({d:M}),f&&(Yt(f.text)||Yt(f.formatter))&&M?.length&&t.width>0&&t.height>0&&!M.isFlat?(f=sa({align:i&&O?"center":void 0,x:i?!O&&4:10,verticalAlign:!i&&O?"middle":void 0,y:i?O?16:10:O?6:-4,rotation:i&&!O?90:0,...O?{inside:!0}:{}},f),this.renderLabel(f,M,O,a)):x&&x.hide(),this}renderLabel(t,e,i,n){let o=this.axis,s=o.chart.renderer,a=t.inside,l=this.label;l||(this.label=l=s.text(this.getLabelText(t),0,0,t.useHTML).attr({align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(i?"band":"line")+"-label "+(t.className||""),zIndex:n}),o.chart.styledMode||l.css(sa({color:o.chart.options.title?.style?.color,fontSize:"0.8em",textOverflow:i&&!a?"":"ellipsis"},t.style)),l.add());let c=e.xBounds||[e[0][1],e[1][1],i?e[2][1]:e[0][1]],g=e.yBounds||[e[0][2],e[1][2],i?e[2][2]:e[0][2]],d=oa(c),p=oa(g),m=na(c)-d;l.align(t,!1,{x:d,y:p,width:m,height:na(g)-p}),l.alignAttr.y-=s.fontMetrics(l).b,(!l.alignValue||"left"===l.alignValue||Yt(a))&&l.css({width:(t.style?.width||(i&&a?m:90===l.rotation?o.height-(l.alignAttr.y-o.top):(t.clip?o.width:o.chart.chartWidth)-(l.alignAttr.x-o.left)))+"px"}),l.show(!0)}getLabelText(t){return Yt(t.formatter)?t.formatter.call(this):t.text}destroy(){mh(this.axis.plotLinesAndBands,this),delete this.axis,ph(this)}}let{animObject:xh}=Mt,{format:aa}=At,{composed:Mh,dateFormats:yh,doc:ra,isSafari:Ch}=L,{distribute:Oh}=Ji,{addEvent:vh,clamp:Qe,css:la,discardElement:Ph,extend:_h,fireEvent:Po,getAlignFactor:ha,isArray:kh,isNumber:wh,isObject:Sh,isString:_o,merge:Th,pick:ti,pushUnique:Ah,splat:ko,syncTimeout:Eh}=G;class wo{constructor(t,e,i){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=t,this.init(t,e),this.pointer=i}bodyFormatter(t){return t.map(e=>{let i=e.series.tooltipOptions,n=e.formatPrefix||"point";return(i[n+"Formatter"]||e.tooltipFormatter).call(e,i[n+"Format"]||"")})}cleanSplit(t){this.chart.series.forEach(function(e){let i=e?.tt;i&&(!i.isActive||t?e.tt=i.destroy():i.isActive=!1)})}defaultFormatter(t){let e,i=this.points||ko(this);return(e=(e=[t.headerFooterFormatter(i[0])]).concat(t.bodyFormatter(i))).push(t.headerFooterFormatter(i[0],!0)),e}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),Ph(this.container)),G.clearTimeout(this.hideTimer)}getAnchor(t,e){let i,{chart:n,pointer:o}=this,s=n.inverted,a=n.plotTop,l=n.plotLeft;if(t=ko(t),t[0].series?.yAxis&&!t[0].series.yAxis.options.reversedStacks&&(t=t.slice().reverse()),this.followPointer&&e)void 0===e.chartX&&(e=o.normalize(e)),i=[e.chartX-l,e.chartY-a];else if(t[0].tooltipPos)i=t[0].tooltipPos;else{let g=0,d=0;t.forEach(function(p){let m=p.pos(!0);m&&(g+=m[0],d+=m[1])}),g/=t.length,d/=t.length,this.shared&&t.length>1&&e&&(s?g=e.chartX:d=e.chartY),i=[g-l,d-a]}let c={point:t[0],ret:i};return Po(this,"getAnchor",c),c.ret.map(Math.round)}getClassName(t,e,i){let o=t.series,s=o.options;return[this.options.className,"highcharts-label",i&&"highcharts-tooltip-header",e?"highcharts-tooltip-box":"highcharts-tooltip",!i&&"highcharts-color-"+ti(t.colorIndex,o.colorIndex),s?.className].filter(_o).join(" ")}getLabel({anchorX:t,anchorY:e}={anchorX:0,anchorY:0}){let i=this,n=this.chart.styledMode,o=this.options,s=this.split&&this.allowShared,a=this.container,l=this.chart.renderer;if(this.label){let c=!this.label.hasClass("highcharts-label");(!s&&c||s&&!c)&&this.destroy()}if(!this.label){if(this.outside){let c=this.chart,g=c.options.chart.style,d=xi.getRendererType();this.container=a=L.doc.createElement("div"),a.className="highcharts-tooltip-container "+(c.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),la(a,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(g?.zIndex||0)+3)}),this.renderer=l=new d(a,0,0,g,void 0,void 0,l.styledMode)}if(s?this.label=l.g("tooltip"):(this.label=l.label("",t,e,o.shape||"callout",void 0,void 0,o.useHTML,void 0,"tooltip").attr({padding:o.padding,r:o.borderRadius}),n||this.label.attr({fill:o.backgroundColor,"stroke-width":o.borderWidth||0}).css(o.style).css({pointerEvents:o.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),i.outside){let c=this.label;[c.xSetter,c.ySetter].forEach((g,d)=>{c[d?"ySetter":"xSetter"]=p=>{g.call(c,i.distance),c[d?"y":"x"]=p,a&&(a.style[d?"top":"left"]=`${p}px`)}})}this.label.attr({zIndex:8}).shadow(o.shadow??!o.fixed).add()}return a&&!a.parentElement&&L.doc.body.appendChild(a),this.label}getPlayingField(){let{body:t,documentElement:e}=ra,{chart:i,distance:n,outside:o}=this;return{width:o?Math.max(t.scrollWidth,e.scrollWidth,t.offsetWidth,e.offsetWidth,e.clientWidth)-2*n-2:i.chartWidth,height:o?Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,e.clientHeight):i.chartHeight}}getPosition(t,e,i){let _,{distance:n,chart:o,outside:s,pointer:a}=this,{inverted:l,plotLeft:c,plotTop:g,polar:d}=o,{plotX:p=0,plotY:m=0}=i,u={},f=l&&i.h||0,{height:x,width:b}=this.getPlayingField(),M=a.getChartPosition(),C=j=>j*M.scaleX,O=j=>j*M.scaleY,k=j=>{let D="x"===j;return[j,D?b:x,D?t:e].concat(s?[D?C(t):O(e),D?M.left-n+C(p+c):M.top-n+O(m+g),0,D?b:x]:[D?t:e,D?p+c:m+g,D?c:g,D?c+o.plotWidth:g+o.plotHeight])},P=k("y"),v=k("x"),S=!!i.negative;!d&&o.hoverSeries?.yAxis?.reversed&&(S=!S);let A=!this.followPointer&&ti(i.ttBelow,!d&&!l===S),T=function(j,D,z,tt,q,Ot,W){let $=s?"y"===j?O(n):C(n):n,K=(z-tt)/2,U=tt<q-n,it=q+n+tt<D,nt=q-$-z+K,J=q+$-K;if(A&&it)u[j]=J;else if(!A&&U)u[j]=nt;else if(U)u[j]=Math.min(W-tt,nt-f<0?nt:nt-f);else{if(!it)return u[j]=0,!1;u[j]=Math.max(Ot,J+f+z>D?J:J+f)}},I=function(j,D,z,tt,q){if(q<n||q>D-n)return!1;u[j]=q<z/2?1:q>D-tt/2?D-tt-2:q-z/2},N=function(j){[P,v]=[v,P],_=j},B=()=>{!1!==T.apply(0,P)?!1!==I.apply(0,v)||_||(N(!0),B()):_?u.x=u.y=0:(N(!0),B())};return(l&&!d||this.len>1)&&N(),B(),u}getFixedPosition(t,e,i){let n=i.series,{chart:o,options:s,split:a}=this,l=s.position,c=l.relativeTo,g=s.shared||n?.yAxis?.isRadial&&("pane"===c||!c)?"plotBox":c,d="chart"===g?o.renderer:o[g]||o.getClipBox(n,!0);return{x:d.x+(d.width-t)*ha(l.align)+l.x,y:d.y+(d.height-e)*ha(l.verticalAlign)+(!a&&l.y||0)}}hide(t){let e=this;G.clearTimeout(this.hideTimer),t=ti(t,this.options.hideDelay),this.isHidden||(this.hideTimer=Eh(function(){let i=e.getLabel();e.getLabel().animate({opacity:0},{duration:t&&150,complete:()=>{i.hide(),e.container&&e.container.remove()}}),e.isHidden=!0},t))}init(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.isHidden=!0,this.split=e.split&&!t.inverted&&!t.polar,this.shared=e.shared||this.split,this.outside=ti(e.outside,!(!t.scrollablePixelsX&&!t.scrollablePixelsY))}shouldStickOnContact(t){return!(this.followPointer||!this.options.stickOnContact||t&&!this.pointer.inClass(t.target,"highcharts-tooltip"))}move(t,e,i,n){let{followPointer:o,options:s}=this,a=xh(!o&&!this.isHidden&&!s.fixed&&s.animation),c={x:t,y:e};o||(this.len||0)>1?c.anchorX=c.anchorY=NaN:(c.anchorX=i,c.anchorY=n),a.step=()=>this.drawTracker(),this.getLabel().animate(c,a)}refresh(t,e){let{chart:i,options:n,pointer:o,shared:s}=this,a=ko(t),l=a[0],c=n.format,g=n.formatter||this.defaultFormatter,d=i.styledMode,p=this.allowShared;if(!n.enabled||!l.series)return;G.clearTimeout(this.hideTimer),this.allowShared=!(!kh(t)&&t.series&&t.series.noSharedTooltip),p=p&&!this.allowShared,this.followPointer=!this.split&&l.series.tooltipOptions.followPointer;let m=this.getAnchor(t,e),u=m[0],f=m[1];s&&this.allowShared&&(o.applyInactiveState(a),a.forEach(M=>M.setState("hover")),l.points=a),this.len=a.length;let x=_o(c)?aa(c,l,i):g.call(l,this);l.points=void 0;let b=l.series;if(this.distance=ti(b.tooltipOptions.distance,16),!1===x)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(x,a);else{let M=u,C=f;if(e&&o.isDirectTouch&&(M=e.chartX-i.plotLeft,C=e.chartY-i.plotTop),!i.polar&&!1!==b.options.clip&&!a.some(O=>o.isDirectTouch||O.series.shouldShowTooltip(M,C)))return void this.hide();{let O=this.getLabel(p&&this.tt||{});(!n.style.width||d)&&O.css({width:(this.outside?this.getPlayingField():i.spacingBox).width+"px"}),O.attr({class:this.getClassName(l),text:x&&x.join?x.join(""):x}),this.outside&&O.attr({x:Qe(O.x||0,0,this.getPlayingField().width-(O.width||0)-1)}),d||O.attr({stroke:n.borderColor||l.color||b.color||"#666666"}),this.updatePosition({plotX:u,plotY:f,negative:l.negative,ttBelow:l.ttBelow,series:b,h:m[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}Po(this,"refresh")}renderSplit(t,e){let i=this,{chart:n,chart:{chartWidth:o,chartHeight:s,plotHeight:a,plotLeft:l,plotTop:c,scrollablePixelsY:g=0,scrollablePixelsX:d,styledMode:p},distance:m,options:u,options:{fixed:f,position:x,positioner:b},pointer:M}=i,{scrollLeft:C=0,scrollTop:O=0}=n.scrollablePlotArea?.scrollingContainer||{},k=i.outside&&"number"!=typeof d?ra.documentElement.getBoundingClientRect():{left:C,right:C+o,top:O,bottom:O+s},P=i.getLabel(),v=this.renderer||n.renderer,_=!!n.xAxis[0]?.opposite,{left:S,top:A}=M.getChartPosition(),T=b||f,I=c+O,N=0,B=a-g,j=function(W,$,K,U=[0,0],it=!0){let nt,J;if(K.isHeader)J=_?0:B,nt=Qe(U[0]-W/2,k.left,k.right-W-(i.outside?S:0));else if(f&&K){let lt=i.getFixedPosition(W,$,K);nt=lt.x,J=lt.y-I}else J=U[1]-I,nt=Qe(nt=it?U[0]-W-m:U[0]+m,it?nt:k.left,k.right);return{x:nt,y:J}};_o(t)&&(t=[!1,t]);let D=t.slice(0,e.length+1).reduce(function(W,$,K){if(!1!==$&&""!==$){let U=e[K-1]||{isHeader:!0,plotX:e[0].plotX,plotY:a,series:{}},it=U.isHeader,nt=it?i:U.series,J=nt.tt=function(Bt,Pt,qt){let xe=Bt,{isHeader:ze,series:Di}=Pt,Gt=Di.tooltipOptions||u;if(!xe){let oi={padding:Gt.padding,r:Gt.borderRadius};p||(oi.fill=Gt.backgroundColor,oi["stroke-width"]=Gt.borderWidth??(f&&!ze?0:1)),xe=v.label("",0,0,Gt[ze?"headerShape":"shape"]||(f&&!ze?"rect":"callout"),void 0,void 0,Gt.useHTML).addClass(i.getClassName(Pt,!0,ze)).attr(oi).add(P)}return xe.isActive=!0,xe.attr({text:qt}),p||xe.css(Gt.style).attr({stroke:Gt.borderColor||Pt.color||Di.color||"#333333"}),xe}(nt.tt,U,$.toString()),lt=J.getBBox(),vt=lt.width+J.strokeWidth();it&&(N=lt.height,B+=N,_&&(I-=N));let{anchorX:wt,anchorY:be}=function(Bt){let Pt,qt,{isHeader:xe,plotX:ze=0,plotY:Di=0,series:Gt}=Bt;if(xe)Pt=Math.max(l+ze,l),qt=c+a/2;else{let{xAxis:oi,yAxis:kr}=Gt;Pt=oi.pos+Qe(ze,-m,oi.len+m),Gt.shouldShowTooltip(0,kr.pos-c+Di,{ignoreX:!0})&&(qt=kr.pos+Di)}return{anchorX:Pt=Qe(Pt,k.left-m,k.right+m),anchorY:qt}}(U);if("number"==typeof be){let Bt=lt.height+1,Pt=(b||j).call(i,vt,Bt,U,[wt,be]);W.push({align:T?0:void 0,anchorX:wt,anchorY:be,boxWidth:vt,point:U,rank:ti(Pt.rank,+!!it),size:Bt,target:Pt.y,tt:J,x:Pt.x})}else J.isActive=!1}return W},[]);!T&&D.some(W=>{let{outside:$}=i,K=($?S:0)+W.anchorX;return K<k.left&&K+W.boxWidth<k.right||K<S-k.left+W.boxWidth&&k.right-K>K})&&(D=D.map(W=>{let{x:$,y:K}=j.call(this,W.boxWidth,W.size,W.point,[W.anchorX,W.anchorY],!1);return _h(W,{target:K,x:$})})),i.cleanSplit(),Oh(D,B);let z={left:S,right:S};D.forEach(function(W){let{x:$,boxWidth:K,isHeader:U}=W;!U&&(i.outside&&S+$<z.left&&(z.left=S+$),!U&&i.outside&&z.left+K>z.right&&(z.right=S+$))}),D.forEach(function(W){let{x:$,anchorX:K,anchorY:U,pos:it,point:{isHeader:nt}}=W,J={visibility:void 0===it?"hidden":"inherit",x:$,y:(it||0)+I+(f&&x.y||0),anchorX:K,anchorY:U};if(i.outside&&$<K){let lt=S-z.left;lt>0&&(nt||(J.x=$+lt,J.anchorX=K+lt),nt&&(J.x=(z.right-z.left)/2,J.anchorX=K+lt))}W.tt.attr(J)});let{container:tt,outside:q,renderer:Ot}=i;if(q&&tt&&Ot){let{width:W,height:$,x:K,y:U}=P.getBBox();Ot.setSize(W+K,$+U,!1),tt.style.left=z.left+"px",tt.style.top=A+"px"}Ch&&P.attr({opacity:1===P.opacity?.999:1})}drawTracker(){if(!this.shouldStickOnContact())return void(this.tracker&&(this.tracker=this.tracker.destroy()));let t=this.chart,e=this.label,i=this.shared?t.hoverPoints:t.hoverPoint;if(!e||!i)return;let n={x:0,y:0,width:0,height:0},o=this.getAnchor(i),s=e.getBBox();o[0]+=t.plotLeft-(e.translateX||0),o[1]+=t.plotTop-(e.translateY||0),n.x=Math.min(0,o[0]),n.y=Math.min(0,o[1]),n.width=o[0]<0?Math.max(Math.abs(o[0]),s.width-o[0]):Math.max(Math.abs(o[0]),s.width),n.height=o[1]<0?Math.max(Math.abs(o[1]),s.height-Math.abs(o[1])):Math.max(Math.abs(o[1]),s.height),this.tracker?this.tracker.attr(n):(this.tracker=e.renderer.rect(n).addClass("highcharts-tracker").add(e),t.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(t){return t.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(t,e){let i=t.series,n=i.tooltipOptions,o=i.xAxis,s=o?.dateTime,a={isFooter:e,point:t},l=n.xDateFormat||"",c=n[e?"footerFormat":"headerFormat"];return Po(this,"headerFormatter",a,function(g){if(s&&!l&&wh(t.key)&&(l=s.getXDateFormat(t.key,n.dateTimeLabelFormats)),s&&l){if(Sh(l)){let d=l;yh[0]=p=>i.chart.time.dateFormat(d,p),l="%0"}(t.tooltipDateKeys||["key"]).forEach(d=>{c=c.replace(RegExp("point\\."+d+"([ \\)}])"),`(point.${d}:${l})$1`)})}i.chart.styledMode&&(c=this.styledModeFormat(c)),g.text=aa(c,t,this.chart)}),a.text||""}update(t){this.destroy(),this.init(this.chart,Th(!0,this.options,t))}updatePosition(t){let O,{chart:e,container:i,distance:n,options:o,pointer:s,renderer:a}=this,{height:l=0,width:c=0}=this.getLabel(),{fixed:g,positioner:d}=o,{left:p,top:m,scaleX:u,scaleY:f}=s.getChartPosition(),x=(d||g&&this.getFixedPosition||this.getPosition).call(this,c,l,t),b=L.doc,M=(t.plotX||0)+e.plotLeft,C=(t.plotY||0)+e.plotTop;if(a&&i){if(d||g){let{scrollLeft:k=0,scrollTop:P=0}=e.scrollablePlotArea?.scrollingContainer||{};x.x+=k+p-n,x.y+=P+m-n}O=(o.borderWidth||0)+2*n+2,a.setSize(Qe(c+O,0,b.documentElement.clientWidth)-1,l+O,!1),(1!==u||1!==f)&&(la(i,{transform:`scale(${u}, ${f})`}),M*=u,C*=f),M+=p-x.x,C+=m-x.y}this.move(Math.round(x.x),Math.round(x.y||0),M,C)}}!function(h){h.compose=function(t){Ah(Mh,"Core.Tooltip")&&vh(t,"afterInit",function(){let e=this.chart;e.options.tooltip&&(e.tooltip=new h(e,e.options.tooltip,this))})}}(wo||(wo={}));let ca=wo,{animObject:Fh}=Mt,{defaultOptions:Lh}=_t,{format:Rh}=At,{addEvent:Dh,crisp:Ih,erase:jh,extend:xn,fireEvent:So,getNestedProperty:zh,isArray:Nh,isFunction:Bh,isNumber:le,isObject:Mn,merge:da,pick:he,syncTimeout:Gh,removeEvent:ga,uniqueKey:Hh}=G;class Pi{animateBeforeDestroy(){let t=this,e={x:t.startXPos,opacity:0},i=t.getGraphicalProps();i.singular.forEach(function(n){t[n]=t[n].animate("dataLabel"===n?{x:t[n].startXPos,y:t[n].startYPos,opacity:0}:e)}),i.plural.forEach(function(n){t[n].forEach(function(o){o.element&&o.animate(xn({x:t.startXPos},o.startYPos?{x:o.startXPos,y:o.startYPos}:{}))})})}applyOptions(t,e){let i=this.series,n=i.options.pointValKey||i.pointValKey;return xn(this,t=Pi.prototype.optionsToObject.call(this,t)),this.options=this.options?xn(this.options,t):t,t.group&&delete this.group,t.dataLabels&&delete this.dataLabels,n&&(this.y=Pi.prototype.getNestedProperty.call(this,n)),this.selected&&(this.state="select"),"name"in this&&void 0===e&&i.xAxis&&i.xAxis.hasNames&&(this.x=i.xAxis.nameToX(this)),void 0===this.x&&i?this.x=e??i.autoIncrement():le(t.x)&&i.options.relativeXValue?this.x=i.autoIncrement(t.x):"string"==typeof this.x&&(e??(e=i.chart.time.parse(this.x)),le(e)&&(this.x=e)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let t=this,e=t.series,i=e.chart,n=e.options.dataSorting,o=i.hoverPoints,s=Fh(t.series.chart.renderer.globalAnimation),a=()=>{for(let l in(t.graphic||t.graphics||t.dataLabel||t.dataLabels)&&(ga(t),t.destroyElements()),t)delete t[l]};t.legendItem&&i.legend.destroyItem(t),o&&(t.setState(),jh(o,t),o.length||(i.hoverPoints=null)),t===i.hoverPoint&&t.onMouseOut(),n?.enabled?(this.animateBeforeDestroy(),Gh(a,s.duration)):a(),i.pointCount--}this.destroyed=!0}destroyElements(t){let e=this,i=e.getGraphicalProps(t);i.singular.forEach(function(n){e[n]=e[n].destroy()}),i.plural.forEach(function(n){e[n].forEach(function(o){o?.element&&o.destroy()}),delete e[n]})}firePointEvent(t,e,i){let n=this,o=this.series.options;n.manageEvent(t),"click"===t&&o.allowPointSelect&&(i=function(s){!n.destroyed&&n.select&&n.select(null,s.ctrlKey||s.metaKey||s.shiftKey)}),So(n,t,e,i)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone?.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(t){let e,i,n=this,o=[],s={singular:[],plural:[]};for((t=t||{graphic:1,dataLabel:1}).graphic&&o.push("graphic","connector"),t.dataLabel&&o.push("dataLabel","dataLabelPath","dataLabelUpper"),i=o.length;i--;)n[e=o[i]]&&s.singular.push(e);return["graphic","dataLabel"].forEach(function(a){let l=a+"s";t[a]&&n[l]&&s.plural.push(l)}),s}getNestedProperty(t){if(t)return 0===t.indexOf("custom.")?zh(t,this.options):this[t]}getZone(){let n,t=this.series,e=t.zones,i=t.zoneAxis||"y",o=0;for(n=e[0];this[i]>=n.value;)n=e[++o];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=n?.color&&!this.options.color?n.color:this.nonZonedColor,n}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(t,e,i){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=t,this.applyOptions(e,i),this.id??(this.id=Hh()),this.resolveColor(),this.dataLabelOnNull??(this.dataLabelOnNull=t.options.nullInteraction),t.chart.pointCount++,So(this,"afterInit")}isValid(){return(le(this.x)||this.x instanceof Date)&&le(this.y)}optionsToObject(t){let a,e=this.series,i=e.options.keys,n=i||e.pointArrayMap||["y"],o=n.length,s={},l=0,c=0;if(le(t)||null===t)s[n[0]]=t;else if(Nh(t))for(!i&&t.length>o&&("string"==(a=typeof t[0])?e.xAxis?.dateTime?s.x=e.chart.time.parse(t[0]):s.name=t[0]:"number"===a&&(s.x=t[0]),l++);c<o;)i&&void 0===t[l]||(n[c].indexOf(".")>0?Pi.prototype.setNestedProperty(s,t[l],n[c]):s[n[c]]=t[l]),l++,c++;else"object"==typeof t&&(s=t,t.dataLabels&&(e.hasDataLabels=()=>!0),t.marker&&(e._hasPointMarkers=!0));return s}pos(t,e=this.plotY){if(!this.destroyed){let{plotX:i,series:n}=this,{chart:o,xAxis:s,yAxis:a}=n,l=0,c=0;if(le(i)&&le(e))return t&&(l=s?s.pos:o.plotLeft,c=a?a.pos:o.plotTop),o.inverted&&s&&a?[a.len-e+c,s.len-i+l]:[i+l,e+c]}}resolveColor(){let n,o,a,t=this.series,i=t.chart.styledMode,s=t.chart.options.chart.colorCount;delete this.nonZonedColor,t.options.colorByPoint?(i||(n=(o=t.options.colors||t.chart.options.colors)[t.colorCounter],s=o.length),a=t.colorCounter,t.colorCounter++,t.colorCounter===s&&(t.colorCounter=0)):(i||(n=t.color),a=t.colorIndex),this.colorIndex=he(this.options.colorIndex,a),this.color=he(this.options.color,n)}setNestedProperty(t,e,i){return i.split(".").reduce(function(n,o,s,a){return n[o]=a.length-1===s?e:Mn(n[o],!0)?n[o]:{},n[o]},t),t}shouldDraw(){return!this.isNull}tooltipFormatter(t){let{chart:e,pointArrayMap:i=["y"],tooltipOptions:n}=this.series,{valueDecimals:o="",valuePrefix:s="",valueSuffix:a=""}=n;return e.styledMode&&(t=e.tooltip?.styledModeFormat(t)||t),i.forEach(l=>{l="{point."+l,(s||a)&&(t=t.replace(RegExp(l+"}","g"),s+l+"}"+a)),t=t.replace(RegExp(l+"}","g"),l+":,."+o+"f}")}),Rh(t,this,e)}update(t,e,i,n){let o,s=this,a=s.series,l=s.graphic,c=a.chart,g=a.options;function d(){s.applyOptions(t);let p=l&&s.hasMockGraphic;l&&(null===s.y?!p:p)&&(s.graphic=l.destroy(),delete s.hasMockGraphic),Mn(t,!0)&&(l?.element&&t&&t.marker&&void 0!==t.marker.symbol&&(s.graphic=l.destroy()),t?.dataLabels&&s.dataLabel&&(s.dataLabel=s.dataLabel.destroy())),o=s.index;let u={};for(let f of a.dataColumnKeys())u[f]=s[f];a.dataTable.setRow(u,o),g.data[o]=Mn(g.data[o],!0)||Mn(t,!0)?s.options:he(t,g.data[o]),a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===g.legendType&&(c.isDirtyLegend=!0),e&&c.redraw(i)}e=he(e,!0),!1===n?d():s.firePointEvent("update",{options:t},d)}remove(t,e){this.series.removePoint(this.series.data.indexOf(this),t,e)}select(t,e){let i=this,n=i.series,o=n.chart;t=he(t,!i.selected),this.selectedStaging=t,i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,n.options.data[n.data.indexOf(i)]=i.options,i.setState(t&&"select"),e||o.getSelectedPoints().forEach(function(s){let a=s.series;s.selected&&s!==i&&(s.selected=s.options.selected=!1,a.options.data[a.data.indexOf(s)]=s.options,s.setState(o.hoverPoints&&a.options.inactiveOtherPoints?"inactive":""),s.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(t){let{inverted:e,pointer:i}=this.series.chart;i&&(t=t?i.normalize(t):i.getChartCoordinatesFromPoint(this,e),i.runPointActions(t,this))}onMouseOut(){let t=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(t.hoverPoints||[]).forEach(function(e){e.setState()}),t.hoverPoints=t.hoverPoint=null}manageEvent(t){let e=da(this.series.options.point,this.options),i=e.events?.[t];!Bh(i)||this.hcEvents?.[t]&&-1!==this.hcEvents?.[t]?.map(n=>n.fn).indexOf(i)?this.importedUserEvent&&!i&&this.hcEvents?.[t]&&this.hcEvents?.[t].userEvent&&(ga(this,t),delete this.hcEvents[t],Object.keys(this.hcEvents)||delete this.importedUserEvent):(this.importedUserEvent?.(),this.importedUserEvent=Dh(this,t,i),this.hcEvents&&(this.hcEvents[t].userEvent=!0))}setState(t,e){let u,f,x,M,i=this.series,n=this.state,o=i.options.states[t||"normal"]||{},s=Lh.plotOptions[i.type].marker&&i.options.marker,a=s&&!1===s.enabled,l=s?.states?.[t||"normal"]||{},g=this.marker||{},d=i.chart,p=s&&i.markerAttribs,m=i.halo,b=i.stateMarkerGraphic;if((t=t||"")===this.state&&!e||this.selected&&"select"!==t||!1===o.enabled||t&&(!1===l.enabled||a&&!1===l.enabled)||t&&g.states&&g.states[t]&&!1===g.states[t].enabled)return;if(this.state=t,p&&(u=i.markerAttribs(this,t)),this.graphic&&!this.hasMockGraphic){if(n&&this.graphic.removeClass("highcharts-point-"+n),t&&this.graphic.addClass("highcharts-point-"+t),!d.styledMode){f=i.pointAttribs(this,t),x=he(d.options.chart.animation,o.animation);let P=f.opacity;i.options.inactiveOtherPoints&&le(P)&&(this.dataLabels||[]).forEach(function(v){v&&!v.hasClass("highcharts-data-label-hidden")&&(v.animate({opacity:P},x),v.connector&&v.connector.animate({opacity:P},x))}),this.graphic.animate(f,x)}u&&this.graphic.animate(u,he(d.options.chart.animation,l.animation,s.animation)),b&&b.hide()}else t&&l&&(M=g.symbol||i.symbol,b&&b.currentSymbol!==M&&(b=b.destroy()),u&&(b?b[e?"animate":"attr"]({x:u.x,y:u.y}):M&&(i.stateMarkerGraphic=b=d.renderer.symbol(M,u.x,u.y,u.width,u.height,da(s,l)).add(i.markerGroup),b.currentSymbol=M)),!d.styledMode&&b&&"inactive"!==this.state&&b.attr(i.pointAttribs(this,t))),b&&(b[t&&this.isInside?"show":"hide"](),b.element.point=this,b.addClass(this.getClassName(),!0));let C=o.halo,O=this.graphic||b,k=O?.visibility||"inherit";C?.size&&O&&"hidden"!==k&&!this.isCluster?(m||(i.halo=m=d.renderer.path().add(O.parentGroup)),m.show()[e?"animate":"attr"]({d:this.haloPath(C.size)}),m.attr({class:"highcharts-halo highcharts-color-"+he(this.colorIndex,i.colorIndex)+(this.className?" "+this.className:""),visibility:k,zIndex:-1}),m.point=this,d.styledMode||m.attr(xn({fill:this.color||i.color,"fill-opacity":C.opacity},ot.filterUserAttributes(C.attributes||{})))):m?.point?.haloPath&&!m.point.destroyed&&m.animate({d:m.point.haloPath(0)},null,m.hide),So(this,"afterSetState",{state:t})}haloPath(t){let e=this.pos();return e?this.series.chart.renderer.symbols.circle(Ih(e[0],1)-t,e[1]-t,2*t,2*t):[]}}let ce=Pi,{parse:$h}=Q,{charts:To,composed:Wh,isTouchDevice:Xh}=L,{addEvent:Et,attr:Yh,css:Ao,extend:Eo,find:pa,fireEvent:de,isNumber:yn,isObject:Cn,objectEach:Uh,offset:Vh,pick:Ut,pushUnique:qh,splat:ma}=G;class ut{applyInactiveState(t=[]){let e=[];for(let i of(t.forEach(n=>{let o=n.series;e.push(o),o.linkedParent&&e.push(o.linkedParent),o.linkedSeries&&e.push.apply(e,o.linkedSeries),o.navigatorSeries&&e.push(o.navigatorSeries),o.boosted&&o.markerGroup&&e.push.apply(e,this.chart.series.filter(s=>s.markerGroup===o.markerGroup))}),this.chart.series)){let n=i.options;!1!==n.states?.inactive?.enabled&&(-1===e.indexOf(i)?i.setState("inactive",!0):n.inactiveOtherPoints&&i.setAllPointsToState("inactive"))}}destroy(){let t=this;this.eventsToUnbind.forEach(e=>e()),this.eventsToUnbind=[],!L.chartCount&&(ut.unbindDocumentMouseUp.forEach(e=>e.unbind()),ut.unbindDocumentMouseUp.length=0,ut.unbindDocumentTouchEnd&&(ut.unbindDocumentTouchEnd=ut.unbindDocumentTouchEnd())),clearInterval(t.tooltipTimeout),Uh(t,function(e,i){t[i]=void 0})}getSelectionMarkerAttrs(t,e){let i={args:{chartX:t,chartY:e},attrs:{},shapeType:"rect"};return de(this,"getSelectionMarkerAttrs",i,n=>{let o,{chart:s,zoomHor:a,zoomVert:l}=this,{mouseDownX:c=0,mouseDownY:g=0}=s,d=n.attrs;d.x=s.plotLeft,d.y=s.plotTop,d.width=a?1:s.plotWidth,d.height=l?1:s.plotHeight,a&&(d.width=Math.max(1,Math.abs(o=t-c)),d.x=(o>0?0:o)+c),l&&(d.height=Math.max(1,Math.abs(o=e-g)),d.y=(o>0?0:o)+g)}),i}drag(t){let x,{chart:e}=this,{mouseDownX:i=0,mouseDownY:n=0}=e,{panning:o,panKey:s,selectionMarkerFill:a}=e.options.chart,l=e.plotLeft,c=e.plotTop,g=e.plotWidth,d=e.plotHeight,p=Cn(o)?o.enabled:o,m=s&&t[`${s}Key`],u=t.chartX,f=t.chartY,b=this.selectionMarker;if((!b||!b.touch)&&(u<l?u=l:u>l+g&&(u=l+g),f<c?f=c:f>c+d&&(f=c+d),this.hasDragged=Math.sqrt(Math.pow(i-u,2)+Math.pow(n-f,2)),this.hasDragged>10)){x=e.isInsidePlot(i-l,n-c,{visiblePlotOnly:!0});let{shapeType:M,attrs:C}=this.getSelectionMarkerAttrs(u,f);this.hasZoom&&x&&!m&&!b&&(this.selectionMarker=b=e.renderer[M](),b.attr({class:"highcharts-selection-marker",zIndex:7}).add(),e.styledMode||b.attr({fill:a||$h("#334eff").setOpacity(.25).get()})),b&&b.attr(C),x&&!b&&p&&e.pan(t,o)}}dragStart(t){let e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=t.chartX,e.mouseDownY=t.chartY}getSelectionBox(t){let e={args:{marker:t},result:t.getBBox()};return de(this,"getSelectionBox",e),e.result}drop(t){let e,{chart:i,selectionMarker:n}=this;for(let o of i.axes)o.isPanning&&(o.isPanning=!1,(o.options.startOnTick||o.options.endOnTick||o.series.some(s=>s.boosted))&&(o.forceRedraw=!0,o.setExtremes(o.userMin,o.userMax,!1),e=!0));if(e&&i.redraw(),n&&t){if(this.hasDragged){let o=this.getSelectionBox(n);i.transform({axes:i.axes.filter(s=>s.zoomEnabled&&("xAxis"===s.coll&&this.zoomX||"yAxis"===s.coll&&this.zoomY)),selection:{originalEvent:t,xAxis:[],yAxis:[],...o},from:o})}yn(i.index)&&(this.selectionMarker=n.destroy())}i&&yn(i.index)&&(Ao(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[],this.hasPinchMoved=!1)}findNearestKDPoint(t,e,i){let n;return t.forEach(function(o){let s=!(o.noSharedTooltip&&e)&&0>o.options.findNearestPointBy.indexOf("y"),a=o.searchPoint(i,s);Cn(a,!0)&&a.series&&(!Cn(n,!0)||function(l,c){let d=l.distX-c.distX,p=l.dist-c.dist,m=c.series.group?.zIndex-l.series.group?.zIndex;return 0!==d&&e?d:0!==p?p:0!==m?m:l.series.index>c.series.index?-1:1}(n,a)>0)&&(n=a)}),n}getChartCoordinatesFromPoint(t,e){let{xAxis:i,yAxis:n}=t.series,o=t.shapeArgs;if(i&&n){let s=t.clientX??t.plotX??0,a=t.plotY||0;return t.isNode&&o&&yn(o.x)&&yn(o.y)&&(s=o.x,a=o.y),e?{chartX:n.len+n.pos-a,chartY:i.len+i.pos-s}:{chartX:s+i.pos,chartY:a+n.pos}}if(o?.x&&o.y)return{chartX:o.x,chartY:o.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:t}=this.chart,e=Vh(t);this.chartPosition={left:e.left,top:e.top,scaleX:1,scaleY:1};let{offsetHeight:i,offsetWidth:n}=t;return n>2&&i>2&&(this.chartPosition.scaleX=e.width/n,this.chartPosition.scaleY=e.height/i),this.chartPosition}getCoordinates(t){let e={xAxis:[],yAxis:[]};for(let i of this.chart.axes)e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])});return e}getHoverData(t,e,i,n,o,s){let g,a=[],l=function(m){return m.visible&&!(!o&&m.directTouch)&&Ut(m.options.enableMouseTracking,!0)},c=e,d={chartX:s?s.chartX:void 0,chartY:s?s.chartY:void 0,shared:o};de(this,"beforeGetHoverData",d),g=c&&!c.stickyTracking?[c]:i.filter(m=>m.stickyTracking&&(d.filter||l)(m));let p=n&&t||!s?t:this.findNearestKDPoint(g,o,s);return c=p?.series,p&&(o&&!c.noSharedTooltip?(g=i.filter(function(m){return d.filter?d.filter(m):l(m)&&!m.noSharedTooltip})).forEach(function(m){let u=m.options?.nullInteraction,f=pa(m.points,function(x){return!(x.x!==p.x||x.isNull&&!u)});Cn(f)&&(m.boosted&&m.boost&&(f=m.boost.getPoint(f)),a.push(f))}):a.push(p)),de(this,"afterGetHoverData",d={hoverPoint:p}),{hoverPoint:d.hoverPoint,hoverSeries:c,hoverPoints:a}}getPointFromEvent(t){let i,e=t.target;for(;e&&!i;)i=e.point,e=e.parentNode;return i}onTrackerMouseOut(t){let i=t.relatedTarget,n=this.chart.hoverSeries;this.isDirectTouch=!1,!n||!i||n.stickyTracking||this.inClass(i,"highcharts-tooltip")||this.inClass(i,"highcharts-series-"+n.index)&&this.inClass(i,"highcharts-tracker")||n.onMouseOut()}inClass(t,e){let n,i=t;for(;i;){if(n=Yh(i,"class")){if(-1!==n.indexOf(e))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}i=i.parentElement}}constructor(t,e){this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=e,this.chart=t,this.runChartClick=!!e.chart.events?.click,this.pinchDown=[],this.setDOMEvents(),de(this,"afterInit")}normalize(t,e){let i=t.touches,n=i?i.length?i.item(0):Ut(i.changedTouches,t.changedTouches)[0]:t;e||(e=this.getChartPosition());let o=n.pageX-e.left,s=n.pageY-e.top;return Eo(t,{chartX:Math.round(o/=e.scaleX),chartY:Math.round(s/=e.scaleY)})}onContainerClick(t){let e=this.chart,i=e.hoverPoint,n=this.normalize(t),o=e.plotLeft,s=e.plotTop;!e.cancelClick&&(i&&this.inClass(n.target,"highcharts-tracker")?(de(i.series,"click",Eo(n,{point:i})),e.hoverPoint&&i.firePointEvent("click",n)):(Eo(n,this.getCoordinates(n)),e.isInsidePlot(n.chartX-o,n.chartY-s,{visiblePlotOnly:!0})&&de(e,"click",n)))}onContainerMouseDown(t){let e=1==(1&(t.buttons||t.button));t=this.normalize(t),L.isFirefox&&0!==t.button&&this.onContainerMouseMove(t),(void 0===t.button||e)&&(this.zoomOption(t),e&&t.preventDefault?.(),this.dragStart(t))}onContainerMouseLeave(t){let{pointer:e}=To[Ut(ut.hoverChartIndex,-1)]||{};t=this.normalize(t),this.onContainerMouseMove(t),e&&!this.inClass(t.relatedTarget,"highcharts-tooltip")&&(e.reset(),e.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(t){let e=this.chart,i=e.tooltip,n=this.normalize(t);this.setHoverChartIndex(t),("mousedown"===e.mouseIsDown||this.touchSelect(n))&&this.drag(n),!e.exporting?.openMenu&&(this.inClass(n.target,"highcharts-tracker")||e.isInsidePlot(n.chartX-e.plotLeft,n.chartY-e.plotTop,{visiblePlotOnly:!0}))&&!i?.shouldStickOnContact(n)&&(this.inClass(n.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(n))}onDocumentTouchEnd(t){this.onDocumentMouseUp(t)}onContainerTouchMove(t){this.touchSelect(t)?this.onContainerMouseMove(t):this.touch(t)}onContainerTouchStart(t){this.touchSelect(t)?this.onContainerMouseDown(t):(this.zoomOption(t),this.touch(t,!0))}onDocumentMouseMove(t){let e=this.chart,i=e.tooltip,n=this.chartPosition,o=this.normalize(t,n);!n||e.isInsidePlot(o.chartX-e.plotLeft,o.chartY-e.plotTop,{visiblePlotOnly:!0})||i?.shouldStickOnContact(o)||o.target!==e.container.ownerDocument&&this.inClass(o.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(t){t?.touches&&this.hasPinchMoved&&t?.preventDefault?.(),To[Ut(ut.hoverChartIndex,-1)]?.pointer?.drop(t)}pinch(t){let e=this,{chart:i,hasZoom:n,lastTouches:o}=e,s=[].map.call(t.touches||[],d=>e.normalize(d)),a=s.length,l=1===a&&(e.inClass(t.target,"highcharts-tracker")&&i.runTrackerClick||e.runChartClick),c=i.tooltip,g=1===a&&Ut(c?.options.followTouchMove,!0);a>1?e.initiated=!0:g&&(e.initiated=!1),n&&e.initiated&&!l&&!1!==t.cancelable&&t.preventDefault(),"touchstart"===t.type?(e.pinchDown=s,e.res=!0,i.mouseDownX=t.chartX):g?this.runPointActions(e.normalize(t)):o&&(de(i,"touchpan",{originalEvent:t,touches:s},()=>{let d=p=>{let m=p[0],u=p[1]||m;return{x:m.chartX,y:m.chartY,width:u.chartX-m.chartX,height:u.chartY-m.chartY}};i.transform({axes:i.axes.filter(p=>p.zoomEnabled&&(this.zoomHor&&p.horiz||this.zoomVert&&!p.horiz)),to:d(s),from:d(o),trigger:t.type})}),e.res&&(e.res=!1,this.reset(!1,0))),e.lastTouches=s}reset(t,e){let i=this.chart,n=i.hoverSeries,o=i.hoverPoint,s=i.hoverPoints,a=i.tooltip,l=a?.shared?s:o;t&&l&&ma(l).forEach(function(c){c.series.isCartesian&&void 0===c.plotX&&(t=!1)}),t?a&&l&&ma(l).length&&(a.refresh(l),a.shared&&s?s.forEach(function(c){c.setState(c.state,!0),c.series.isCartesian&&(c.series.xAxis.crosshair&&c.series.xAxis.drawCrosshair(null,c),c.series.yAxis.crosshair&&c.series.yAxis.drawCrosshair(null,c))}):o&&(o.setState(o.state,!0),i.axes.forEach(function(c){c.crosshair&&o.series[c.coll]===c&&c.drawCrosshair(null,o)}))):(o&&o.onMouseOut(),s&&s.forEach(function(c){c.setState()}),n&&n.onMouseOut(),a&&a.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),i.axes.forEach(function(c){c.hideCrosshair()}),i.hoverPoints=i.hoverPoint=void 0)}runPointActions(t,e,i){let n=this.chart,o=n.series,s=n.tooltip?.options.enabled?n.tooltip:void 0,a=!!s&&s.shared,l=e||n.hoverPoint,c=l?.series||n.hoverSeries,d=this.getHoverData(l,c,o,(!t||"touchmove"!==t.type)&&(!!e||c?.directTouch&&this.isDirectTouch),a,t);l=d.hoverPoint,c=d.hoverSeries;let p=d.hoverPoints,m=c?.tooltipOptions.followPointer&&!c.tooltipOptions.split,u=a&&c&&!c.noSharedTooltip;if(l&&(i||l!==n.hoverPoint||s?.isHidden)){if((n.hoverPoints||[]).forEach(function(f){-1===p.indexOf(f)&&f.setState()}),n.hoverSeries!==c&&c.onMouseOver(),this.applyInactiveState(p),(p||[]).forEach(function(f){f.setState("hover")}),n.hoverPoint&&n.hoverPoint.firePointEvent("mouseOut"),!l.series)return;n.hoverPoints=p,n.hoverPoint=l,l.firePointEvent("mouseOver",void 0,()=>{s&&l&&s.refresh(u?p:l,t)})}else if(m&&s&&!s.isHidden){let f=s.getAnchor([{}],t);n.isInsidePlot(f[0],f[1],{visiblePlotOnly:!0})&&s.updatePosition({plotX:f[0],plotY:f[1]})}this.unDocMouseMove||(this.unDocMouseMove=Et(n.container.ownerDocument,"mousemove",f=>To[ut.hoverChartIndex??-1]?.pointer?.onDocumentMouseMove(f)),this.eventsToUnbind.push(this.unDocMouseMove)),n.axes.forEach(function(f){let x,b=f.crosshair?.snap??!0;b&&((x=n.hoverPoint)&&x.series[f.coll]===f||(x=pa(p,M=>M.series?.[f.coll]===f))),x||!b?f.drawCrosshair(t,x):f.hideCrosshair()})}setDOMEvents(){let t=this.chart.container,e=t.ownerDocument;t.onmousedown=this.onContainerMouseDown.bind(this),t.onmousemove=this.onContainerMouseMove.bind(this),t.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(Et(t,"mouseenter",this.onContainerMouseEnter.bind(this)),Et(t,"mouseleave",this.onContainerMouseLeave.bind(this))),ut.unbindDocumentMouseUp.some(n=>n.doc===e)||ut.unbindDocumentMouseUp.push({doc:e,unbind:Et(e,"mouseup",this.onDocumentMouseUp.bind(this))});let i=this.chart.renderTo.parentElement;for(;i&&"BODY"!==i.tagName;)this.eventsToUnbind.push(Et(i,"scroll",()=>{delete this.chartPosition})),i=i.parentElement;this.eventsToUnbind.push(Et(t,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),Et(t,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),ut.unbindDocumentTouchEnd||(ut.unbindDocumentTouchEnd=Et(e,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),Et(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){if(!Xh)return;let t=this.pointerCaptureEventsToUnbind,e=this.chart,i=e.container,n=Ut(e.options.tooltip?.followTouchMove,!0)&&e.series.some(o=>o.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&n?(t.push(Et(i,"pointerdown",o=>{o.target?.hasPointerCapture(o.pointerId)&&o.target?.releasePointerCapture(o.pointerId)}),Et(i,"pointermove",o=>{e.pointer?.getPointFromEvent(o)?.onMouseOver(o)})),e.styledMode||Ao(i,{"touch-action":"none"}),i.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!n&&(t.forEach(o=>o()),t.length=0,e.styledMode||Ao(i,{"touch-action":Ut(e.options.chart.style?.["touch-action"],"manipulation")}),i.className=i.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(t){let e=this.chart,i=L.charts[Ut(ut.hoverChartIndex,-1)];if(i&&i!==e){let n={relatedTarget:e.container};t&&!t?.relatedTarget&&Object.assign({},t,n),i.pointer?.onContainerMouseLeave(t||n)}i?.mouseIsDown||(ut.hoverChartIndex=e.index)}touch(t,e){let i,{chart:n,pinchDown:o=[]}=this;this.setHoverChartIndex(),1===(t=this.normalize(t)).touches.length?n.isInsidePlot(t.chartX-n.plotLeft,t.chartY-n.plotTop,{visiblePlotOnly:!0})&&!n.exporting?.openMenu?(e&&this.runPointActions(t),"touchmove"===t.type&&(this.hasPinchMoved=i=!!o[0]&&Math.pow(o[0].chartX-t.chartX,2)+Math.pow(o[0].chartY-t.chartY,2)>=16),Ut(i,!0)&&this.pinch(t)):e&&this.reset():2===t.touches.length&&this.pinch(t)}touchSelect(t){return!(!this.chart.zooming.singleTouch||!t.touches||1!==t.touches.length)}zoomOption(t){let o,s,e=this.chart,i=e.inverted,n=e.zooming.type||"";/touch/.test(t.type)&&(n=Ut(e.zooming.pinchType,n)),this.zoomX=o=/x/.test(n),this.zoomY=s=/y/.test(n),this.zoomHor=o&&!i||s&&i,this.zoomVert=s&&!i||o&&i,this.hasZoom=o||s}}ut.unbindDocumentMouseUp=[],function(h){h.compose=function(t){qh(Wh,"Core.Pointer")&&Et(t,"beforeRender",function(){this.pointer=new h(this,this.options)})}}(ut||(ut={}));let ua=ut;!function(h){h.setLength=function(t,e,i){return Array.isArray(t)?(t.length=e,t):t[i?"subarray":"slice"](0,e)},h.splice=function(t,e,i,n,o=[]){if(Array.isArray(t))return Array.isArray(o)||(o=Array.from(o)),{removed:t.splice(e,i,...o),array:t};let s=Object.getPrototypeOf(t).constructor,a=t[n?"subarray":"slice"](e,e+i),l=new s(t.length-i+o.length);return l.set(t.subarray(0,e),0),l.set(o,e),l.set(t.subarray(e+i),e+o.length),{removed:a,array:l}}}(Kt||(Kt={}));let{setLength:Zh,splice:fa}=Kt,{fireEvent:Fo,objectEach:_i,uniqueKey:ki}=G,On=class{constructor(h={}){this.autoId=!h.id,this.columns={},this.id=h.id||ki(),this.modified=this,this.rowCount=0,this.versionTag=ki();let t=0;_i(h.columns||{},(e,i)=>{this.columns[i]=e.slice(),t=Math.max(t,e.length)}),this.applyRowCount(t)}applyRowCount(h){this.rowCount=h,_i(this.columns,(t,e)=>{t.length!==h&&(this.columns[e]=Zh(t,h))})}deleteRows(h,t=1){if(t>0&&h<this.rowCount){let e=0;_i(this.columns,(i,n)=>{this.columns[n]=fa(i,h,t).array,e=i.length}),this.rowCount=e}Fo(this,"afterDeleteRows",{rowIndex:h,rowCount:t}),this.versionTag=ki()}getColumn(h,t){return this.columns[h]}getColumns(h,t){return(h||Object.keys(this.columns)).reduce((e,i)=>(e[i]=this.columns[i],e),{})}getRow(h,t){return(t||Object.keys(this.columns)).map(e=>this.columns[e]?.[h])}setColumn(h,t=[],e=0,i){this.setColumns({[h]:t},e,i)}setColumns(h,t,e){let i=this.rowCount;_i(h,(n,o)=>{this.columns[o]=n.slice(),i=n.length}),this.applyRowCount(i),e?.silent||(Fo(this,"afterSetColumns"),this.versionTag=ki())}setRow(h,t=this.rowCount,e,i){let{columns:n}=this,o=e?this.rowCount+1:t+1;_i(h,(s,a)=>{let l=n[a]||!1!==i?.addColumns&&Array(o);l&&(e?l=fa(l,t,0,!0,[s]).array:l[t]=s,n[a]=l)}),o>this.rowCount&&this.applyRowCount(o),i?.silent||(Fo(this,"afterSetRows"),this.versionTag=ki())}},{extend:Kh,merge:Jh,pick:ba}=G;!function(h){function t(e,i,n){let b,o=this.legendItem=this.legendItem||{},{chart:s,options:a}=this,{baseline:l=0,symbolWidth:c,symbolHeight:g}=e,d=this.symbol||"circle",p=g/2,m=s.renderer,u=o.group,f=l-Math.round((e.fontMetrics?.b||g)*(n?.4:.3)),x={},M=a.marker,C=0;if(s.styledMode||(x["stroke-width"]=Math.min(a.lineWidth||0,24),a.dashStyle?x.dashstyle=a.dashStyle:"square"!==a.linecap&&(x["stroke-linecap"]="round")),o.line=m.path().addClass("highcharts-graph").attr(x).add(u),n&&(o.area=m.path().addClass("highcharts-area").add(u)),x["stroke-linecap"]&&(C=Math.min(o.line.strokeWidth(),c)/2),c){let O=[["M",C,f],["L",c-C,f]];o.line.attr({d:O}),o.area?.attr({d:[...O,["L",c-C,l],["L",C,l]]})}if(M&&!1!==M.enabled&&c){let O=Math.min(ba(M.radius,p),p);0===d.indexOf("url")&&(M=Jh(M,{width:g,height:g}),O=0),o.symbol=b=m.symbol(d,c/2-O,f-O,2*O,2*O,Kh({context:"legend"},M)).addClass("highcharts-point").add(u),b.isMarker=!0}}h.areaMarker=function(e,i){t.call(this,e,i,!0)},h.lineMarker=t,h.rectangle=function(e,i){let n=i.legendItem||{},s=e.symbolHeight,a=e.options.squareSymbol;n.symbol=this.chart.renderer.rect(a?(e.symbolWidth-s)/2:0,e.baseline-s+1,a?s:e.symbolWidth,s,ba(e.options.symbolRadius,s/2)).addClass("highcharts-point").attr({zIndex:3}).add(n.group)}}(ye||(ye={}));let xa=ye,{defaultOptions:Ma}=_t,{extend:Qh,extendClass:tc,merge:ec}=G;!function(h){function t(e,i){let n=Ma.plotOptions||{},o=i.defaultOptions,s=i.prototype;return s.type=e,s.pointClass||(s.pointClass=ce),!h.seriesTypes[e]&&(o&&(n[e]=o),h.seriesTypes[e]=i,!0)}h.seriesTypes=L.seriesTypes,h.registerSeriesType=t,h.seriesType=function(e,i,n,o,s){let a=Ma.plotOptions||{};if(a[e]=ec(a[i=i||""],n),delete h.seriesTypes[e],t(e,tc(h.seriesTypes[i]||kt,o)),h.seriesTypes[e].prototype.type=e,s){class l extends ce{}Qh(l.prototype,s),h.seriesTypes[e].prototype.pointClass=l}return h.seriesTypes[e]}}(ri||(ri={}));let ct=ri,{animObject:ya,setAnimation:ic}=Mt,{defaultOptions:vn}=_t,{registerEventOptions:nc}=hn,{svg:oc,win:sc}=L,{seriesTypes:ei}=ct,{format:ac}=At,{arrayMax:Lo,arrayMin:Ca,clamp:Oa,correctFloat:va,crisp:rc,defined:gt,destroyObjectProperties:lc,diffObjects:hc,erase:Pa,error:Pn,extend:ii,find:cc,fireEvent:at,getClosestDistance:dc,getNestedProperty:_a,insertItem:ka,isArray:wa,isNumber:ft,isString:gc,merge:wi,objectEach:Ro,pick:rt,removeEvent:pc,syncTimeout:Sa}=G;class jt{constructor(){this.zoneAxis="y"}init(t,e){let i;at(this,"init",{options:e}),this.dataTable??(this.dataTable=new On);let n=t.series;this.eventsToUnbind=[],this.chart=t,this.options=this.setOptions(e);let o=this.options,s=!1!==o.visible;this.linkedSeries=[],this.bindAxes(),ii(this,{name:o.name,state:"",visible:s,selected:!0===o.selected}),nc(this,o),(o.events?.click||o.point?.events?.click||o.allowPointSelect)&&(t.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(t.hasCartesianSeries=!0),n.length&&(i=n[n.length-1]),this._i=rt(i?._i,-1)+1,this.opacity=this.options.opacity,t.orderItems("series",ka(this,n)),o.dataSorting?.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(o.data,!1),at(this,"afterInit")}is(t){return ei[t]&&this instanceof ei[t]}bindAxes(){let t,e=this,i=e.options,n=e.chart;at(this,"bindAxes",null,function(){(e.axisTypes||[]).forEach(function(o){(n[o]||[]).forEach(function(s){t=s.options,(rt(i[o],0)===s.index||void 0!==i[o]&&i[o]===t.id)&&(ka(e,s.series),e[o]=s,s.isDirty=!0)}),e[o]||e.optionalAxis===o||Pn(18,!0,n)})}),at(this,"afterBindAxes")}hasData(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(t,e){let i=t.marker,n=e.marker||{};return i&&(n.enabled&&!i.enabled||n.symbol!==i.symbol||n.height!==i.height||n.width!==i.width)}autoIncrement(t){let e,i=this.options,{pointIntervalUnit:n,relativeXValue:o}=this.options,s=this.chart.time,a=this.xIncrement??s.parse(i.pointStart)??0;if(this.pointInterval=e=rt(this.pointInterval,i.pointInterval,1),o&&ft(t)&&(e*=t),n){let l=s.toParts(a);"day"===n?l[2]+=e:"month"===n?l[1]+=e:"year"===n&&(l[0]+=e),e=s.makeTime.apply(s,l)-a}return o&&ft(t)?a+e:(this.xIncrement=a+e,a)}setDataSortingOptions(){let t=this.options;ii(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),gt(t.pointRange)||(t.pointRange=1)}setOptions(t){let e,i=this.chart,n=i.options.plotOptions,o=i.userOptions||{},s=wi(t),a=i.styledMode,l={plotOptions:n,userOptions:s};at(this,"setOptions",l);let c=l.plotOptions[this.type],g=o.plotOptions||{},d=g.series||{},p=vn.plotOptions[this.type]||{},m=g[this.type]||{};c.dataLabels=this.mergeArrays(p.dataLabels,c.dataLabels),this.userOptions=l.userOptions;let u=wi(c,n.series,m,s);this.tooltipOptions=wi(vn.tooltip,vn.plotOptions.series?.tooltip,p?.tooltip,i.userOptions.tooltip,g.series?.tooltip,m.tooltip,s.tooltip),this.stickyTracking=rt(s.stickyTracking,m.stickyTracking,d.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||u.stickyTracking),null===c.marker&&delete u.marker,this.zoneAxis=u.zoneAxis||"y";let f=this.zones=(u.zones||[]).map(x=>({...x}));return(u.negativeColor||u.negativeFillColor)&&!u.zones&&(e={value:u[this.zoneAxis+"Threshold"]||u.threshold||0,className:"highcharts-negative"},a||(e.color=u.negativeColor,e.fillColor=u.negativeFillColor),f.push(e)),f.length&&gt(f[f.length-1].value)&&f.push(a?{}:{color:this.color,fillColor:this.fillColor}),at(this,"afterSetOptions",{options:u}),u}getName(){return this.options.name??ac(this.chart.options.lang.seriesName,this,this.chart)}getCyclic(t,e,i){let n,o,s=this.chart,a=`${t}Index`,l=`${t}Counter`,c=i?.length||s.options.chart.colorCount;!e&&(gt(o=rt("color"===t?this.options.colorIndex:void 0,this[a]))?n=o:(s.series.length||(s[l]=0),n=s[l]%c,s[l]+=1),i&&(e=i[n])),void 0!==n&&(this[a]=n),this[t]=e}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||vn.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)}getColumn(t,e){return(e?this.dataTable.modified:this.dataTable).getColumn(t,!0)||[]}findPointIndex(t,e){let i,n,o,{id:s,x:a}=t,l=this.points,c=this.options.dataSorting,g=this.cropStart||0;if(s){let d=this.chart.get(s);d instanceof ce&&(i=d)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let d=p=>!p.touched&&p.index===t.index;if(c?.matchByName?d=p=>!p.touched&&p.name===t.name:this.options.relativeXValue&&(d=p=>!p.touched&&p.options.x===t.x),!(i=cc(l,d)))return}return i&&void 0!==(o=i?.index)&&(n=!0),void 0===o&&ft(a)&&(o=this.getColumn("x").indexOf(a,e)),-1!==o&&void 0!==o&&this.cropped&&(o=o>=g?o-g:o),!n&&ft(o)&&l[o]?.touched&&(o=void 0),o}updateData(t,e){let c,g,d,p,{options:i,requireSorting:n}=this,o=i.dataSorting,s=this.points,a=[],l=t.length===s.length,m=!0;if(this.xIncrement=null,t.forEach((f,x)=>{let b,M=gt(f)&&this.pointClass.prototype.optionsToObject.call({series:this},f)||{},{id:C,x:O}=M;C||ft(O)?(-1===(b=this.findPointIndex(M,p))||void 0===b?a.push(f):s[b]&&f!==i.data?.[b]?(s[b].update(f,!1,void 0,!1),s[b].touched=!0,n&&(p=b+1)):s[b]&&(s[b].touched=!0),(!l||x!==b||o?.enabled||this.hasDerivedData)&&(c=!0)):a.push(f)},this),c)for(g=s.length;g--;)(d=s[g])&&!d.touched&&d.remove?.(!1,e);else l&&!o?.enabled?(t.forEach((f,x)=>{f===s[x].y||s[x].destroyed||s[x].update(f,!1,void 0,!1)}),a.length=0):m=!1;if(s.forEach(f=>{f&&(f.touched=!1)}),!m)return!1;a.forEach(f=>{this.addPoint(f,!1,void 0,void 0,!1)},this);let u=this.getColumn("x");return null===this.xIncrement&&u.length&&(this.xIncrement=Lo(u),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(t,e=!0,i,n){let b,M,k,o=this.points,s=o?.length||0,a=this.options,l=this.chart,c=a.dataSorting,g=this.xAxis,d=a.turboThreshold,p=this.dataTable,m=this.dataColumnKeys(),u=this.pointValKey||"y",f=(this.pointArrayMap||[]).length,x=a.keys,C=0,O=1;l.options.chart.allowMutatingData||(a.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,k=wi(!0,t));let P=(t=k||t||[]).length;if(c?.enabled&&(t=this.sortData(t)),l.options.chart.allowMutatingData&&!1!==n&&P&&s&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(M=this.updateData(t,i)),!M){this.xIncrement=null,this.colorCounter=0;let v=d&&!a.relativeXValue&&P>d;if(v){let _=this.getFirstValidPoint(t),S=this.getFirstValidPoint(t,P-1,-1),A=T=>!(!wa(T)||!x&&!ft(T[0]));if(ft(_)&&ft(S)){let T=[],I=[];for(let N of t)T.push(this.autoIncrement()),I.push(N);p.setColumns({x:T,[u]:I})}else if(A(_)&&A(S))if(f){let T=+(_.length===f),I=Array(m.length).fill(0).map(()=>[]);for(let N of t){T&&I[0].push(this.autoIncrement());for(let B=T;B<=f;B++)I[B]?.push(N[B-T])}p.setColumns(m.reduce((N,B,j)=>(N[B]=I[j],N),{}))}else{x&&(C=x.indexOf("x"),O=x.indexOf("y"),C=C>=0?C:0,O=O>=0?O:1),1===_.length&&(O=0);let T=[],I=[];if(C===O)for(let N of t)T.push(this.autoIncrement()),I.push(N[O]);else for(let N of t)T.push(N[C]),I.push(N[O]);p.setColumns({x:T,[u]:I})}else v=!1}if(!v){let _=m.reduce((S,A)=>(S[A]=[],S),{});for(b=0;b<P;b++){let S=this.pointClass.prototype.applyOptions.apply({series:this},[t[b]]);for(let A of m)_[A][b]=S[A]}p.setColumns(_)}for(gc(this.getColumn("y")[0])&&Pn(14,!0,l),this.data=[],this.options.data=this.userOptions.data=t,b=s;b--;)o[b]?.destroy();g&&(g.minRange=g.userMinRange),this.isDirty=l.isDirtyBox=!0,this.isDirtyData=!!o,i=!1}"point"===a.legendType&&(this.processData(),this.generatePoints()),e&&l.redraw(i)}sortData(t){let e=this,i=e.options.dataSorting.sortKey||"y",n=function(o,s){return gt(s)&&o.pointClass.prototype.optionsToObject.call({series:o},s)||{}};return t.forEach(function(o,s){t[s]=n(e,o),t[s].index=s},this),t.concat().sort((o,s)=>{let a=_a(i,o),l=_a(i,s);return l<a?-1:+(l>a)}).forEach(function(o,s){o.x=s},this),e.linkedSeries&&e.linkedSeries.forEach(function(o){let s=o.options,a=s.data;!s.dataSorting?.enabled&&a&&(a.forEach(function(l,c){a[c]=n(o,l),t[c]&&(a[c].x=t[c].x,a[c].index=c)}),o.setData(a,!1))}),t}getProcessedData(t){let d,p,u,f,x,e=this,{dataTable:i,isCartesian:n,options:o,xAxis:s}=e,a=o.cropThreshold,l=t||e.getExtremesFromAll,c=s?.logarithmic,g=i.rowCount,m=0,b=e.getColumn("x"),M=i,C=!1;return s&&(f=(u=s.getExtremes()).min,x=u.max,C=!(!s.categories||s.names.length),n&&e.sorted&&!l&&(!a||g>a||e.forceCrop)&&(b[g-1]<f||b[0]>x?M=new On:e.getColumn(e.pointValKey||"y").length&&(b[0]<f||b[g-1]>x)&&(M=(d=this.cropData(i,f,x)).modified,m=d.start,p=!0))),b=M.getColumn("x")||[],{modified:M,cropped:p,cropStart:m,closestPointRange:dc([c?b.map(c.log2lin):b],()=>e.requireSorting&&!C&&Pn(15,!1,e.chart))}}processData(t){let i=this.dataTable;if(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!t)return!1;let n=this.getProcessedData();i.modified=n.modified,this.cropped=n.cropped,this.cropStart=n.cropStart,this.closestPointRange=this.basePointRange=n.closestPointRange,at(this,"afterProcessData")}cropData(t,e,i){let a,l,n=t.getColumn("x",!0)||[],o=n.length,s={},c=0,g=o;for(a=0;a<o;a++)if(n[a]>=e){c=Math.max(0,a-1);break}for(l=a;l<o;l++)if(n[l]>i){g=l+1;break}for(let d of this.dataColumnKeys()){let p=t.getColumn(d,!0);p&&(s[d]=p.slice(c,g))}return{modified:new On({columns:s}),start:c,end:g}}generatePoints(){let f,x,b,M,O,t=this.options,e=this.processedData||t.data,i=this.dataTable.modified,n=this.getColumn("x",!0),o=this.pointClass,s=i.rowCount,a=this.cropStart||0,l=this.hasGroupedData,c=t.keys,g=[],d=t.dataGrouping?.groupAll?a:0,p=this.xAxis?.categories,m=this.pointArrayMap||["y"],u=this.dataColumnKeys(),C=this.data;if(!C&&!l){let k=[];k.length=e?.length||0,C=this.data=k}for(c&&l&&(this.options.keys=!1),M=0;M<s;M++)x=a+M,l?((b=new o(this,i.getRow(M,u)||[])).dataGroup=this.groupMap[d+M],b.dataGroup?.options&&(b.options=b.dataGroup.options,ii(b,b.dataGroup.options),delete b.dataLabels)):(b=C[x],O=e?e[x]:i.getRow(M,m),b||void 0===O||(C[x]=b=new o(this,O,n[M]))),b&&(b.index=l?d+M:x,g[M]=b,b.category=p?.[b.x]??b.x,b.key=b.name??b.category);if(this.options.keys=c,C&&(s!==(f=C.length)||l))for(M=0;M<f;M++)M!==a||l||(M+=s),C[M]&&(C[M].destroyElements(),C[M].plotX=void 0);this.data=C,this.points=g,at(this,"afterGeneratePoints")}getXExtremes(t){return{min:Ca(t),max:Lo(t)}}getExtremes(t,e){let f,x,b,{xAxis:i,yAxis:n}=this,o=e||this.getExtremesFromAll||this.options.getExtremesFromAll,s=o&&this.cropped?this.dataTable:this.dataTable.modified,a=s.rowCount,l=t||this.stackedYData,c=l?[l]:(this.keysAffectYAxis||this.pointArrayMap||["y"])?.map(k=>s.getColumn(k,!0)||[])||[],g=this.getColumn("x",!0),d=[],p=this.requireSorting&&!this.is("column")?1:0,m=!!n&&n.positiveValuesOnly,u=o||this.cropped||!i,M=0,C=0;for(i&&(M=(f=i.getExtremes()).min,C=f.max),b=0;b<a;b++)if(x=g[b],u||(g[b+p]||x)>=M&&(g[b-p]||x)<=C)for(let k of c){let P=k[b];ft(P)&&(P>0||!m)&&d.push(P)}let O={activeYData:d,dataMin:Ca(d),dataMax:Lo(d)};return at(this,"afterGetExtremes",{dataExtremes:O}),O}applyExtremes(){let t=this.getExtremes();return this.dataMin=t.dataMin,this.dataMax=t.dataMax,t}getFirstValidPoint(t,e=0,i=1){let n=t.length,o=e;for(;o>=0&&o<n;){if(gt(t[o]))return t[o];o+=i}}translate(){this.generatePoints();let m,u,f,x,t=this.options,e=t.stacking,i=this.xAxis,n=this.enabledDataSorting,o=this.yAxis,s=this.points,a=s.length,l=this.pointPlacementToXValue(),c=!!l,g=t.threshold,d=t.startFromThreshold?g:0,p=t?.nullInteraction&&o.len,b=Number.MAX_VALUE;function M(C){return Oa(C,-1e9,1e9)}for(m=0;m<a;m++){let C,P,v,O=s[m],k=O.x,_=O.y,S=O.low,A=e&&o.stacking?.stacks[(this.negStacks&&_<(d?0:g)?"-":"")+this.stackKey];O.plotX=ft(u=i.translate(k,!1,!1,!1,!0,l))?va(M(u)):void 0,e&&this.visible&&A&&A[k]&&(x=this.getStackIndicator(x,k,this.index),!O.isNull&&x.key&&(v=(P=A[k]).points[x.key]),P&&wa(v)&&(S=v[0],_=v[1],S===d&&x.key===A[k].base&&(S=rt(ft(g)?g:o.min)),o.positiveValuesOnly&&gt(S)&&S<=0&&(S=void 0),O.total=O.stackTotal=rt(P.total),O.percentage=gt(O.y)&&P.total?O.y/P.total*100:void 0,O.stackY=_,this.irregularWidths||P.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),O.yBottom=gt(S)?M(o.translate(S,!1,!0,!1,!0)):void 0,this.dataModify&&(_=this.dataModify.modifyValue(_,m)),ft(_)&&void 0!==O.plotX?C=ft(C=o.translate(_,!1,!0,!1,!0))?M(C):void 0:!ft(_)&&p&&(C=p),O.plotY=C,O.isInside=this.isPointInside(O),O.clientX=c?va(i.translate(k,!1,!1,!1,!0,l)):u,O.negative=(O.y||0)<(g||0),O.isNull||!1===O.visible||(void 0!==f&&(b=Math.min(b,Math.abs(u-f))),f=u),O.zone=this.zones.length?O.getZone():void 0,!O.graphic&&this.group&&n&&(O.isNew=!0)}this.closestPointRangePx=b,at(this,"afterTranslate")}getValidPoints(t,e,i){let n=this.chart;return(t||this.points||[]).filter(function(o){let{plotX:s,plotY:a}=o;return!(!i&&(o.isNull||!ft(a))||e&&!n.isInsidePlot(s,a,{inverted:n.inverted})||!1===o.visible)})}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:t,group:e,markerGroup:i}=this,n=t.sharedClips,o=t.renderer,s=t.getClipBox(this),a=this.getSharedClipKey(),l=n[a];l?l.animate(s):n[a]=l=o.clipRect(s),e&&e.clip(!1===this.options.clip?void 0:l),i&&i.clip()}animate(t){let{chart:e,group:i,markerGroup:n}=this,o=e.inverted,s=ya(this.options.animation),a=[this.getSharedClipKey(),s.duration,s.easing,s.defer].join(","),l=e.sharedClips[a],c=e.sharedClips[a+"m"];if(t&&i){let g=e.getClipBox(this);l?l.attr("height",g.height):(g.width=0,o&&(g.x=e.plotHeight),l=e.renderer.clipRect(g),e.sharedClips[a]=l,c=e.renderer.clipRect({x:-99,y:-99,width:o?e.plotWidth+199:99,height:o?99:e.plotHeight+199}),e.sharedClips[a+"m"]=c),i.clip(l),n?.clip(c)}else if(l&&!l.hasClass("highcharts-animating")){let g=e.getClipBox(this),d=s.step;(n?.element.childNodes.length||e.series.length>1)&&(s.step=function(p,m){d&&d.apply(m,arguments),"width"===m.prop&&c?.element&&c.attr(o?"height":"width",p+99)}),l.addClass("highcharts-animating").animate(g,s)}}afterAnimate(){this.setClip(),Ro(this.chart.sharedClips,(t,e,i)=>{t&&!this.chart.container.querySelector(`[clip-path="url(#${t.id})"]`)&&(t.destroy(),delete i[e])}),this.finishedAnimating=!0,at(this,"afterAnimate")}drawPoints(t=this.points){let e,i,n,o,s,a,l,c=this.chart,g=c.styledMode,{colorAxis:d,options:p}=this,m=p.marker,u=p.nullInteraction,f=this[this.specialGroup||"markerGroup"],x=this.xAxis,b=rt(m.enabled,!x||!!x.isRadial||null,this.closestPointRangePx>=m.enabledThreshold*m.radius);if(!1!==m.enabled||this._hasPointMarkers)for(e=0;e<t.length;e++){o=(n=(i=t[e]).graphic)?"animate":"attr",s=i.marker||{},a=!!i.marker;let M=i.isNull;if(!(b&&!gt(s.enabled)||s.enabled)||M&&!u||!1===i.visible)n&&(i.graphic=n.destroy());else{let C=rt(s.symbol,this.symbol,"rect");l=this.markerAttribs(i,i.selected&&"select"),this.enabledDataSorting&&(i.startXPos=x.reversed?-(l.width||0):x.width);let O=!1!==i.isInside;if(!n&&O&&((l.width||0)>0||i.hasImage)&&(i.graphic=n=c.renderer.symbol(C,l.x,l.y,l.width,l.height,a?s:m).add(f),this.enabledDataSorting&&c.hasRendered&&(n.attr({x:i.startXPos}),o="animate")),n&&"animate"===o&&n[O?"show":"hide"](O).animate(l),n){let k=this.pointAttribs(i,g||!i.selected?void 0:"select");g?d&&n.css({fill:k.fill}):n[o](k)}n&&n.addClass(i.getClassName(),!0)}}}markerAttribs(t,e){let l,c,i=this.options,n=i.marker,o=t.marker||{},s=o.symbol||n.symbol,a={},g=rt(o.radius,n?.radius);e&&(l=n.states[e],c=o.states&&o.states[e],g=rt(c?.radius,l?.radius,g&&g+(l?.radiusPlus||0))),t.hasImage=s&&0===s.indexOf("url"),t.hasImage&&(g=0);let d=t.pos();return ft(g)&&d&&(i.crisp&&(d[0]=rc(d[0],t.hasImage?0:"rect"===s?n?.lineWidth||0:1)),a.x=d[0]-g,a.y=d[1]-g),g&&(a.width=a.height=2*g),a}pointAttribs(t,e){let g,d,m,u,i=this.options,n=i.marker,o=t?.options,s=o?.marker||{},a=o?.color,l=t?.color,c=t?.zone?.color,p=this.color,f=rt(s.lineWidth,n.lineWidth),x=t?.isNull&&i.nullInteraction?0:1;return p=a||c||l||p,m=s.fillColor||n.fillColor||p,u=s.lineColor||n.lineColor||p,g=n.states[e=e||"normal"]||{},f=rt((d=s.states&&s.states[e]||{}).lineWidth,g.lineWidth,f+rt(d.lineWidthPlus,g.lineWidthPlus,0)),m=d.fillColor||g.fillColor||m,u=d.lineColor||g.lineColor||u,{stroke:u,"stroke-width":f,fill:m,opacity:x=rt(d.opacity,g.opacity,x)}}destroy(t){let e,i,n=this,o=n.chart,s=/AppleWebKit\/533/.test(sc.navigator.userAgent),a=n.data||[];for(at(n,"destroy",{keepEventsForUpdate:t}),this.removeEvents(t),(n.axisTypes||[]).forEach(function(l){i=n[l],i?.series&&(Pa(i.series,n),i.isDirty=i.forceRedraw=!0)}),n.legendItem&&n.chart.legend.destroyItem(n),e=a.length;e--;)a[e]?.destroy?.();for(let l of n.zones)lc(l,void 0,!0);G.clearTimeout(n.animationTimeout),Ro(n,function(l,c){l instanceof Wt&&!l.survive&&l[s&&"group"===c?"hide":"destroy"]()}),o.hoverSeries===n&&(o.hoverSeries=void 0),Pa(o.series,n),o.orderItems("series"),Ro(n,function(l,c){t&&"hcEvents"===c||delete n[c]})}applyZones(){let{area:t,chart:e,graph:i,zones:n,points:o,xAxis:s,yAxis:a,zoneAxis:l}=this,{inverted:c,renderer:g}=e,d=this[`${l}Axis`],{isXAxis:p,len:m=0,minPointOffset:u=0}=d||{},f=(i?.strokeWidth()||0)/2+1,x=(b,M=0,C=0)=>{c&&(C=m-C);let{translated:O=0,lineClip:k}=b,P=C-O;k?.push(["L",M,Math.abs(P)<f?C-f*(P<=0?-1:1):O])};if(n.length&&(i||t)&&d&&ft(d.min)){let b=d.getExtremes().max+u,M=k=>{k.forEach((P,v)=>{("M"===P[0]||"L"===P[0])&&(k[v]=[P[0],p?m-P[1]:P[1],p?P[2]:m-P[2]])})};if(n.forEach(k=>{k.lineClip=[],k.translated=Oa(d.toPixels(rt(k.value,b),!0)||0,0,m)}),i&&!this.showLine&&i.hide(),t&&t.hide(),"y"===l&&o.length<s.len)for(let k of o){let{plotX:P,plotY:v,zone:_}=k,S=_&&n[n.indexOf(_)-1];_&&x(_,P,v),S&&x(S,P,v)}let C=[],O=d.toPixels(d.getExtremes().min-u,!0);n.forEach(k=>{let P=k.lineClip||[],v=Math.round(k.translated||0);s.reversed&&P.reverse();let{clip:_,simpleClip:S}=k,A=0,T=0,I=s.len,N=a.len;p?(A=v,I=O):(T=v,N=O);let B=[["M",A,T],["L",I,T],["L",I,N],["L",A,N],["Z"]],j=[B[0],...P,B[1],B[2],...C,B[3],B[4]];C=P.reverse(),O=v,c&&(M(j),t&&M(B)),_?(_.animate({d:j}),S?.animate({d:B})):(_=k.clip=g.path(j),t&&(S=k.simpleClip=g.path(B))),i&&k.graph?.clip(_),t&&k.area?.clip(S)})}else this.visible&&(i&&i.show(),t&&t.show())}plotGroup(t,e,i,n,o){let s=this[t],a=!s,l={visibility:i,zIndex:n||.1};return gt(this.opacity)&&!this.chart.styledMode&&"inactive"!==this.state&&(l.opacity=this.opacity),s||(this[t]=s=this.chart.renderer.g().add(o)),s.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(gt(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(s.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),s.attr(l)[a?"attr":"animate"](this.getPlotBox(e)),s}getPlotBox(t){let e=this.xAxis,i=this.yAxis,n=this.chart,o=n.inverted&&!n.polar&&e&&this.invertible&&"series"===t;n.inverted&&(e=i,i=this.xAxis);let s={scale:1,translateX:e?e.left:n.plotLeft,translateY:i?i.top:n.plotTop,name:t};at(this,"getPlotBox",s);let{scale:a,translateX:l,translateY:c}=s;return{translateX:l,translateY:c,rotation:90*!!o,rotationOriginX:o?a*(e.len-i.len)/2:0,rotationOriginY:o?a*(e.len+i.len)/2:0,scaleX:o?-a:a,scaleY:a}}removeEvents(t){let{eventsToUnbind:e}=this;t||pc(this),e.length&&(e.forEach(i=>{i()}),e.length=0)}render(){let t=this,{chart:e,options:i,hasRendered:n}=t,o=ya(i.animation),s=t.visible?"inherit":"hidden",a=i.zIndex,l=e.seriesGroup,c=t.finishedAnimating?0:o.duration;at(this,"render"),t.plotGroup("group","series",s,a,l),t.markerGroup=t.plotGroup("markerGroup","markers",s,a,l),!1!==i.clip&&t.setClip(),c&&t.animate?.(!0),t.drawGraph&&(t.drawGraph(),t.applyZones()),t.visible&&t.drawPoints(),t.drawDataLabels?.(),t.redrawPoints?.(),i.enableMouseTracking&&t.drawTracker?.(),c&&t.animate?.(),n||(c&&o.defer&&(c+=o.defer),t.animationTimeout=Sa(()=>{t.afterAnimate()},c||0)),t.isDirty=!1,t.hasRendered=!0,at(t,"afterRender")}redraw(){let t=this.isDirty||this.isDirtyData;this.translate(),this.render(),t&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(t,e){let{xAxis:i,yAxis:n}=this,o=this.chart.inverted;return this.searchKDTree({clientX:o?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:o?n.len-t.chartX+n.pos:t.chartY-n.pos},e,t)}buildKDTree(t){this.buildingKdTree=!0;let e=this,i=e.options,n=i.findNearestPointBy.indexOf("y")>-1?2:1;delete e.kdTree,Sa(function(){e.kdTree=function o(s,a,l){let c,g,d=s?.length;if(d)return c=e.kdAxisArray[a%l],s.sort((p,m)=>(p[c]||0)-(m[c]||0)),{point:s[g=Math.floor(d/2)],left:o(s.slice(0,g),a+1,l),right:o(s.slice(g+1),a+1,l)}}(e.getValidPoints(void 0,!e.directTouch,i?.nullInteraction),n,n),e.buildingKdTree=!1},i.kdNow||"touchstart"===t?.type?0:1)}searchKDTree(t,e,i,n,o){let s=this,[a,l]=this.kdAxisArray,c=e?"distX":"dist",g=(s.options.findNearestPointBy||"").indexOf("y")>-1?2:1,d=!!s.isBubble,p=n||((u,f,x)=>{let b=u[x]||0,M=f[x]||0;return[b===M&&u.index>f.index||b<M?u:f,!1]}),m=o||((u,f)=>u<f);if(this.kdTree||this.buildingKdTree||this.buildKDTree(i),this.kdTree)return function u(f,x,b,M){let C=x.point,O=s.kdAxisArray[b%M],k=C,P=!1;!function(A,T){let I=A[a],N=T[a],B=gt(I)&&gt(N)?I-N:null,j=A[l],D=T[l],z=gt(j)&&gt(D)?j-D:0,tt=d&&T.marker?.radius||0;T.dist=Math.sqrt((B&&B*B||0)+z*z)-tt,T.distX=gt(B)?Math.abs(B)-tt:Number.MAX_VALUE}(f,C);let v=(f[O]||0)-(C[O]||0)+(d&&C.marker?.radius||0),_=v<0?"left":"right",S=v<0?"right":"left";return x[_]&&([k,P]=p(C,u(f,x[_],b+1,M),c)),x[S]&&m(Math.sqrt(v*v),k[c],P)&&(k=p(k,u(f,x[S],b+1,M),c)[0]),k}(t,this.kdTree,g,g)}pointPlacementToXValue(){let{options:t,xAxis:e}=this,i=t.pointPlacement;return"between"===i&&(i=e.reversed?-.5:.5),ft(i)?i*(t.pointRange||e.pointRange):0}isPointInside(t){let{chart:e,xAxis:i,yAxis:n}=this,{plotX:o=-1,plotY:s=-1}=t;return s>=0&&s<=(n?n.len:e.plotHeight)&&o>=0&&o<=(i?i.len:e.plotWidth)}drawTracker(){let t=this,e=t.options,i=e.trackByArea,n=[].concat((i?t.areaPath:t.graphPath)||[]),o=t.chart,s=o.pointer,a=o.renderer,l=o.options.tooltip?.snap||0,c=()=>{e.enableMouseTracking&&o.hoverSeries!==t&&t.onMouseOver()},g="rgba(192,192,192,"+(oc?1e-4:.002)+")",d=t.tracker;d?d.attr({d:n}):t.graph&&(t.tracker=d=a.path(n).attr({visibility:t.visible?"inherit":"hidden",zIndex:2}).addClass(i?"highcharts-tracker-area":"highcharts-tracker-line").add(t.group),o.styledMode||d.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:g,fill:i?g:"none","stroke-width":t.graph.strokeWidth()+(i?0:2*l)}),[t.tracker,t.markerGroup,t.dataLabelsGroup].forEach(p=>{p&&(p.addClass("highcharts-tracker").on("mouseover",c).on("mouseout",m=>{s?.onTrackerMouseOut(m)}),e.cursor&&!o.styledMode&&p.css({cursor:e.cursor}),p.on("touchstart",c))})),at(this,"afterDrawTracker")}addPoint(t,e,i,n,o){let s,a,l=this.options,{chart:c,data:g,dataTable:d,xAxis:p}=this,m=p?.hasNames&&p.names,u=l.data,f=this.getColumn("x");e=rt(e,!0);let x={series:this};this.pointClass.prototype.applyOptions.apply(x,[t]);let b=x.x;if(a=f.length,this.requireSorting&&b<f[a-1])for(s=!0;a&&f[a-1]>b;)a--;d.setRow(x,a,!0,{addColumns:!1}),m&&x.name&&(m[b]=x.name),u?.splice(a,0,t),(s||this.processedData)&&(this.data.splice(a,0,null),this.processData()),"point"===l.legendType&&this.generatePoints(),i&&(g[0]&&g[0].remove?g[0].remove(!1):([g,u].filter(gt).forEach(M=>{M.shift()}),d.deleteRows(0))),!1!==o&&at(this,"addPoint",{point:x}),this.isDirty=!0,this.isDirtyData=!0,e&&c.redraw(n)}removePoint(t,e,i){let n=this,{chart:o,data:s,points:a,dataTable:l}=n,c=s[t],g=function(){[a?.length===s.length?a:void 0,s,n.options.data].filter(gt).forEach(d=>{d.splice(t,1)}),l.deleteRows(t),c?.destroy(),n.isDirty=!0,n.isDirtyData=!0,e&&o.redraw()};ic(i,o),e=rt(e,!0),c?c.firePointEvent("remove",null,g):g()}remove(t,e,i,n){let o=this,s=o.chart;function a(){o.destroy(n),s.isDirtyLegend=s.isDirtyBox=!0,s.linkSeries(n),rt(t,!0)&&s.redraw(e)}!1!==i?at(o,"remove",null,a):a()}update(t,e){at(this,"update",{options:t=hc(t,this.userOptions)});let d,p,i=this,n=i.chart,o=i.userOptions,s=i.initialType||i.type,a=n.options.plotOptions,l=ei[s].prototype,c=i.finishedAnimating&&{animation:!1},g={},m=jt.keepProps.slice(),u=t.type||o.type||n.options.chart.type,f=!(this.hasDerivedData||u&&u!==this.type||void 0!==t.keys||void 0!==t.pointStart||void 0!==t.pointInterval||void 0!==t.relativeXValue||t.joinBy||t.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(b=>i.hasOptionChanged(b)));u=u||s,f?(m.push.apply(m,jt.keepPropsForPoints),!1!==t.visible&&m.push("area","graph"),i.parallelArrays.forEach(function(b){m.push(b+"Data")}),t.data&&(t.dataSorting&&ii(i.options.dataSorting,t.dataSorting),this.setData(t.data,!1))):this.dataTable.modified=this.dataTable,t=wi(o,{index:void 0===o.index?i.index:o.index,pointStart:a?.series?.pointStart??o.pointStart??i.getColumn("x")[0]},!f&&{data:i.options.data},t,c),f&&t.data&&(t.data=i.options.data),(m=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(m)).forEach(function(b){m[b]=i[b],delete i[b]});let x=!1;if(ei[u]){if(x=u!==i.type,i.remove(!1,!1,!1,!0),x)if(n.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(i,ei[u].prototype);else{let b=Object.hasOwnProperty.call(i,"hcEvents")&&i.hcEvents;for(p in l)i[p]=void 0;ii(i,ei[u].prototype),b?i.hcEvents=b:delete i.hcEvents}}else Pn(17,!0,n,{missingModuleFor:u});if(m.forEach(function(b){i[b]=m[b]}),i.init(n,t),f&&this.points)for(let b of(!1===(d=i.options).visible?(g.graphic=1,g.dataLabel=1):(this.hasMarkerChanged(d,o)&&(g.graphic=1),i.hasDataLabels?.()||(g.dataLabel=1)),this.points))b?.series&&(b.resolveColor(),Object.keys(g).length&&b.destroyElements(g),!1===d.showInLegend&&b.legendItem&&n.legend.destroyItem(b));i.initialType=s,n.linkSeries(),n.setSortedData(),x&&i.linkedSeries.length&&(i.isDirtyData=!0),at(this,"afterUpdate"),rt(e,!0)&&n.redraw(!!f&&void 0)}setName(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}hasOptionChanged(t){let i=this.options[t],n=this.chart.options.plotOptions,o=this.userOptions[t],s=rt(n?.[this.type]?.[t],n?.series?.[t]);return o&&!gt(s)?i!==o:i!==rt(s,i)}onMouseOver(){let t=this.chart,e=t.hoverSeries;t.pointer?.setHoverChartIndex(),e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&at(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this}onMouseOut(){let t=this.options,e=this.chart,i=e.tooltip,n=e.hoverPoint;e.hoverSeries=null,n&&n.onMouseOut(),this&&t.events.mouseOut&&at(this,"mouseOut"),i&&!this.stickyTracking&&(!i.shared||this.noSharedTooltip)&&i.hide(),e.series.forEach(function(o){o.setState("",!0)})}setState(t,e){let i=this,n=i.options,o=i.graph,s=n.inactiveOtherPoints,a=n.states,l=rt(a[t||"normal"]&&a[t||"normal"].animation,i.chart.options.chart.animation),c=n.lineWidth,g=n.opacity;if(i.state!==(t=t||"")&&([i.group,i.markerGroup,i.dataLabelsGroup].forEach(function(d){d&&(i.state&&d.removeClass("highcharts-series-"+i.state),t&&d.addClass("highcharts-series-"+t))}),i.state=t,!i.chart.styledMode)){if(a[t]&&!1===a[t].enabled)return;if(t&&(c=a[t].lineWidth||c+(a[t].lineWidthPlus||0),g=rt(a[t].opacity,g)),o&&!o.dashstyle&&ft(c))for(let d of[o,...this.zones.map(p=>p.graph)])d?.animate({"stroke-width":c},l);s||[i.group,i.markerGroup,i.dataLabelsGroup,i.labelBySeries].forEach(function(d){d&&d.animate({opacity:g},l)})}e&&s&&i.points&&i.setAllPointsToState(t||void 0)}setAllPointsToState(t){this.points.forEach(function(e){e.setState&&e.setState(t)})}setVisible(t,e){let i=this,n=i.chart,o=n.options.chart.ignoreHiddenSeries;i.visible=t=i.options.visible=i.userOptions.visible=void 0===t?!i.visible:t;let a=t?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(l=>{i[l]?.[a]()}),(n.hoverSeries===i||n.hoverPoint?.series===i)&&i.onMouseOut(),i.legendItem&&n.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&n.series.forEach(l=>{l.options.stacking&&l.visible&&(l.isDirty=!0)}),i.linkedSeries.forEach(l=>{l.setVisible(t,!1)}),o&&(n.isDirtyBox=!0),at(i,a),!1!==e&&n.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(t){this.selected=t=this.options.selected=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),at(this,t?"select":"unselect")}shouldShowTooltip(t,e,i={}){return i.series=this,i.visiblePlotOnly=!0,this.chart.isInsidePlot(t,e,i)}drawLegendSymbol(t,e){xa[this.options.legendSymbol||"rectangle"]?.call(this,t,e)}}jt.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:h}=this.series.chart;return"number"!=typeof this.y?"":h(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},jt.types=ct.seriesTypes,jt.registerType=ct.registerSeriesType,jt.keepProps=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],jt.keepPropsForPoints=["data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"],ii(jt.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:ce,requireSorting:!0,sorted:!0}),ct.series=jt;let kt=jt,{animObject:mc,setAnimation:uc}=Mt,{registerEventOptions:Ta}=hn,{composed:fc,marginNames:Aa}=L,{distribute:bc}=Ji,{format:xc}=At,{addEvent:_n,createElement:Mc,css:yc,defined:Do,discardElement:Cc,find:Oc,fireEvent:ne,isNumber:Ea,merge:Re,pick:zt,pushUnique:vc,relativeLength:Pc,stableSort:_c,syncTimeout:kc}=G;class Io{constructor(t,e){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=t,this.setOptions(e),e.enabled&&(this.render(),Ta(this,e),_n(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),_n(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(t){let e=zt(t.padding,8);this.options=t,this.chart.styledMode||(this.itemStyle=t.itemStyle,this.itemHiddenStyle=Re(this.itemStyle,t.itemHiddenStyle)),this.itemMarginTop=t.itemMarginTop,this.itemMarginBottom=t.itemMarginBottom,this.padding=e,this.initialItemY=e-5,this.symbolWidth=zt(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted,this.baseline=void 0}update(t,e){let i=this.chart;this.setOptions(Re(!0,this.options,t)),"events"in this.options&&Ta(this,this.options),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,zt(e,!0)&&i.redraw(),ne(this,"afterUpdate",{redraw:e})}colorizeItem(t,e){let i=t.color,{area:n,group:o,label:s,line:a,symbol:l}=t.legendItem||{};if((t instanceof kt||t instanceof ce)&&(t.color=t.options?.legendSymbolColor||i),o?.[e?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:c={}}=this,g=c.color,{fillColor:d,fillOpacity:p,lineColor:m,marker:u}=t.options,f=x=>(!e&&(x.fill&&(x.fill=g),x.stroke&&(x.stroke=g)),x);s?.css(Re(e?this.itemStyle:c)),a?.attr(f({stroke:m||t.color})),l&&l.attr(f(u&&l.isMarker?t.pointAttribs():{fill:t.color})),n?.attr(f({fill:d||t.color,"fill-opacity":d?1:p??.75}))}t.color=i,ne(this,"afterColorizeItem",{item:t,visible:e})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(t){let{group:e,x:i=0,y:n=0}=t.legendItem||{},o=this.options,s=o.symbolPadding,a=!o.rtl,l=t.checkbox;if(e?.element){let c={translateX:a?i:this.legendWidth-i-2*s-4,translateY:n};e[Do(e.translateY)?"animate":"attr"](c,void 0,()=>{ne(this,"afterPositionItem",{item:t})})}l&&(l.x=i,l.y=n)}destroyItem(t){let e=t.legendItem||{};for(let i of["group","label","line","symbol"])e[i]&&(e[i]=e[i].destroy());t.checkbox=Cc(t.checkbox),t.legendItem=void 0}destroy(){for(let t of this.getAllItems())this.destroyItem(t);for(let t of["clipRect","up","down","pager","nav","box","title","group"])this[t]&&(this[t]=this[t].destroy());this.display=null}positionCheckboxes(){let t,e=this.group?.alignAttr,i=this.clipHeight||this.legendHeight,n=this.titleHeight;e&&(t=e.translateY,this.allItems.forEach(function(o){let s,a=o.checkbox;a&&(s=t+n+a.y+(this.scrollOffset||0)+3,yc(a,{left:e.translateX+o.checkboxOffset+a.x-20+"px",top:s+"px",display:this.proximate||s>t-6&&s<t+i-6?"":"none"}))},this))}renderTitle(){let n,t=this.options,e=this.padding,i=t.title,o=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,e-3,e-4,void 0,void 0,void 0,t.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(i.style),this.title.add(this.group)),i.width||this.title.css({width:this.maxLegendWidth+"px"}),o=(n=this.title.getBBox()).height,this.offsetWidth=n.width,this.contentGroup.attr({translateY:o})),this.titleHeight=o}setText(t){let e=this.options;t.legendItem.label.attr({text:e.labelFormat?xc(e.labelFormat,t,this.chart):e.labelFormatter.call(t)})}renderItem(t){let e=t.legendItem=t.legendItem||{},i=this.chart,n=i.renderer,o=this.options,a=this.symbolWidth,l=o.symbolPadding||0,c=this.itemStyle,g=this.itemHiddenStyle,d="horizontal"===o.layout?zt(o.itemDistance,20):0,p=!o.rtl,m=!t.series,u=!m&&t.series.drawLegendSymbol?t.series:t,f=u.options,x=!!this.createCheckboxForItem&&f&&f.showCheckbox,b=o.useHTML,M=t.options.className,C=e.label,O=a+l+d+20*!!x;!C&&(e.group=n.g("legend-item").addClass("highcharts-"+u.type+"-series highcharts-color-"+t.colorIndex+(M?" "+M:"")+(m?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),e.label=C=n.text("",p?a+l:-l,this.baseline||0,b),i.styledMode||C.css(Re(t.visible?c:g)),C.attr({align:p?"left":"right",zIndex:2}).add(e.group),!this.baseline&&(this.fontMetrics=n.fontMetrics(C),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,C.attr("y",this.baseline),this.symbolHeight=zt(o.symbolHeight,this.fontMetrics.f),o.squareSymbol&&(this.symbolWidth=zt(o.symbolWidth,Math.max(this.symbolHeight,16)),O=this.symbolWidth+l+d+20*!!x,p&&C.attr("x",this.symbolWidth+l))),u.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,C,b)),x&&!t.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(t),this.colorizeItem(t,t.visible),(i.styledMode||!c.width)&&C.css({width:(o.itemWidth||this.widthOption||i.spacingBox.width)-O+"px"}),this.setText(t);let k=C.getBBox(),P=this.fontMetrics?.h||0;t.itemWidth=t.checkboxOffset=o.itemWidth||e.labelWidth||k.width+O,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(e.labelHeight||(k.height>1.5*P?k.height:P))}layoutItem(t){let e=this.options,i=this.padding,n="horizontal"===e.layout,o=t.itemHeight,s=this.itemMarginBottom,a=this.itemMarginTop,l=n?zt(e.itemDistance,20):0,c=this.maxLegendWidth,g=e.alignColumns&&this.totalItemWidth>c?this.maxItemWidth:t.itemWidth,d=t.legendItem||{};n&&this.itemX-i+g>c&&(this.itemX=i,this.lastLineHeight&&(this.itemY+=a+this.lastLineHeight+s),this.lastLineHeight=0),this.lastItemY=a+this.itemY+s,this.lastLineHeight=Math.max(o,this.lastLineHeight),d.x=this.itemX,d.y=this.itemY,n?this.itemX+=g:(this.itemY+=a+o+s,this.lastLineHeight=o),this.offsetWidth=this.widthOption||Math.max((n?this.itemX-i-(t.checkbox?0:l):g)+i,this.offsetWidth)}getAllItems(){let t=[];return this.chart.series.forEach(function(e){let i=e?.options;e&&zt(i.showInLegend,!Do(i.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItem?.labels||("point"===i.legendType?e.data:e)))}),ne(this,"afterGetAllItems",{allItems:t}),t}getAlignment(){let t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)}adjustMargins(t,e){let i=this.chart,n=this.options,o=this.getAlignment();o&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((s,a)=>{s.test(o)&&!Do(t[a])&&(i[Aa[a]]=Math.max(i[Aa[a]],i.legend[(a+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][a]*n[a%2?"x":"y"]+(n.margin??12)+e[a]+(i.titleOffset[a]||0)))})}proximatePositions(){let t,e=this.chart,i=[],n="left"===this.options.align;for(let o of(this.allItems.forEach(function(s){let a,l,g,d,c=n;s.yAxis&&(s.xAxis.options.reversed&&(c=!c),s.points&&(a=Oc(c?s.points:s.points.slice(0).reverse(),function(p){return Ea(p.plotY)})),l=this.itemMarginTop+s.legendItem.label.getBBox().height+this.itemMarginBottom,d=s.yAxis.top-e.plotTop,g=s.visible?(a?a.plotY:s.yAxis.height)+(d-.3*l):d+s.yAxis.height,i.push({target:g,size:l,item:s}))},this),bc(i,e.plotHeight)))t=o.item.legendItem||{},Ea(o.pos)&&(t.y=e.plotTop-e.spacing[0]+o.pos)}render(){let s,a,l,g,t=this.chart,e=t.renderer,i=this.options,n=this.padding,o=this.getAllItems(),c=this.group,d=this.box;this.itemX=n,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=Pc(i.width,t.spacingBox.width-n),g=t.spacingBox.width-2*n-i.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(g/=2),this.maxLegendWidth=this.widthOption||g,c||(this.group=c=e.g("legend").addClass(i.className||"").attr({zIndex:7}).add(),this.contentGroup=e.g().attr({zIndex:1}).add(c),this.scrollGroup=e.g().add(this.contentGroup)),this.renderTitle(),_c(o,(p,m)=>(p.options?.legendIndex||0)-(m.options?.legendIndex||0)),i.reversed&&o.reverse(),this.allItems=o,this.display=s=!!o.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,o.forEach(this.renderItem,this),o.forEach(this.layoutItem,this),a=(this.widthOption||this.offsetWidth)+n,l=this.lastItemY+this.lastLineHeight+this.titleHeight,l=this.handleOverflow(l)+n,d||(this.box=d=e.rect().addClass("highcharts-legend-box").attr({r:i.borderRadius}).add(c)),t.styledMode||d.attr({stroke:i.borderColor,"stroke-width":i.borderWidth||0,fill:i.backgroundColor||"none"}).shadow(i.shadow),a>0&&l>0&&d[d.placed?"animate":"attr"](d.crisp.call({},{x:0,y:0,width:a,height:l},d.strokeWidth())),c[s?"show":"hide"](),t.styledMode&&"none"===c.getStyle("display")&&(a=l=0),this.legendWidth=a,this.legendHeight=l,s&&this.align(),this.proximate||this.positionItems(),ne(this,"afterRender")}align(t=this.chart.spacingBox){let e=this.chart,i=this.options,n=t.y;/(lth|ct|rth)/.test(this.getAlignment())&&e.titleOffset[0]>0?n+=e.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&e.titleOffset[2]>0&&(n-=e.titleOffset[2]),n!==t.y&&(t=Re(t,{y:n})),e.hasRendered||(this.group.placed=!1),this.group.align(Re(i,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":i.verticalAlign}),!0,t)}handleOverflow(t){let b,M,C,O,e=this,i=this.chart,n=i.renderer,o=this.options,s=o.y,a="top"===o.verticalAlign,l=this.padding,c=o.maxHeight,g=o.navigation,d=zt(g.animation,!0),p=g.arrowSize||12,m=this.pages,u=this.allItems,f=function(_){"number"==typeof _?v.attr({height:_}):v&&(e.clipRect=v.destroy(),e.contentGroup.clip()),e.contentGroup.div&&(e.contentGroup.div.style.clip=_?"rect("+l+"px,9999px,"+(l+_)+"px,0)":"auto")},x=function(_){return e[_]=n.circle(0,0,1.3*p).translate(p/2,p/2).add(P),i.styledMode||e[_].attr("fill","rgba(0,0,0,0.0001)"),e[_]},k=i.spacingBox.height+(a?-s:s)-l,P=this.nav,v=this.clipRect;return"horizontal"!==o.layout||"middle"===o.verticalAlign||o.floating||(k/=2),c&&(k=Math.min(k,c)),m.length=0,t&&k>0&&t>k&&!1!==g.enabled?(this.clipHeight=b=Math.max(k-20-this.titleHeight-l,0),this.currentPage=zt(this.currentPage,1),this.fullHeight=t,u.forEach((_,S)=>{let A=(C=_.legendItem||{}).y||0,T=Math.round(C.label.getBBox().height),I=m.length;(!I||A-m[I-1]>b&&(M||A)!==m[I-1])&&(m.push(M||A),I++),C.pageIx=I-1,M&&O&&(O.pageIx=I-1),S===u.length-1&&A+T-m[I-1]>b&&A>m[I-1]&&(m.push(A),C.pageIx=I),A!==M&&(M=A),O=C}),v||(v=e.clipRect=n.clipRect(0,l-2,9999,0),e.contentGroup.clip(v)),f(b),P||(this.nav=P=n.g().attr({zIndex:1}).add(this.group),this.up=n.symbol("triangle",0,0,p,p).add(P),x("upTracker").on("click",function(){e.scroll(-1,d)}),this.pager=n.text("",15,10).addClass("highcharts-legend-navigation"),!i.styledMode&&g.style&&this.pager.css(g.style),this.pager.add(P),this.down=n.symbol("triangle-down",0,0,p,p).add(P),x("downTracker").on("click",function(){e.scroll(1,d)})),e.scroll(0),t=k):P&&(f(),this.nav=P.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t}scroll(t,e){let i=this.chart,n=this.pages,o=n.length,s=this.clipHeight,a=this.options.navigation,l=this.pager,c=this.padding,g=this.currentPage+t;g>o&&(g=o),g>0&&(void 0!==e&&uc(e,i),this.nav.attr({translateX:c,translateY:s+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(d){d.attr({class:1===g?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),l.attr({text:g+"/"+o}),[this.down,this.downTracker].forEach(function(d){d.attr({x:18+this.pager.getBBox().width,class:g===o?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),i.styledMode||(this.up.attr({fill:1===g?a.inactiveColor:a.activeColor}),this.upTracker.css({cursor:1===g?"default":"pointer"}),this.down.attr({fill:g===o?a.inactiveColor:a.activeColor}),this.downTracker.css({cursor:g===o?"default":"pointer"})),this.scrollOffset=-n[g-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=g,this.positionCheckboxes(),kc(()=>{ne(this,"afterScroll",{currentPage:g})},mc(zt(e,i.renderer.globalAnimation,!0)).duration))}setItemEvents(t,e,i){let n=this,o=t.legendItem||{},s=n.chart.renderer.boxWrapper,a=t instanceof ce,l=t instanceof kt,c="highcharts-legend-"+(a?"point":"series")+"-active",g=n.chart.styledMode,d=i?[e,o.symbol]:[o.group],p=m=>{n.allItems.forEach(u=>{t!==u&&[u].concat(u.linkedSeries||[]).forEach(f=>{f.setState(m,!a)})})};for(let m of d)m&&m.on("mouseover",function(){t.visible&&p("inactive"),t.setState("hover"),t.visible&&s.addClass(c),g||e.css(n.options.itemHoverStyle)}).on("mouseout",function(){n.chart.styledMode||e.css(Re(t.visible?n.itemStyle:n.itemHiddenStyle)),p(""),s.removeClass(c),t.setState()}).on("click",function(u){s.removeClass(c),ne(n,"itemClick",{browserEvent:u,legendItem:t},function(){t.setVisible&&t.setVisible(),p(t.visible?"inactive":"")}),a?t.firePointEvent("legendItemClick",{browserEvent:u}):l&&ne(t,"legendItemClick",{browserEvent:u})})}createCheckboxForItem(t){t.checkbox=Mc("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),_n(t.checkbox,"click",function(e){ne(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}!function(h){h.compose=function(t){vc(fc,"Core.Legend")&&_n(t,"beforeMargins",function(){this.legend=new h(this,this.options.legend)})}}(Io||(Io={}));let Fa=Io,{animate:jo,animObject:wc,setAnimation:zo}=Mt,{defaultOptions:No}=_t,{numberFormat:Sc}=At,{registerEventOptions:La}=hn,{charts:De,doc:Si,marginNames:Ra,svg:Tc,win:Da}=L,{seriesTypes:Bo}=ct,{addEvent:Go,attr:Ia,createElement:Ho,css:Nt,defined:ge,diffObjects:ja,discardElement:Ac,erase:Ec,error:$o,extend:pe,find:Wo,fireEvent:Z,getAlignFactor:Fc,getStyle:Xo,isArray:Lc,isNumber:ni,isObject:Rc,isString:kn,merge:Vt,objectEach:Yo,pick:Ct,pInt:Dc,relativeLength:za,removeEvent:Na,splat:wn,syncTimeout:Ic,uniqueKey:jc}=G;class me{static chart(t,e,i){return new me(t,e,i)}constructor(t,e,i){this.sharedClips={};let n=[...arguments];(kn(t)||t.nodeName)&&(this.renderTo=n.shift()),this.init(n[0],n[1])}setZoomOptions(){let t=this.options.chart,e=t.zooming;this.zooming={...e,type:Ct(t.zoomType,e.type),key:Ct(t.zoomKey,e.key),pinchType:Ct(t.pinchType,e.pinchType),singleTouch:Ct(t.zoomBySingleTouch,e.singleTouch,!1),resetButton:Vt(e.resetButton,t.resetZoomButton)}}init(t,e){Z(this,"init",{args:arguments},function(){let i=Vt(No,t),n=i.chart,o=this.renderTo||n.renderTo;this.userOptions=pe({},t),(this.renderTo=kn(o)?Si.getElementById(o):o)||$o(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=e,this.isResizing=0,this.options=i,this.axes=[],this.series=[],this.locale=i.lang.locale??this.renderTo.closest("[lang]")?.lang,this.time=new mi(pe(i.time||{},{locale:this.locale}),i.lang),i.time=this.time.options,this.numberFormatter=(n.numberFormatter||Sc).bind(this),this.styledMode=n.styledMode,this.hasCartesianSeries=n.showAxes,this.index=De.length,De.push(this),L.chartCount++,La(this,n),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),Z(this,"afterInit"),this.firstRender()})}initSeries(t){let i=t.type||this.options.chart.type,n=Bo[i];n||$o(17,!0,this,{missingModuleFor:i});let o=new n;return"function"==typeof o.init&&o.init(this,t),o}setSortedData(){this.getSeriesOrderByLinks().forEach(function(t){t.points||t.data||!t.enabledDataSorting||t.setData(t.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(t,e){return t.linkedSeries.length||e.linkedSeries.length?e.linkedSeries.length-t.linkedSeries.length:0})}orderItems(t,e=0){let i=this[t],n=this.options[t]=wn(this.options[t]).slice(),o=this.userOptions[t]=this.userOptions[t]?wn(this.userOptions[t]).slice():[];if(this.hasRendered&&(n.splice(e),o.splice(e)),i)for(let s=e,a=i.length;s<a;++s){let l=i[s];l&&(l.index=s,l instanceof kt&&(l.name=l.getName()),l.options.isInternal||(n[s]=l.options,o[s]=l.userOptions))}}getClipBox(t,e){let i=this.inverted,{xAxis:n,yAxis:o}=t||{},{x:s,y:a,width:l,height:c}=Vt(this.clipBox);return t&&(n&&n.len!==this.plotSizeX&&(l=n.len),o&&o.len!==this.plotSizeY&&(c=o.len),i&&!t.invertible&&([l,c]=[c,l])),e&&(s+=(i?o:n)?.pos??this.plotLeft,a+=(i?n:o)?.pos??this.plotTop),{x:s,y:a,width:l,height:c}}isInsidePlot(t,e,i={}){let{inverted:n,plotBox:o,plotLeft:s,plotTop:a,scrollablePlotBox:l}=this,{scrollLeft:c=0,scrollTop:g=0}=i.visiblePlotOnly&&this.scrollablePlotArea?.scrollingContainer||{},d=i.series,p=i.visiblePlotOnly&&l||o,m=i.inverted?e:t,u=i.inverted?t:e,f={x:m,y:u,isInsidePlot:!0,options:i};if(!i.ignoreX){let x=d&&(n&&!this.polar?d.yAxis:d.xAxis)||{pos:s,len:1/0},b=i.paneCoordinates?x.pos+m:s+m;b>=Math.max(c+s,x.pos)&&b<=Math.min(c+s+p.width,x.pos+x.len)||(f.isInsidePlot=!1)}if(!i.ignoreY&&f.isInsidePlot){let x=!n&&i.axis&&!i.axis.isXAxis&&i.axis||d&&(n?d.xAxis:d.yAxis)||{pos:a,len:1/0},b=i.paneCoordinates?x.pos+u:a+u;b>=Math.max(g+a,x.pos)&&b<=Math.min(g+a+p.height,x.pos+x.len)||(f.isInsidePlot=!1)}return Z(this,"afterIsInsidePlot",f),f.isInsidePlot}redraw(t){Z(this,"beforeRedraw");let g,d,p,f,e=this.hasCartesianSeries?this.axes:this.colorAxis||[],i=this.series,n=this.pointer,o=this.legend,s=this.userOptions.legend,a=this.renderer,l=a.isHidden(),c=[],m=this.isDirtyBox,u=this.isDirtyLegend;for(a.rootFontSize=a.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),zo(!!this.hasRendered&&t,this),l&&this.temporaryDisplay(),this.layOutTitles(!1),p=i.length;p--;)if(((f=i[p]).options.stacking||f.options.centerInCategory)&&(d=!0,f.isDirty)){g=!0;break}if(g)for(p=i.length;p--;)(f=i[p]).options.stacking&&(f.isDirty=!0);i.forEach(function(x){x.isDirty&&("point"===x.options.legendType?("function"==typeof x.updateTotals&&x.updateTotals(),u=!0):s&&(s.labelFormatter||s.labelFormat)&&(u=!0)),x.isDirtyData&&Z(x,"updatedData")}),u&&o&&o.options.enabled&&(o.render(),this.isDirtyLegend=!1),d&&this.getStacks(),e.forEach(function(x){x.updateNames(),x.setScale()}),this.getMargins(),e.forEach(function(x){x.isDirty&&(m=!0)}),e.forEach(function(x){let b=x.min+","+x.max;x.extKey!==b&&(x.extKey=b,c.push(function(){Z(x,"afterSetExtremes",pe(x.eventArgs,x.getExtremes())),delete x.eventArgs})),(m||d)&&x.redraw()}),m&&this.drawChartBox(),Z(this,"predraw"),i.forEach(function(x){(m||x.isDirty)&&x.visible&&x.redraw(),x.isDirtyData=!1}),n&&n.reset(!0),a.draw(),Z(this,"redraw"),Z(this,"render"),l&&this.temporaryDisplay(!0),c.forEach(function(x){x.call()})}get(t){let e=this.series;function i(o){return o.id===t||o.options&&o.options.id===t}let n=Wo(this.axes,i)||Wo(this.series,i);for(let o=0;!n&&o<e.length;o++)n=Wo(e[o].points||[],i);return n}createAxes(){let t=this.userOptions;for(let e of(Z(this,"createAxes"),["xAxis","yAxis"]))for(let i of t[e]=wn(t[e]||{}))new vo(this,i,e);Z(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((t,e)=>(e.getPointsCollection().forEach(i=>{Ct(i.selectedStaging,i.selected)&&t.push(i)}),t),[])}getSelectedSeries(){return this.series.filter(t=>t.selected)}setTitle(t,e,i){this.applyDescription("title",t),this.applyDescription("subtitle",e),this.applyDescription("caption",void 0),this.layOutTitles(i)}applyDescription(t,e){let i=this,n=this.options[t]=Vt(this.options[t],e),o=this[t];o&&e&&(this[t]=o=o.destroy()),n&&!o&&((o=this.renderer.text(n.text,0,0,n.useHTML).attr({align:n.align,class:"highcharts-"+t,zIndex:n.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(s,a){i.applyDescription(t,s),i.layOutTitles(a)},this.styledMode||o.css(pe("title"===t?{fontSize:this.options.isStock?"1em":"1.2em"}:{},n.style)),o.textPxLength=o.getBBox().width,o.css({whiteSpace:n.style?.whiteSpace}),this[t]=o)}layOutTitles(t=!0){let e=[0,0,0],{options:i,renderer:n,spacingBox:o}=this;["title","subtitle","caption"].forEach(a=>{let l=this[a],c=this.options[a],g=Vt(o),d=l?.textPxLength||0;if(l&&c){Z(this,"layOutTitle",{alignTo:g,key:a,textPxLength:d});let p=n.fontMetrics(l),m=p.b,u=p.h,f=c.verticalAlign||"top",x="top"===f,b=x&&c.minScale||1,M="title"===a?x?-3:0:x?e[0]+2:0,C=Math.min(g.width/d,1),O=Math.max(b,C),k=Vt({y:"bottom"===f?m:M+m},{align:"title"===a?C<b?"left":"center":this.title?.alignValue},c),P=(c.width||(C>b?this.chartWidth:g.width)/O)+"px";l.alignValue!==k.align&&(l.placed=!1);let v=Math.round(l.css({width:P}).getBBox(c.useHTML).height);if(k.height=v,l.align(k,!1,g).attr({align:k.align,scaleX:O,scaleY:O,"transform-origin":`${g.x+d*O*Fc(k.align)} ${u}`}),!c.floating){let _=v*(v<1.2*u?1:O);"top"===f?e[0]=Math.ceil(e[0]+_):"bottom"===f&&(e[2]=Math.ceil(e[2]+_))}}},this),e[0]&&"top"===(i.title?.verticalAlign||"top")&&(e[0]+=i.title?.margin||0),e[2]&&"bottom"===i.caption?.verticalAlign&&(e[2]+=i.caption?.margin||0);let s=!this.titleOffset||this.titleOffset.join(",")!==e.join(",");this.titleOffset=e,Z(this,"afterLayOutTitles"),!this.isDirtyBox&&s&&(this.isDirtyBox=this.isDirtyLegend=s,this.hasRendered&&t&&this.isDirtyBox&&this.redraw())}getContainerBox(){let t=[].map.call(this.renderTo.children,i=>{if(i!==this.container){let n=i.style.display;return i.style.display="none",[i,n]}}),e={width:Xo(this.renderTo,"width",!0)||0,height:Xo(this.renderTo,"height",!0)||0};return t.filter(Boolean).forEach(([i,n])=>{i.style.display=n}),e}getChartSize(){let t=this.options.chart,e=t.width,i=t.height,n=this.getContainerBox(),o=n.height<=1||!this.renderTo.parentElement?.style.height&&"100%"===this.renderTo.style.height;this.chartWidth=Math.max(0,e||n.width||600),this.chartHeight=Math.max(0,za(i,this.chartWidth)||(o?400:n.height)),this.containerBox=n}temporaryDisplay(t){let i,e=this.renderTo;if(t)for(;e?.style;)e.hcOrigStyle&&(Nt(e,e.hcOrigStyle),delete e.hcOrigStyle),e.hcOrigDetached&&(Si.body.removeChild(e),e.hcOrigDetached=!1),e=e.parentNode;else for(;e?.style&&(Si.body.contains(e)||e.parentNode||(e.hcOrigDetached=!0,Si.body.appendChild(e)),("none"===Xo(e,"display",!1)||e.hcOricDetached)&&(e.hcOrigStyle={display:e.style.display,height:e.style.height,overflow:e.style.overflow},i={display:"block",overflow:"hidden"},e!==this.renderTo&&(i.height=0),Nt(e,i),e.offsetWidth||e.style.setProperty("display","block","important")),(e=e.parentNode)!==Si.body););}setClassName(t){this.container.className="highcharts-container "+(t||"")}getContainer(){let t,e=this.options,i=e.chart,n="data-highcharts-chart",o=jc(),s=this.renderTo,a=Dc(Ia(s,n));ni(a)&&De[a]&&De[a].hasRendered&&De[a].destroy(),Ia(s,n,this.index),s.innerHTML=ot.emptyHTML,i.skipClone||s.offsetWidth||this.temporaryDisplay(),this.getChartSize();let l=this.chartHeight,c=this.chartWidth;Nt(s,{overflow:"hidden"}),this.styledMode||(t=pe({position:"relative",overflow:"hidden",width:c+"px",height:l+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},i.style||{}));let g=Ho("div",{id:o},t,s);this.container=g,this.getChartSize(),c!==this.chartWidth&&(c=this.chartWidth,this.styledMode||Nt(g,{width:Ct(i.style?.width,c+"px")})),this.containerBox=this.getContainerBox(),this._cursor=g.style.cursor;let d=i.renderer||!Tc?xi.getRendererType(i.renderer):rn;if(this.renderer=new d(g,c,l,void 0,i.forExport,e.exporting?.allowHTML,this.styledMode),zo(void 0,this),this.setClassName(i.className),this.styledMode)for(let p in e.defs)this.renderer.definition(e.defs[p]);else this.renderer.setStyle(i.style);this.renderer.chartIndex=this.index,Z(this,"afterGetContainer")}getMargins(t){let{spacing:e,margin:i,titleOffset:n}=this;this.resetMargins(),n[0]&&!ge(i[0])&&(this.plotTop=Math.max(this.plotTop,n[0]+e[0])),n[2]&&!ge(i[2])&&(this.marginBottom=Math.max(this.marginBottom,n[2]+e[2])),this.legend?.display&&this.legend.adjustMargins(i,e),Z(this,"getMargins"),t||this.getAxisMargins()}getAxisMargins(){let t=this,e=t.axisOffset=[0,0,0,0],i=t.colorAxis,n=t.margin,o=s=>{s.forEach(a=>{a.visible&&a.getOffset()})};t.hasCartesianSeries?o(t.axes):i?.length&&o(i),Ra.forEach((s,a)=>{ge(n[a])||(t[s]+=e[a])}),t.setChartSize()}getOptions(){return ja(this.userOptions,No)}reflow(t){let e=this,i=e.containerBox,n=e.getContainerBox();delete e.pointer?.chartPosition,!e.exporting?.isPrinting&&!e.isResizing&&i&&n.width&&((n.width!==i.width||n.height!==i.height)&&(G.clearTimeout(e.reflowTimeout),e.reflowTimeout=Ic(function(){e.container&&e.setSize(void 0,void 0,!1)},100*!!t)),e.containerBox=n)}setReflow(){let t=this,e=i=>{t.options?.chart.reflow&&t.hasLoaded&&t.reflow(i)};if("function"==typeof ResizeObserver)new ResizeObserver(e).observe(t.renderTo);else{let i=Go(Da,"resize",e);Go(this,"destroy",i)}}setSize(t,e,i){let n=this,o=n.renderer;n.isResizing+=1,zo(i,n);let s=o.globalAnimation;n.oldChartHeight=n.chartHeight,n.oldChartWidth=n.chartWidth,void 0!==t&&(n.options.chart.width=t),void 0!==e&&(n.options.chart.height=e),n.getChartSize();let{chartWidth:a,chartHeight:l,scrollablePixelsX:c=0,scrollablePixelsY:g=0}=n;(n.isDirtyBox||a!==n.oldChartWidth||l!==n.oldChartHeight)&&(n.styledMode||(s?jo:Nt)(n.container,{width:`${a+c}px`,height:`${l+g}px`},s),n.setChartSize(!0),o.setSize(a,l,s),n.axes.forEach(function(d){d.isDirty=!0,d.setScale()}),n.isDirtyLegend=!0,n.isDirtyBox=!0,n.layOutTitles(),n.getMargins(),n.redraw(s),n.oldChartHeight=void 0,Z(n,"resize"),setTimeout(()=>{n&&Z(n,"endResize")},wc(s).duration)),n.isResizing-=1}setChartSize(t){let e,i,n,o,{chartHeight:s,chartWidth:a,inverted:l,spacing:c,renderer:g}=this,d=this.clipOffset,p=Math[l?"floor":"round"];this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=i=Math.round(this.plotTop),this.plotWidth=n=Math.max(0,Math.round(a-e-(this.marginRight??0))),this.plotHeight=o=Math.max(0,Math.round(s-i-(this.marginBottom??0))),this.plotSizeX=l?o:n,this.plotSizeY=l?n:o,this.spacingBox=g.spacingBox={x:c[3],y:c[0],width:a-c[3]-c[1],height:s-c[0]-c[2]},this.plotBox=g.plotBox={x:e,y:i,width:n,height:o},d&&(this.clipBox={x:p(d[3]),y:p(d[0]),width:p(this.plotSizeX-d[1]-d[3]),height:p(this.plotSizeY-d[0]-d[2])}),t||(this.axes.forEach(function(m){m.setAxisSize(),m.setAxisTranslation()}),g.alignElements()),Z(this,"afterSetChartSize",{skipAxes:t})}resetMargins(){Z(this,"resetMargins");let t=this,e=t.options.chart,i=e.plotBorderWidth||0,n=Math.round(i)/2;["margin","spacing"].forEach(o=>{let s=e[o],a=Rc(s)?s:[s,s,s,s];["Top","Right","Bottom","Left"].forEach((l,c)=>{t[o][c]=e[`${o}${l}`]??a[c]})}),Ra.forEach((o,s)=>{t[o]=t.margin[s]??t.spacing[s]}),t.axisOffset=[0,0,0,0],t.clipOffset=[n,n,n,n],t.plotBorderWidth=i}drawChartBox(){let O,k,P,t=this.options.chart,e=this.renderer,i=this.chartWidth,n=this.chartHeight,o=this.styledMode,s=this.plotBGImage,a=t.backgroundColor,l=t.plotBackgroundColor,c=t.plotBackgroundImage,g=this.plotLeft,d=this.plotTop,p=this.plotWidth,m=this.plotHeight,u=this.plotBox,f=this.clipRect,x=this.clipBox,b=this.chartBackground,M=this.plotBackground,C=this.plotBorder,v="animate";b||(this.chartBackground=b=e.rect().addClass("highcharts-background").add(),v="attr"),o?O=k=b.strokeWidth():(k=(O=t.borderWidth||0)+8*!!t.shadow,P={fill:a||"none"},(O||b["stroke-width"])&&(P.stroke=t.borderColor,P["stroke-width"]=O),b.attr(P).shadow(t.shadow)),b[v]({x:k/2,y:k/2,width:i-k-O%2,height:n-k-O%2,r:t.borderRadius}),v="animate",M||(v="attr",this.plotBackground=M=e.rect().addClass("highcharts-plot-background").add()),M[v](u),!o&&(M.attr({fill:l||"none"}).shadow(t.plotShadow),c&&(s?(c!==s.attr("href")&&s.attr("href",c),s.animate(u)):this.plotBGImage=e.image(c,g,d,p,m).add())),f?f.animate({width:x.width,height:x.height}):this.clipRect=e.clipRect(x),v="animate",C||(v="attr",this.plotBorder=C=e.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),o||C.attr({stroke:t.plotBorderColor,"stroke-width":t.plotBorderWidth||0,fill:"none"}),C[v](C.crisp(u,-C.strokeWidth())),this.isDirtyBox=!1,Z(this,"afterDrawChartBox")}propFromSeries(){let t,e,i,n=this,o=n.options.chart,s=n.options.series;["inverted","angular","polar"].forEach(function(a){for(e=Bo[o.type],i=o[a]||e&&e.prototype[a],t=s?.length;!i&&t--;)(e=Bo[s[t].type])&&e.prototype[a]&&(i=!0);n[a]=i})}linkSeries(t){let e=this,i=e.series;i.forEach(function(n){n.linkedSeries.length=0}),i.forEach(function(n){let{linkedTo:o}=n.options;if(kn(o)){let s;(s=":previous"===o?e.series[n.index-1]:e.get(o))&&s.linkedParent!==n&&(s.linkedSeries.push(n),n.linkedParent=s,s.enabledDataSorting&&n.setDataSortingOptions(),n.visible=Ct(n.options.visible,s.options.visible,n.visible))}}),Z(this,"afterLinkSeries",{isUpdating:t})}renderSeries(){this.series.forEach(function(t){t.translate(),t.render()})}render(){let l,t=this.axes,e=this.colorAxis,i=this.renderer,n=this.options.chart.axisLayoutRuns||2,o=g=>{g.forEach(d=>{d.visible&&d.render()})},s=0,a=!0,c=0;for(let g of(this.setTitle(),Z(this,"beforeMargins"),this.getStacks?.(),this.getMargins(!0),this.setChartSize(),t)){let{options:d}=g,{labels:p}=d;if(this.hasCartesianSeries&&g.horiz&&g.visible&&p.enabled&&g.series.length&&"colorAxis"!==g.coll&&!this.polar){s=d.tickLength,g.createGroups();let m=new Je(g,0,"",!0),u=m.createLabel("x",p);if(m.destroy(),u&&Ct(p.reserveSpace,!ni(d.crossing))&&(s=u.getBBox().height+p.distance+Math.max(d.offset||0,0)),s){u?.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-s,0);(a||l||n>1)&&c<n;){let g=this.plotWidth,d=this.plotHeight;for(let p of t)0===c?p.setScale():(p.horiz&&a||!p.horiz&&l)&&p.setTickInterval(!0);0===c?this.getAxisMargins():this.getMargins(),a=g/this.plotWidth>(c?1:1.1),l=d/this.plotHeight>(c?1:1.05),c++}this.drawChartBox(),this.hasCartesianSeries?o(t):e?.length&&o(e),this.seriesGroup||(this.seriesGroup=i.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.dataLabelsGroup||(this.dataLabelsGroup=i.g("datalabels-group").attr({zIndex:6}).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(t){let e=this,i=Vt(!0,this.options.credits,t);i.enabled&&!this.credits&&(this.credits=this.renderer.text(i.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){i.href&&(Da.location.href=i.href)}).attr({align:i.position.align,zIndex:8}),e.styledMode||this.credits.css(i.style),this.credits.add().align(i.position),this.credits.update=function(n){e.credits=e.credits.destroy(),e.addCredits(n)})}destroy(){let t,e=this,i=e.axes,n=e.series,o=e.container,s=o?.parentNode;for(Z(e,"destroy"),e.renderer.forExport?Ec(De,e):De[e.index]=void 0,L.chartCount--,e.renderTo.removeAttribute("data-highcharts-chart"),Na(e),t=i.length;t--;)i[t]=i[t].destroy();for(this.scroller?.destroy?.(),t=n.length;t--;)n[t]=n[t].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(a=>{e[a]=e[a]?.destroy?.()}),o&&(o.innerHTML=ot.emptyHTML,Na(o),s&&Ac(o)),Yo(e,function(a,l){delete e[l]})}firstRender(){let t=this,e=t.options;t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.createAxes();let i=Lc(e.series)?e.series:[];e.series=[],i.forEach(function(n){t.initSeries(n)}),t.linkSeries(),t.setSortedData(),Z(t,"beforeRender"),t.render(),t.pointer?.getChartPosition(),t.renderer.imgCount||t.hasLoaded||t.onload(),t.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(t){t&&void 0!==this.index&&t.apply(this,[this])},this),Z(this,"load"),Z(this,"render"),ge(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:t,title:e}=this;t&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(e?.element.textContent||"").replace(/</g,"&lt;")}),t.accessibility&&!1===t.accessibility.enabled||$o('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(t,e,i){let n,o=this;return t&&(e=Ct(e,!0),Z(o,"addSeries",{options:t},function(){n=o.initSeries(t),o.isDirtyLegend=!0,o.linkSeries(),n.enabledDataSorting&&n.setData(t.data,!1),Z(o,"afterAddSeries",{series:n}),e&&o.redraw(i)})),n}addAxis(t,e,i,n){return this.createAxis(e?"xAxis":"yAxis",{axis:t,redraw:i,animation:n})}addColorAxis(t,e,i){return this.createAxis("colorAxis",{axis:t,redraw:e,animation:i})}createAxis(t,e){let i=new vo(this,e.axis,t);return Ct(e.redraw,!0)&&this.redraw(e.animation),i}showLoading(t){let e=this,i=e.options,n=i.loading,o=function(){s&&Nt(s,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})},s=e.loadingDiv,a=e.loadingSpan;s||(e.loadingDiv=s=Ho("div",{className:"highcharts-loading highcharts-loading-hidden"},null,e.container)),a||(e.loadingSpan=a=Ho("span",{className:"highcharts-loading-inner"},null,s),Go(e,"redraw",o)),s.className="highcharts-loading",ot.setElementHTML(a,Ct(t,i.lang.loading,"")),!e.styledMode&&(Nt(s,pe(n.style,{zIndex:10})),Nt(a,n.labelStyle),e.loadingShown||(Nt(s,{opacity:0,display:""}),jo(s,{opacity:n.style.opacity||.5},{duration:n.showDuration||0}))),e.loadingShown=!0,o()}hideLoading(){let t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",this.styledMode||jo(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){Nt(e,{display:"none"})}})),this.loadingShown=!1}update(t,e,i,n){let o,s,a,l=this,c={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},g=t.isResponsiveOptions,d=[];Z(l,"update",{options:t}),g||l.setResponsive(!1,!0),t=ja(t,l.options),l.userOptions=Vt(l.userOptions,t);let p=t.chart;p&&(Vt(!0,l.options.chart,p),this.setZoomOptions(),"className"in p&&l.setClassName(p.className),("inverted"in p||"polar"in p||"type"in p)&&(l.propFromSeries(),o=!0),"alignTicks"in p&&(o=!0),"events"in p&&La(this,p),Yo(p,function(f,x){-1!==l.propsRequireUpdateSeries.indexOf("chart."+x)&&(s=!0),-1!==l.propsRequireDirtyBox.indexOf(x)&&(l.isDirtyBox=!0),-1!==l.propsRequireReflow.indexOf(x)&&(l.isDirtyBox=!0,g||(a=!0))}),!l.styledMode&&p.style&&l.renderer.setStyle(l.options.chart.style||{})),!l.styledMode&&t.colors&&(this.options.colors=t.colors),Yo(t,function(f,x){l[x]&&"function"==typeof l[x].update?l[x].update(f,!1):"function"==typeof l[c[x]]?l[c[x]](f):"colors"!==x&&-1===l.collectionsWithUpdate.indexOf(x)&&Vt(!0,l.options[x],t[x]),"chart"!==x&&-1!==l.propsRequireUpdateSeries.indexOf(x)&&(s=!0)}),this.collectionsWithUpdate.forEach(function(f){t[f]&&(wn(t[f]).forEach(function(x,b){let M,C=ge(x.id);C&&(M=l.get(x.id)),!M&&l[f]&&(M=l[f][Ct(x.index,b)])&&(C&&ge(M.options.id)||M.options.isInternal)&&(M=void 0),M&&M.coll===f&&(M.update(x,!1),i&&(M.touched=!0)),!M&&i&&l.collectionsWithInit[f]&&(l.collectionsWithInit[f][0].apply(l,[x].concat(l.collectionsWithInit[f][1]||[]).concat([!1])).touched=!0)}),i&&l[f].forEach(function(x){x.touched||x.options.isInternal?delete x.touched:d.push(x)}))}),d.forEach(function(f){f.chart&&f.remove&&f.remove(!1)}),o&&l.axes.forEach(function(f){f.update({},!1)}),s&&l.getSeriesOrderByLinks().forEach(function(f){f.chart&&f.update({},!1)},this);let m=p?.width,u=p&&(kn(p.height)?za(p.height,m||l.chartWidth):p.height);a||ni(m)&&m!==l.chartWidth||ni(u)&&u!==l.chartHeight?l.setSize(m,u,n):Ct(e,!0)&&l.redraw(n),Z(l,"afterUpdate",{options:t,redraw:e,animation:n})}setSubtitle(t,e){this.applyDescription("subtitle",t),this.layOutTitles(e)}setCaption(t,e){this.applyDescription("caption",t),this.layOutTitles(e)}showResetZoom(){let t=this,e=No.lang,i=t.zooming.resetButton,n=i.theme,o="chart"===i.relativeTo||"spacingBox"===i.relativeTo?null:"plotBox";function s(){t.zoomOut()}Z(this,"beforeShowResetZoom",null,function(){t.resetZoomButton=t.renderer.button(e.resetZoom,null,null,s,n).attr({align:i.position.align,title:e.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(i.position,!1,o)}),Z(this,"afterShowResetZoom")}zoomOut(){Z(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(t,e){let i=this,n="object"==typeof e?e:{enabled:e,type:"x"},o=n.type,s=o&&i[{x:"xAxis",xy:"axes",y:"yAxis"}[o]].filter(l=>l.options.panningEnabled&&!l.options.isInternal),a=i.options.chart;a?.panning&&(a.panning=n),Z(this,"pan",{originalEvent:t},()=>{i.transform({axes:s,event:t,to:{x:t.chartX-(i.mouseDownX||0),y:t.chartY-(i.mouseDownY||0)},trigger:"pan"}),Nt(i.container,{cursor:"move"})})}transform(t){let{axes:e=this.axes,event:i,from:n={},reset:o,selection:s,to:a={},trigger:l}=t,{inverted:c,time:g}=this;this.hoverPoints?.forEach(u=>u.setState()),Z(this,"transform",t);let p,m,d=t.hasZoomed||!1;for(let u of e){let{horiz:f,len:x,minPointOffset:b=0,options:M,reversed:C}=u,O=f?"width":"height",k=f?"x":"y",P=Ct(a[O],u.len),v=Ct(n[O],u.len),_=10>Math.abs(P)?1:P/v,S=(n[k]||0)+v/2-u.pos,A=S-((a[k]??u.pos)+P/2-u.pos)/_,T=C&&!c||!C&&c?-1:1;if(!o&&(S<0||S>u.len))continue;let I=u.chart.polar||u.isOrdinal?0:b*T||0,N=u.toValue(A,!0),B=u.toValue(A+x/_,!0),j=N+I,D=B-I,z=u.allExtremes;if(s&&s[u.coll].push({axis:u,min:Math.min(N,B),max:Math.max(N,B)}),j>D&&([j,D]=[D,j]),1===_&&!o&&"yAxis"===u.coll&&!z){for(let Pt of u.series){let qt=Pt.getExtremes(Pt.getProcessedData(!0).modified.getColumn("y")||[],!0);z??(z={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),ni(qt.dataMin)&&ni(qt.dataMax)&&(z.dataMin=Math.min(qt.dataMin,z.dataMin),z.dataMax=Math.max(qt.dataMax,z.dataMax))}u.allExtremes=z}let{dataMin:tt,dataMax:q,min:Ot,max:W}=pe(u.getExtremes(),z||{}),$=g.parse(M.min),K=g.parse(M.max),U=tt??$,it=q??K,nt=D-j,J=u.categories?0:Math.min(nt,it-U),lt=U-J*(ge($)?0:M.minPadding),vt=it+J*(ge(K)?0:M.maxPadding),wt=u.allowZoomOutside||1===_||"zoom"!==l&&_>1,be=Math.min($??lt,lt,wt?Ot:lt),Bt=Math.max(K??vt,vt,wt?W:vt);(!u.isOrdinal||1!==_||o)&&(j<be&&(j=be,_>=1&&(D=j+nt)),D>Bt&&(D=Bt,_>=1&&(j=D-nt)),(o||u.series.length&&(j!==Ot||D!==W)&&j>=be&&D<=Bt)&&(s?s[u.coll].push({axis:u,min:j,max:D}):(u.isPanning="zoom"!==l,u.isPanning&&(m=!0),u.setExtremes(o?void 0:j,o?void 0:D,!1,!1,{move:A,trigger:l,scale:_}),!o&&(j>be||D<Bt)&&"mousewheel"!==l&&(p=!0)),d=!0),this.hasCartesianSeries||o||"mousewheel"===l||(p=!0),i&&(this[f?"mouseDownX":"mouseDownY"]=i[f?"chartX":"chartY"]))}return d&&(s?Z(this,"selection",s,()=>{delete t.selection,t.trigger="zoom",this.transform(t)}):(!p||m||this.resetZoomButton?!p&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw("zoom"===l&&(this.options.chart.animation??this.pointCount<100)))),d}}pe(me.prototype,{callbacks:[],collectionsWithInit:{xAxis:[me.prototype.addAxis,[!0]],yAxis:[me.prototype.addAxis,[!1]],series:[me.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:zc}=Mt,{composed:Nc}=L,{addEvent:ue,createElement:Sn,css:Uo,defined:Vo,erase:Bc,merge:Ba,pushUnique:Ga}=G;function Gc(){let h=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!h&&(this.scrollablePlotArea=h=new $a(this)),h?.applyFixed()}function Ha(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}let $a=(()=>{class h{static compose(e,i,n){Ga(Nc,this.compose)&&(ue(e,"afterInit",Ha),ue(i,"afterSetChartSize",o=>this.afterSetSize(o.target,o)),ue(i,"render",Gc),ue(n,"show",Ha))}static afterSetSize(e,i){let n,o,s,{minWidth:a,minHeight:l}=e.options.chart.scrollablePlotArea||{},{clipBox:c,plotBox:g,inverted:d,renderer:p}=e;if(!p.forExport)if(a?(e.scrollablePixelsX=n=Math.max(0,a-e.chartWidth),n&&(e.scrollablePlotBox=Ba(e.plotBox),g.width=e.plotWidth+=n,c[d?"height":"width"]+=n,s=!0)):l&&(e.scrollablePixelsY=o=Math.max(0,l-e.chartHeight),Vo(o)&&(e.scrollablePlotBox=Ba(e.plotBox),g.height=e.plotHeight+=o,c[d?"width":"height"]+=o,s=!1)),Vo(s)){if(!i.skipAxes)for(let m of e.axes)(m.horiz===s||e.hasParallelCoordinates&&"yAxis"===m.coll)&&(m.setAxisSize(),m.setAxisTranslation())}else delete e.scrollablePlotBox}constructor(e){let i,n=e.options.chart,o=xi.getRendererType(),s=n.scrollablePlotArea||{},a=this.moveFixedElements.bind(this),l={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};e.scrollablePixelsX&&(l.overflowX="auto"),e.scrollablePixelsY&&(l.overflowY="auto"),this.chart=e;let c=this.parentDiv=Sn("div",{className:"highcharts-scrolling-parent"},{position:"relative"},e.renderTo),g=this.scrollingContainer=Sn("div",{className:"highcharts-scrolling"},l,c),d=this.innerContainer=Sn("div",{className:"highcharts-inner-container"},void 0,g),p=this.fixedDiv=Sn("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(n.style?.zIndex||0)+2,top:0},void 0,!0),m=this.fixedRenderer=new o(p,e.chartWidth,e.chartHeight,n.style);this.mask=m.path().attr({fill:n.backgroundColor||"#fff","fill-opacity":s.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),g.parentNode.insertBefore(p,g),Uo(e.renderTo,{overflow:"visible"}),ue(e,"afterShowResetZoom",a),ue(e,"afterApplyDrilldown",a),ue(e,"afterLayOutTitles",a),ue(g,"scroll",()=>{let{pointer:u,hoverPoint:f}=e;u&&(delete u.chartPosition,f&&(i=f),u.runPointActions(void 0,i,!0))}),d.appendChild(e.container)}applyFixed(){let{chart:e,fixedRenderer:i,isDirty:n,scrollingContainer:o}=this,{axisOffset:s,chartWidth:a,chartHeight:l,container:c,plotHeight:g,plotLeft:d,plotTop:p,plotWidth:m,scrollablePixelsX:u=0,scrollablePixelsY:f=0}=e,{scrollPositionX:x=0,scrollPositionY:b=0}=e.options.chart.scrollablePlotArea||{},M=a+u,C=l+f;i.setSize(a,l),(n??!0)&&(this.isDirty=!1,this.moveFixedElements()),zc(e.container),Uo(c,{width:`${M}px`,height:`${C}px`}),e.renderer.boxWrapper.attr({width:M,height:C,viewBox:[0,0,M,C].join(" ")}),e.chartBackground?.attr({width:M,height:C}),Uo(o,{width:`${a}px`,height:`${l}px`}),Vo(n)||(o.scrollLeft=u*x,o.scrollTop=f*b);let O=p-s[0]-1,k=d-s[3]-1,P=p+g+s[2]+1,v=d+m+s[1]+1,_=d+m-u,S=p+g-f,A=[["M",0,0]];u?A=[["M",0,O],["L",d-1,O],["L",d-1,P],["L",0,P],["Z"],["M",_,O],["L",a,O],["L",a,P],["L",_,P],["Z"]]:f&&(A=[["M",k,0],["L",k,p-1],["L",v,p-1],["L",v,0],["Z"],["M",k,S],["L",k,l],["L",v,l],["L",v,S],["Z"]]),"adjustHeight"!==e.redrawTrigger&&this.mask.attr({d:A})}moveFixedElements(){let e,{container:i,inverted:n,scrollablePixelsX:o,scrollablePixelsY:s}=this.chart,a=this.fixedRenderer,l=h.fixedSelectors;if(o&&!n?e=".highcharts-yaxis":o&&n||s&&!n?e=".highcharts-xaxis":s&&n&&(e=".highcharts-yaxis"),!e||this.chart.hasParallelCoordinates&&".highcharts-yaxis"===e)for(let c of[".highcharts-xaxis",".highcharts-yaxis"])for(let g of[`${c}:not(.highcharts-radial-axis)`,`${c}-labels:not(.highcharts-radial-axis-labels)`])Bc(l,g);else for(let c of[`${e}:not(.highcharts-radial-axis)`,`${e}-labels:not(.highcharts-radial-axis-labels)`])Ga(l,c);for(let c of l)[].forEach.call(i.querySelectorAll(c),g=>{(g.namespaceURI===a.SVG_NS?a.box:a.box.parentNode).appendChild(g),g.style.pointerEvents="auto"})}}return h.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"],h})(),{format:Hc}=At,{series:$c}=ct,{destroyObjectProperties:Wc,fireEvent:Wa,getAlignFactor:qo,isNumber:Zo,pick:Ti}=G,Xa=class{constructor(h,t,e,i,n){let o=h.chart.inverted,s=h.reversed;this.axis=h;let a=this.isNegative=!!e!=!!s;this.options=t=t||{},this.x=i,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=n,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:t.align||(o?a?"left":"right":"center"),verticalAlign:t.verticalAlign||(o?"middle":a?"bottom":"top"),y:t.y,x:t.x},this.textAlign=t.textAlign||(o?a?"right":"left":"center")}destroy(){Wc(this,this.axis)}render(h){let t=this.axis.chart,e=this.options,i=e.format,n=i?Hc(i,this,t):e.formatter.call(this);if(this.label)this.label.attr({text:n,visibility:"hidden"});else{this.label=t.renderer.label(n,null,void 0,e.shape,void 0,void 0,e.useHTML,!1,"stack-labels");let o={r:e.borderRadius||0,text:n,padding:Ti(e.padding,5),visibility:"hidden"};t.styledMode||(o.fill=e.backgroundColor,o.stroke=e.borderColor,o["stroke-width"]=e.borderWidth,this.label.css(e.style||{})),this.label.attr(o),this.label.added||this.label.add(h)}this.label.labelrank=t.plotSizeY,Wa(this,"afterRender")}setOffset(h,t,e,i,n,o){let{alignOptions:s,axis:a,label:l,options:c,textAlign:g}=this,d=a.chart,p=this.getStackBox({xOffset:h,width:t,boxBottom:e,boxTop:i,defaultX:n,xAxis:o}),{verticalAlign:m}=s;if(l&&p){let b,u=l.getBBox(void 0,0),f=l.padding,x="justify"===Ti(c.overflow,"justify");s.x=c.x||0,s.y=c.y||0;let{x:M,y:C}=this.adjustStackPosition({labelBox:u,verticalAlign:m,textAlign:g});p.x-=M,p.y-=C,l.align(s,!1,p),(b=d.isInsidePlot(l.alignAttr.x+s.x+M,l.alignAttr.y+s.y+C))||(x=!1),x&&$c.prototype.justifyDataLabel.call(a,l,s,l.alignAttr,u,p),l.attr({x:l.alignAttr.x,y:l.alignAttr.y,rotation:c.rotation,rotationOriginX:u.width*qo(c.textAlign||"center"),rotationOriginY:u.height/2}),Ti(!x&&c.crop,!0)&&(b=Zo(l.x)&&Zo(l.y)&&d.isInsidePlot(l.x-f+(l.width||0),l.y)&&d.isInsidePlot(l.x+f,l.y)),l[b?"show":"hide"]()}Wa(this,"afterSetOffset",{xOffset:h,width:t})}adjustStackPosition({labelBox:h,verticalAlign:t,textAlign:e}){return{x:h.width/2+h.width/2*(2*qo(e)-1),y:h.height/2*2*(1-qo(t))}}getStackBox(h){let t=this.axis,e=t.chart,{boxTop:i,defaultX:n,xOffset:o,width:s,boxBottom:a}=h,l=t.stacking.usePercentage?100:Ti(i,this.total,0),c=t.toPixels(l),g=h.xAxis||e.xAxis[0],d=Ti(n,g.translate(this.x))+o,p=Math.abs(c-t.toPixels(a||Zo(t.min)&&t.logarithmic&&t.logarithmic.lin2log(t.min)||0)),u=this.isNegative;return e.inverted?{x:(u?c:c-p)-e.plotLeft,y:g.height-d-s+g.top-e.plotTop,width:p,height:s}:{x:d+g.transB-e.plotLeft,y:(u?c-p:c)-e.plotTop,width:s,height:p}}},{getDeferredAnimation:Xc}=Mt,{series:{prototype:Yc}}=ct,{addEvent:Ya,correctFloat:Ai,defined:Ua,destroyObjectProperties:Uc,fireEvent:Vc,isNumber:Ko,objectEach:Ie,pick:Jo}=G;function qc(){let h=this.inverted;this.axes.forEach(t=>{t.stacking?.stacks&&t.hasVisibleSeries&&(t.stacking.oldStacks=t.stacking.stacks)}),this.series.forEach(t=>{let e=t.xAxis?.options||{};t.options.stacking&&t.reserveSpace()&&(t.stackKey=[t.type,Jo(t.options.stack,""),h?e.top:e.left,h?e.height:e.width].join(","))})}function Zc(){let h=this.stacking;if(h){let t=h.stacks;Ie(t,(e,i)=>{Uc(e),delete t[i]}),h.stackTotalGroup?.destroy()}}function Kc(){this.stacking||(this.stacking=new nd(this))}function Jc(h,t,e,i){return!Ua(h)||h.x!==t||i&&h.stackKey!==i?h={x:t,index:0,key:i,stackKey:i}:h.index++,h.key=[e,t,h.index].join(","),h}function Qc(){let h,t=this,i=t.stackKey||"",n=t.yAxis.stacking.stacks,o=t.getColumn("x",!0),a=t[t.options.stacking+"Stacker"];a&&[i,"-"+i].forEach(l=>{let g,d,p,c=o.length;for(;c--;)g=o[c],h=t.getStackIndicator(h,g,t.index,l),d=n[l]?.[g],(p=d?.points[h.key||""])&&a.call(t,p,d,c)})}function td(h,t,e){let i=t.total?100/t.total:0;h[0]=Ai(h[0]*i),h[1]=Ai(h[1]*i),this.stackedYData[e]=h[1]}function ed(h){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?Yc.setStackedPoints.call(this,h,"group"):h.stacking.resetStacks())}function id(h,t){let e,i,n,o,s,a,l,c=t||this.options.stacking;if(!c||!this.reserveSpace()||({group:"xAxis"}[c]||"yAxis")!==h.coll)return;let g=this.getColumn("x",!0),d=this.getColumn(this.pointValKey||"y",!0),p=[],m=d.length,u=this.options,f=u.threshold||0,x=u.startFromThreshold?f:0,b=u.stack,M=t?`${this.type},${c}`:this.stackKey||"",C="-"+M,O=this.negStacks,k=h.stacking,P=k.stacks,v=k.oldStacks;for(k.stacksTouched+=1,l=0;l<m;l++){let _=g[l]||0,S=d[l],A=Ko(S)&&S||0;a=(e=this.getStackIndicator(e,_,this.index)).key||"",P[s=(i=O&&A<(x?0:f))?C:M]||(P[s]={}),P[s][_]||(v[s]?.[_]?(P[s][_]=v[s][_],P[s][_].total=null):P[s][_]=new Xa(h,h.options.stackLabels,!!i,_,b)),n=P[s][_],null!==S?(n.points[a]=n.points[this.index]=[Jo(n.cumulative,x)],Ua(n.cumulative)||(n.base=a),n.touched=k.stacksTouched,e.index>0&&!1===this.singleStacks&&(n.points[a][0]=n.points[this.index+","+_+",0"][0])):(delete n.points[a],delete n.points[this.index]);let T=n.total||0;"percent"===c?(o=i?M:C,T=O&&P[o]?.[_]?(o=P[o][_]).total=Math.max(o.total||0,T)+Math.abs(A):Ai(T+Math.abs(A))):"group"===c?Ko(S)&&T++:T=Ai(T+A),n.cumulative="group"===c?(T||1)-1:Ai(Jo(n.cumulative,x)+A),n.total=T,null!==S&&(n.points[a].push(n.cumulative),p[l]=n.cumulative,n.hasValidPoints=!0)}"percent"===c&&(k.usePercentage=!0),"group"!==c&&(this.stackedYData=p),k.oldStacks={}}class nd{constructor(t){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=t}buildStacks(){let t,e,i=this.axis,n=i.series,o="xAxis"===i.coll,s=i.options.reversedStacks,a=n.length;for(this.resetStacks(),this.usePercentage=!1,e=a;e--;)t=n[s?e:a-e-1],o&&t.setGroupedPoints(i),t.setStackedPoints(i);if(!o)for(e=0;e<a;e++)n[e].modifyStacks();Vc(i,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,Ie(this.stacks,t=>{Ie(t,e=>{e.cumulative=e.total})}))}resetStacks(){Ie(this.stacks,t=>{Ie(t,(e,i)=>{Ko(e.touched)&&e.touched<this.stacksTouched?(e.destroy(),delete t[i]):(e.total=null,e.cumulative=null)})})}renderStackTotals(){let t=this.axis,e=t.chart,i=e.renderer,n=this.stacks,o=Xc(e,t.options.stackLabels?.animation||!1),s=this.stackTotalGroup=this.stackTotalGroup||i.g("stack-labels").attr({zIndex:6,opacity:0}).add();s.translate(e.plotLeft,e.plotTop),Ie(n,a=>{Ie(a,l=>{l.render(s)})}),s.animate({opacity:1},o)}}(li||(li={})).compose=function(h,t,e){let i=t.prototype,n=e.prototype;i.getStacks||(Ya(h,"init",Kc),Ya(h,"destroy",Zc),i.getStacks=qc,n.getStackIndicator=Jc,n.modifyStacks=Qc,n.percentStacker=td,n.setGroupedPoints=ed,n.setStackedPoints=id)};let od=li,{defined:sd,merge:Va,isObject:ad}=G;class qa extends kt{drawGraph(){let t=this.options,e=(this.gappedPath||this.getGraphPath).call(this),i=this.chart.styledMode;[this,...this.zones].forEach((n,o)=>{let s,a=n.graph,l=a?"animate":"attr",c=n.dashStyle||t.dashStyle;a?(a.endX=this.preventGraphAnimation?null:e.xMap,a.animate({d:e})):e.length&&(n.graph=a=this.chart.renderer.path(e).addClass("highcharts-graph"+(o?` highcharts-zone-graph-${o-1} `:" ")+(o&&n.className||"")).attr({zIndex:1}).add(this.group)),a&&!i&&(s={stroke:!o&&t.lineColor||n.color||this.color||"#cccccc","stroke-width":t.lineWidth||0,fill:this.fillGraph&&this.color||"none"},c?s.dashstyle=c:"square"!==t.linecap&&(s["stroke-linecap"]=s["stroke-linejoin"]="round"),a[l](s).shadow(t.shadow&&Va({filterUnits:"userSpaceOnUse"},ad(t.shadow)?t.shadow:{}))),a&&(a.startX=e.xMap,a.isArea=e.isArea)})}getGraphPath(t,e,i){let l,n=this,o=n.options,s=[],a=[],c=o.step,g=(t=t||n.points).reversed;return g&&t.reverse(),(c={right:1,center:2}[c]||c&&3)&&g&&(c=4-c),(t=this.getValidPoints(t,!1,o.nullInteraction||!(o.connectNulls&&!e&&!i))).forEach(function(d,p){let m,u=d.plotX,f=d.plotY,x=t[p-1],b=d.isNull||"number"!=typeof f;(d.leftCliff||x?.rightCliff)&&!i&&(l=!0),b&&!sd(e)&&p>0?l=!o.connectNulls:b&&!e?l=!0:(0===p||l?m=[["M",d.plotX,d.plotY]]:n.getPointSpline?m=[n.getPointSpline(t,d,p)]:c?(m=1===c?[["L",x.plotX,f]]:2===c?[["L",(x.plotX+u)/2,x.plotY],["L",(x.plotX+u)/2,f]]:[["L",u,x.plotY]]).push(["L",u,f]):m=[["L",u,f]],a.push(d.x),c&&(a.push(d.x),2===c&&a.push(d.x)),s.push.apply(s,m),l=!1)}),s.xMap=a,n.graphPath=s,s}}qa.defaultOptions=Va(kt.defaultOptions,{legendSymbol:"lineMarker"}),ct.registerSeriesType("line",qa);let{seriesTypes:{line:Qo}}=ct,{extend:rd,merge:ld,objectEach:hd,pick:Tn}=G;class ts extends Qo{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:t,options:e}=this;[this,...this.zones].forEach((i,n)=>{let o={},s=i.fillColor||e.fillColor,a=i.area,l=a?"animate":"attr";a?(a.endX=this.preventGraphAnimation?null:t.xMap,a.animate({d:t})):(o.zIndex=0,(a=i.area=this.chart.renderer.path(t).addClass("highcharts-area"+(n?` highcharts-zone-area-${n-1} `:" ")+(n&&i.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(o.fill=s||i.color||this.color,o["fill-opacity"]=s?1:e.fillOpacity??.75,a.css({pointerEvents:this.stickyTracking?"none":"auto"})),a[l](o),a.startX=t.xMap,a.shiftUnit=e.step?2:1})}getGraphPath(t){let e,i,n,o=Qo.prototype.getGraphPath,s=this.options,a=s.stacking,l=this.yAxis,c=[],g=[],d=this.index,p=l.stacking.stacks[this.stackKey],m=s.threshold,u=Math.round(l.getThreshold(s.threshold)),f=Tn(s.connectNulls,"percent"===a),x=function(P,v,_){let N,B,S=t[P],A=a&&p[S.x].points[d],T=S[_+"Null"]||0,I=S[_+"Cliff"]||0,j=!0;I||T?(N=(T?A[0]:A[1])+I,B=A[0]+I,j=!!T):!a&&t[v]&&t[v].isNull&&(N=B=m),void 0!==N&&(g.push({plotX:e,plotY:null===N?u:l.getThreshold(N),isNull:j,isCliff:!0}),c.push({plotX:e,plotY:null===B?u:l.getThreshold(B),doCurve:!1}))};t=t||this.points,a&&(t=this.getStackPoints(t));for(let P=0,v=t.length;P<v;++P)a||(t[P].leftCliff=t[P].rightCliff=t[P].leftNull=t[P].rightNull=void 0),i=t[P].isNull,e=Tn(t[P].rectPlotX,t[P].plotX),n=a?Tn(t[P].yBottom,u):u,(!i||f)&&(f||x(P,P-1,"left"),i&&!a&&f||(g.push(t[P]),c.push({x:P,plotX:e,plotY:n})),f||x(P,P+1,"right"));let b=o.call(this,g,!0,!0);c.reversed=!0;let M=o.call(this,c,!0,!0),C=M[0];C&&"M"===C[0]&&(M[0]=["L",C[1],C[2]]);let O=b.concat(M);O.length&&O.push(["Z"]);let k=o.call(this,g,!1,f);return this.chart.series.length>1&&a&&g.some(P=>P.isCliff)&&(O.hasStackedCliffs=k.hasStackedCliffs=!0),O.xMap=b.xMap,this.areaPath=O,k}getStackPoints(t){let e=this,i=[],n=[],o=this.xAxis,s=this.yAxis,a=s.stacking.stacks[this.stackKey],l={},c=s.series,g=c.length,d=s.options.reversedStacks?1:-1,p=c.indexOf(e);if(t=t||this.points,this.options.stacking){for(let u=0;u<t.length;u++)t[u].leftNull=t[u].rightNull=void 0,l[t[u].x]=t[u];hd(a,function(u,f){null!==u.total&&n.push(f)}),n.sort(function(u,f){return u-f});let m=c.map(u=>u.visible);n.forEach(function(u,f){let b,M,x=0;if(l[u]&&!l[u].isNull)i.push(l[u]),[-1,1].forEach(function(C){let O=1===C?"rightNull":"leftNull",k=a[n[f+C]],P=0;if(k){let v=p;for(;v>=0&&v<g;){let _=c[v].index;!(b=k.points[_])&&(_===e.index?l[u][O]=!0:m[v]&&(M=a[u].points[_])&&(P-=M[1]-M[0])),v+=d}}l[u][1===C?"rightCliff":"leftCliff"]=P});else{let C=p;for(;C>=0&&C<g;){if(b=a[u].points[c[C].index]){x=b[1];break}C+=d}x=Tn(x,0),x=s.translate(x,0,1,0,1),i.push({isNull:!0,plotX:o.translate(u,0,0,0,1),x:u,plotY:x,yBottom:x})}})}return i}}ts.defaultOptions=ld(Qo.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),rd(ts.prototype,{singleStacks:!1}),ct.registerSeriesType("area",ts);let{line:Za}=ct.seriesTypes,{merge:cd,pick:An}=G;class es extends Za{getPointSpline(t,e,i){let n,o,s,a,l=e.plotX||0,c=e.plotY||0,g=t[i-1],d=t[i+1];function p(u){return u&&!u.isNull&&!1!==u.doCurve&&!e.isCliff}if(p(g)&&p(d)){let f=g.plotY||0,b=d.plotY||0,M=0;n=(1.5*l+(g.plotX||0))/2.5,o=(1.5*c+f)/2.5,s=(1.5*l+(d.plotX||0))/2.5,a=(1.5*c+b)/2.5,s!==n&&(M=(a-o)*(s-l)/(s-n)+c-a),o+=M,a+=M,o>f&&o>c?(o=Math.max(f,c),a=2*c-o):o<f&&o<c&&(o=Math.min(f,c),a=2*c-o),a>b&&a>c?(a=Math.max(b,c),o=2*c-a):a<b&&a<c&&(a=Math.min(b,c),o=2*c-a),e.rightContX=s,e.rightContY=a,e.controlPoints={low:[n,o],high:[s,a]}}let m=["C",An(g.rightContX,g.plotX,0),An(g.rightContY,g.plotY,0),An(n,l,0),An(o,c,0),l,c];return g.rightContX=g.rightContY=void 0,m}}es.defaultOptions=cd(Za.defaultOptions),ct.registerSeriesType("spline",es);let Ka=es,{area:dd,area:{prototype:is}}=ct.seriesTypes,{extend:gd,merge:pd}=G;class ns extends Ka{}ns.defaultOptions=pd(Ka.defaultOptions,dd.defaultOptions),gd(ns.prototype,{getGraphPath:is.getGraphPath,getStackPoints:is.getStackPoints,drawGraph:is.drawGraph}),ct.registerSeriesType("areaspline",ns);let{animObject:md}=Mt,{parse:ud}=Q,{noop:fd}=L,{clamp:En,crisp:Fn,defined:Ja,extend:Qa,fireEvent:tr,isArray:er,isNumber:Ln,merge:os,pick:Ei,objectEach:bd}=G;class Rn extends kt{animate(t){let e,i,n=this,o=this.yAxis,s=o.pos,a=o.reversed,l=n.options,{clipOffset:c,inverted:g}=this.chart,d={},p=g?"translateX":"translateY";t&&c?(d.scaleY=.001,i=En(o.toPixels(l.threshold||0),s,s+o.len),g?d.translateX=(i+=a?-Math.floor(c[0]):Math.ceil(c[2]))-o.len:d.translateY=i+=a?Math.ceil(c[0]):-Math.floor(c[2]),n.clipBox&&n.setClip(),n.group.attr(d)):(e=Number(n.group.attr(p)),n.group.animate({scaleY:1},Qa(md(n.options.animation),{step:function(m,u){n.group&&(d[p]=e+u.pos*(s-e),n.group.attr(d))}})))}init(t,e){super.init.apply(this,arguments);let i=this;(t=i.chart).hasRendered&&t.series.forEach(function(n){n.type===i.type&&(n.isDirty=!0)})}getColumnMetrics(){let l,t=this,e=t.options,i=t.xAxis,n=t.yAxis,o=i.options.reversedStacks,s=i.reversed&&!o||!i.reversed&&o,a={},c=0;!1===e.grouping?c=1:t.chart.series.forEach(function(f){let x,b=f.yAxis,M=f.options;f.type===t.type&&f.reserveSpace()&&n.len===b.len&&n.pos===b.pos&&(M.stacking&&"group"!==M.stacking?(void 0===a[l=f.stackKey]&&(a[l]=c++),x=a[l]):!1!==M.grouping&&(x=c++),f.columnIndex=x)});let g=Math.min(Math.abs(i.transA)*(!i.brokenAxis?.hasBreaks&&i.ordinal?.slope||e.pointRange||i.closestPointRange||i.tickInterval||1),i.len),d=g*e.groupPadding,p=(g-2*d)/(c||1),m=Math.min(e.maxPointWidth||i.len,Ei(e.pointWidth,p*(1-2*e.pointPadding)));return t.columnMetrics={width:m,offset:(p-m)/2+(d+((t.columnIndex||0)+ +!!s)*p-g/2)*(s?-1:1),paddedWidth:p,columnCount:c},t.columnMetrics}crispCol(t,e,i,n){let o=this.borderWidth,s=this.chart.inverted;return n=Fn(e+n,o,s)-(e=Fn(e,o,s)),this.options.crisp&&(i=Fn(t+i,o)-(t=Fn(t,o))),{x:t,y:e,width:i,height:n}}adjustForMissingColumns(t,e,i,n){if(!i.isNull&&n.columnCount>1){let o=this.xAxis.series.filter(c=>c.visible).map(c=>c.index),s=0,a=0;bd(this.xAxis.stacking?.stacks,c=>{let g="number"==typeof i.x?c[i.x.toString()]?.points:void 0,d=g?.[this.index],p={};if(g&&er(d)){let m=this.index,u=Object.keys(g).filter(f=>!f.match(",")&&g[f]&&g[f].length>1).map(parseFloat).filter(f=>-1!==o.indexOf(f)).filter(f=>{let x=this.chart.series[f].options,b=x.stacking&&x.stack;if(Ja(b)){if(Ln(p[b]))return m===f&&(m=p[b]),!1;p[b]=f}return!0}).sort((f,x)=>x-f);s=u.indexOf(m),a=u.length}}),s=this.xAxis.reversed?a-1-s:s,t=(i.plotX||0)+((a-1)*n.paddedWidth+e)/2-e-s*n.paddedWidth}return t}translate(){let t=this,e=t.chart,i=t.options,n=t.dense=t.closestPointRange*t.xAxis.transA<2,o=t.borderWidth=Ei(i.borderWidth,+!n),s=t.xAxis,a=t.yAxis,l=i.threshold,c=Ei(i.minPointLength,5),g=t.getColumnMetrics(),d=g.width,p=t.pointXOffset=g.offset,m=t.dataMin,u=t.dataMax,f=t.translatedThreshold=a.getThreshold(l),x=t.barW=Math.max(d,1+2*o);i.pointPadding&&i.crisp&&(x=Math.ceil(x)),kt.prototype.translate.apply(t),t.points.forEach(function(b){let P,M=Ei(b.yBottom,f),C=999+Math.abs(M),O=b.plotX||0,k=En(b.plotY,-C,a.len+C),v=Math.min(k,M),_=Math.max(k,M)-v,S=d,A=O+p,T=x;c&&Math.abs(_)<c&&(_=c,P=!a.reversed&&!b.negative||a.reversed&&b.negative,Ln(l)&&Ln(u)&&b.y===l&&u<=l&&(a.min||0)<l&&(m!==u||(a.max||0)<=l)&&(P=!P,b.negative=!b.negative),v=Math.abs(v-f)>c?M-c:f-(P?c:0)),Ja(b.options.pointWidth)&&(A-=Math.round(((S=T=Math.ceil(b.options.pointWidth))-d)/2)),i.centerInCategory&&(A=t.adjustForMissingColumns(A,S,b,g)),b.barX=A,b.pointWidth=S,b.tooltipPos=e.inverted?[En(a.len+a.pos-e.plotLeft-k,a.pos-e.plotLeft,a.len+a.pos-e.plotLeft),s.len+s.pos-e.plotTop-A-T/2,_]:[s.left-e.plotLeft+A+T/2,En(k+a.pos-e.plotTop,a.pos-e.plotTop,a.len+a.pos-e.plotTop),_],b.shapeType=t.pointClass.prototype.shapeType||"roundedRect",b.shapeArgs=t.crispCol(A,v,T,b.isNull?0:_)}),tr(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(t,e){let a,l,c,i=this.options,n=this.pointAttrToOptions||{},o=n.stroke||"borderColor",s=n["stroke-width"]||"borderWidth",g=t&&t.color||this.color,d=t&&t[o]||i[o]||g,p=t&&t.options.dashStyle||i.dashStyle,m=t&&t[s]||i[s]||this[s]||0,u=t?.isNull&&i.nullInteraction?0:t?.opacity??i.opacity??1;t&&this.zones.length&&(l=t.getZone(),g=t.options.color||l&&(l.color||t.nonZonedColor)||this.color,l&&(d=l.borderColor||d,p=l.dashStyle||p,m=l.borderWidth||m)),e&&t&&(c=(a=os(i.states[e],t.options.states&&t.options.states[e]||{})).brightness,g=a.color||void 0!==c&&ud(g).brighten(a.brightness).get()||g,d=a[o]||d,m=a[s]||m,p=a.dashStyle||p,u=Ei(a.opacity,u));let f={fill:g,stroke:d,"stroke-width":m,opacity:u};return p&&(f.dashstyle=p),f}drawPoints(t=this.points){let e,i=this,n=this.chart,o=i.options,s=o.nullInteraction,a=n.renderer,l=o.animationLimit||250;t.forEach(function(c){let d=c.graphic,p=!!d,m=d&&n.pointCount<l?"animate":"attr";Ln(c.plotY)&&(null!==c.y||s)?(e=c.shapeArgs,d&&c.hasNewShapeType()&&(d=d.destroy()),i.enabledDataSorting&&(c.startXPos=i.xAxis.reversed?-(e&&e.width||0):i.xAxis.width),!d&&(c.graphic=d=a[c.shapeType](e).add(c.group||i.group),d&&i.enabledDataSorting&&n.hasRendered&&n.pointCount<l&&(d.attr({x:c.startXPos}),p=!0,m="animate")),d&&p&&d[m](os(e)),n.styledMode||d[m](i.pointAttribs(c,c.selected&&"select")).shadow(!1!==c.allowShadow&&o.shadow),d&&(d.addClass(c.getClassName(),!0),d.attr({visibility:c.visible?"inherit":"hidden"}))):d&&(c.graphic=d.destroy())})}drawTracker(t=this.points){let e,i=this,n=i.chart,o=n.pointer,s=function(a){o?.normalize(a);let l=o?.getPointFromEvent(a);o&&l&&i.options.enableMouseTracking&&(n.isInsidePlot(a.chartX-n.plotLeft,a.chartY-n.plotTop,{visiblePlotOnly:!0})||o?.inClass(a.target,"highcharts-data-label"))&&(o.isDirectTouch=!0,l.onMouseOver(a))};t.forEach(function(a){e=er(a.dataLabels)?a.dataLabels:a.dataLabel?[a.dataLabel]:[],a.graphic&&(a.graphic.element.point=a),e.forEach(function(l){(l.div||l.element).point=a})}),i._hasTracking||(i.trackerGroups.forEach(function(a){i[a]&&(i[a].addClass("highcharts-tracker").on("mouseover",s).on("mouseout",function(l){o?.onTrackerMouseOut(l)}).on("touchstart",s),!n.styledMode&&i.options.cursor&&i[a].css({cursor:i.options.cursor}))}),i._hasTracking=!0),tr(this,"afterDrawTracker")}remove(){let t=this,e=t.chart;e.hasRendered&&e.series.forEach(function(i){i.type===t.type&&(i.isDirty=!0)}),kt.prototype.remove.apply(t,arguments)}}Rn.defaultOptions=os(kt.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),Qa(Rn.prototype,{directTouch:!0,getSymbol:fd,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),ct.registerSeriesType("column",Rn);let Dn=Rn,{getDeferredAnimation:xd}=Mt,{format:Md}=At,{defined:je,extend:ir,fireEvent:ss,getAlignFactor:nr,isArray:fe,isString:Fi,merge:Li,objectEach:yd,pick:Ri,pInt:Cd,splat:or}=G;!function(h){function t(){return l(this).some(g=>g?.enabled)}function e(g,d,p,m,u){let{chart:f,enabledDataSorting:x}=this,b=this.isCartesian&&f.inverted,M=g.plotX,C=g.plotY,O=p.rotation||0,k=je(M)&&je(C)&&f.isInsidePlot(M,Math.round(C),{inverted:b,paneCoordinates:!0,series:this}),P=0===O&&"justify"===Ri(p.overflow,x?"none":"justify"),v=this.visible&&!1!==g.visible&&je(M)&&(g.series.forceDL||x&&!P||k||Ri(p.inside,!!this.options.stacking)&&m&&f.isInsidePlot(M,b?m.x+1:m.y+m.height-1,{inverted:b,paneCoordinates:!0,series:this})),_=g.pos();if(v&&_){let A=d.getBBox(),T=d.getBBox(void 0,0);if(m=ir({x:_[0],y:Math.round(_[1]),width:0,height:0},m||{}),"plotEdges"===p.alignTo&&this.isCartesian&&(m[b?"x":"y"]=0,m[b?"width":"height"]=this.yAxis?.len||0),ir(p,{width:A.width,height:A.height}),x&&this.xAxis&&!P&&this.setDataLabelStartPos(g,d,u,k,m),d.align(Li(p,{width:T.width,height:T.height}),!1,m,!1),d.alignAttr.x+=nr(p.align)*(T.width-A.width),d.alignAttr.y+=nr(p.verticalAlign)*(T.height-A.height),d[d.placed?"animate":"attr"]({"text-align":d.alignAttr["text-align"]||"center",x:d.alignAttr.x+(A.width-T.width)/2,y:d.alignAttr.y+(A.height-T.height)/2,rotationOriginX:(d.width||0)/2,rotationOriginY:(d.height||0)/2}),P&&m.height>=0)this.justifyDataLabel(d,p,d.alignAttr,A,m,u);else if(Ri(p.crop,!0)){let{x:I,y:N}=d.alignAttr;v=f.isInsidePlot(I,N,{paneCoordinates:!0,series:this})&&f.isInsidePlot(I+A.width-1,N+A.height-1,{paneCoordinates:!0,series:this})}p.shape&&!O&&d[u?"attr":"animate"]({anchorX:_[0],anchorY:_[1]})}u&&x&&(d.placed=!1),v||x&&!P?(d.show(),d.placed=!0):(d.hide(),d.placed=!1)}function i(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6,this.chart.dataLabelsGroup)}function n(g){let d=this.hasRendered||0,p=this.initDataLabelsGroup().attr({opacity:+d});return!d&&p&&(this.visible&&p.show(),this.options.animation?p.animate({opacity:1},g):p.attr({opacity:1})),p}function o(g){let d;g=g||this.points;let p=this,m=p.chart,u=p.options,f=m.renderer,{backgroundColor:x,plotBackgroundColor:b}=m.options.chart,M=f.getContrast(Fi(b)&&b||Fi(x)&&x||"#000000"),C=l(p),{animation:O,defer:k}=C[0],P=k?xd(m,O,p):{defer:0,duration:0};ss(this,"drawDataLabels"),p.hasDataLabels?.()&&(d=this.initDataLabels(P),g.forEach(v=>{let _=v.dataLabels||[],S=v.color||p.color;or(a(C,v.dlOptions||v.options?.dataLabels)).forEach((T,I)=>{let tt,q,Ot,U,N=T.enabled&&(v.visible||v.dataLabelOnHidden)&&(!v.isNull||v.dataLabelOnNull)&&function(it,nt){let J=nt.filter;if(J){let lt=J.operator,vt=it[J.property],wt=J.value;return">"===lt&&vt>wt||"<"===lt&&vt<wt||">="===lt&&vt>=wt||"<="===lt&&vt<=wt||"=="===lt&&vt==wt||"==="===lt&&vt===wt||"!="===lt&&vt!=wt||"!=="===lt&&vt!==wt||!1}return!0}(v,T),{backgroundColor:B,borderColor:j,distance:D,style:z={}}=T,W={},$=_[I],K=!$;N&&(q=je(tt=Ri(T[v.formatPrefix+"Format"],T.format))?Md(tt,v,m):(T[v.formatPrefix+"Formatter"]||T.formatter).call(v,T),Ot=T.rotation,!m.styledMode&&(z.color=Ri(T.color,z.color,Fi(p.color)?p.color:void 0,"#000000"),"contrast"===z.color?("none"!==B&&(U=B),v.contrastColor=f.getContrast("auto"!==U&&Fi(U)&&U||(Fi(S)?S:"")),z.color=U||!je(D)&&T.inside||0>Cd(D||0)||u.stacking?v.contrastColor:M):delete v.contrastColor,u.cursor&&(z.cursor=u.cursor)),W={r:T.borderRadius||0,rotation:Ot,padding:T.padding,zIndex:1},m.styledMode||(W.fill="auto"===B?v.color:B,W.stroke="auto"===j?v.color:j,W["stroke-width"]=T.borderWidth),yd(W,(it,nt)=>{void 0===it&&delete W[nt]})),!$||N&&je(q)&&!(!$.div&&!$.text?.foreignObject)==!!T.useHTML&&($.rotation&&T.rotation||$.rotation===T.rotation)||($=void 0,K=!0),N&&je(q)&&""!==q&&($?W.text=q:($=f.label(q,0,0,T.shape,void 0,void 0,T.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+v.colorIndex+" "+(T.className||"")+(T.useHTML?" highcharts-tracker":"")),$&&($.options=T,$.attr(W),m.styledMode?z.width&&$.css({width:z.width,textOverflow:z.textOverflow,whiteSpace:z.whiteSpace}):$.css(z).shadow(T.shadow),ss($,"beforeAddingDataLabel",{labelOptions:T,point:v}),$.added||$.add(d),p.alignDataLabel(v,$,T,void 0,K),$.isActive=!0,_[I]&&_[I]!==$&&_[I].destroy(),_[I]=$))});let A=_.length;for(;A--;)_[A]?.isActive?_[A].isActive=!1:(_[A]?.destroy(),_.splice(A,1));v.dataLabel=_[0],v.dataLabels=_})),ss(this,"afterDrawDataLabels")}function s(g,d,p,m,u,f){let A,T,x=this.chart,b=d.align,M=d.verticalAlign,C=g.box?0:g.padding||0,O=x.inverted?this.yAxis:this.xAxis,k=O?O.left-x.plotLeft:0,P=x.inverted?this.xAxis:this.yAxis,v=P?P.top-x.plotTop:0,{x:_=0,y:S=0}=d;return(A=(p.x||0)+C+k)<0&&("right"===b&&_>=0?(d.align="left",d.inside=!0):_-=A,T=!0),(A=(p.x||0)+m.width-C+k)>x.plotWidth&&("left"===b&&_<=0?(d.align="right",d.inside=!0):_+=x.plotWidth-A,T=!0),(A=p.y+C+v)<0&&("bottom"===M&&S>=0?(d.verticalAlign="top",d.inside=!0):S-=A,T=!0),(A=(p.y||0)+m.height-C+v)>x.plotHeight&&("top"===M&&S<=0?(d.verticalAlign="bottom",d.inside=!0):S+=x.plotHeight-A,T=!0),T&&(d.x=_,d.y=S,g.placed=!f,g.align(d,void 0,u)),T}function a(g,d){let m,p=[];if(fe(g)&&!fe(d))p=g.map(function(u){return Li(u,d)});else if(fe(d)&&!fe(g))p=d.map(function(u){return Li(g,u)});else if(fe(g)||fe(d)){if(fe(g)&&fe(d))for(m=Math.max(g.length,d.length);m--;)p[m]=Li(g[m],d[m])}else p=Li(g,d);return p}function l(g){let d=g.chart.options.plotOptions;return or(a(a(d?.series?.dataLabels,d?.[g.type]?.dataLabels),g.options.dataLabels))}function c(g,d,p,m,u){let f=this.chart,x=f.inverted,b=this.xAxis,M=b.reversed,C=((x?d.height:d.width)||0)/2,O=g.pointWidth,k=O?O/2:0;d.startXPos=x?u.x:M?-C-k:b.width-C+k,d.startYPos=x?M?this.yAxis.height-C+k:-C-k:u.y,m?"hidden"===d.visibility&&(d.show(),d.attr({opacity:0}).animate({opacity:1})):d.attr({opacity:1}).animate({opacity:0},void 0,d.hide),f.hasRendered&&(p&&d.attr({x:d.startXPos,y:d.startYPos}),d.placed=!0)}h.compose=function(g){let d=g.prototype;d.initDataLabels||(d.initDataLabels=n,d.initDataLabelsGroup=i,d.alignDataLabel=e,d.drawDataLabels=o,d.justifyDataLabel=s,d.mergeArrays=a,d.setDataLabelStartPos=c,d.hasDataLabels=t)}}(hi||(hi={}));let In=hi,{composed:Od}=L,{series:sr}=ct,{merge:vd,pushUnique:Pd}=G;!function(h){function t(e,i,n,o,s){let{chart:a,options:l}=this,c=a.inverted,g=this.xAxis?.len||a.plotSizeX||0,d=this.yAxis?.len||a.plotSizeY||0,p=e.dlBox||e.shapeArgs,m=e.below??(e.plotY||0)>(this.translatedThreshold??d),u=n.inside??!!l.stacking;if(p){if(o=vd(p),"allow"!==n.overflow||!1!==n.crop||!1!==l.clip){o.y<0&&(o.height+=o.y,o.y=0);let f=o.y+o.height-d;f>0&&f<o.height-1&&(o.height-=f)}c&&(o={x:d-o.y-o.height,y:g-o.x-o.width,width:o.height,height:o.width}),u||(c?(o.x+=m?0:o.width,o.width=0):(o.y+=m?o.height:0,o.height=0))}n.align??(n.align=!c||u?"center":m?"right":"left"),n.verticalAlign??(n.verticalAlign=c||u?"middle":m?"top":"bottom"),sr.prototype.alignDataLabel.call(this,e,i,n,o,s),n.inside&&e.contrastColor&&i.css({color:e.contrastColor})}h.compose=function(e){In.compose(sr),Pd(Od,"ColumnDataLabel")&&(e.prototype.alignDataLabel=t)}}(Jt||(Jt={}));let _d=Jt,{extend:kd,merge:wd}=G;class as extends Dn{}as.defaultOptions=wd(Dn.defaultOptions,{}),kd(as.prototype,{inverted:!0}),ct.registerSeriesType("bar",as);let{column:Sd,line:ar}=ct.seriesTypes,{addEvent:Td,extend:Ad,merge:Ed}=G;class jn extends ar{applyJitter(){let t=this,e=this.options.jitter,i=this.points.length;e&&this.points.forEach(function(n,o){["x","y"].forEach(function(s,a){if(e[s]&&!n.isNull){let l=`plot${s.toUpperCase()}`,c=t[`${s}Axis`],g=e[s]*c.transA;if(c&&!c.logarithmic){let d=Math.max(0,(n[l]||0)-g),p=Math.min(c.len,(n[l]||0)+g);n[l]=d+(p-d)*function(m){let u=1e4*Math.sin(m);return u-Math.floor(u)}(o+a*i),"x"===s&&(n.clientX=n.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}jn.defaultOptions=Ed(ar.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),Ad(jn.prototype,{drawTracker:Sd.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),Td(jn,"afterTranslate",function(){this.applyJitter()}),ct.registerSeriesType("scatter",jn);let{deg2rad:rr}=L,{fireEvent:Fd,isNumber:rs,pick:zn,relativeLength:Ld}=G;!function(h){h.getCenter=function(){let c,p,m,t=this.options,e=this.chart,i=2*(t.slicedOffset||0),n=e.plotWidth-2*i,o=e.plotHeight-2*i,s=t.center,a=Math.min(n,o),l=t.thickness,g=t.size,d=t.innerSize||0;"string"==typeof g&&(g=parseFloat(g)),"string"==typeof d&&(d=parseFloat(d));let u=[zn(s?.[0],"50%"),zn(s?.[1],"50%"),zn(g&&g<0?void 0:t.size,"100%"),zn(d&&d<0?void 0:t.innerSize||0,"0%")];for(!e.angular||this instanceof kt||(u[3]=0),p=0;p<4;++p)m=u[p],c=p<2||2===p&&/%$/.test(m),u[p]=Ld(m,[n,o,a,u[2]][p])+(c?i:0);return u[3]>u[2]&&(u[3]=u[2]),rs(l)&&2*l<u[2]&&l>0&&(u[3]=u[2]-2*l),Fd(this,"afterGetCenter",{positions:u}),u},h.getStartAndEndRadians=function(t,e){let i=rs(t)?t:0,n=rs(e)&&e>i&&e-i<360?e:i+360;return{start:rr*(i+-90),end:rr*(n+-90)}}}(Ii||(Ii={}));let lr=Ii,{setAnimation:Rd}=Mt,{addEvent:hr,defined:Dd,extend:Id,isNumber:jd,pick:zd,relativeLength:Nd}=G;class cr extends ce{getConnectorPath(t){let e=t.dataLabelPosition,i=t.options||{},n=i.connectorShape;return e&&(this.connectorShapes[n]||n).call(this,{...e.computed,alignment:e.alignment},e.connectorPosition,i)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(t){let e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:e.r-1,start:e.start,end:e.end,borderRadius:e.borderRadius})}constructor(t,e,i){super(t,e,i),this.half=0,this.name??(this.name=t.chart.options.lang.pieSliceName);let n=o=>{this.slice("select"===o.type)};hr(this,"select",n),hr(this,"unselect",n)}isValid(){return jd(this.y)&&this.y>=0}setVisible(t,e=!0){t!==this.visible&&this.update({visible:t??!this.visible},e,void 0,!1)}slice(t,e,i){let n=this.series;Rd(i,n.chart),e=zd(e,!0),this.sliced=this.options.sliced=t=Dd(t)?t:!this.sliced,n.options.data[n.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}Id(cr.prototype,{connectorShapes:{fixedOffset:function(h,t,e){let i=t.breakAt,n=t.touchingSliceAt;return[["M",h.x,h.y],e.softConnector?["C",h.x+("left"===h.alignment?-5:5),h.y,2*i.x-n.x,2*i.y-n.y,i.x,i.y]:["L",i.x,i.y],["L",n.x,n.y]]},straight:function(h,t){let e=t.touchingSliceAt;return[["M",h.x,h.y],["L",e.x,e.y]]},crookedLine:function(h,t,e){let{angle:i=this.angle||0,breakAt:n,touchingSliceAt:o}=t,{series:s}=this,[a,l,c]=s.center,g=c/2,{plotLeft:d,plotWidth:p}=s.chart,m="left"===h.alignment,{x:u,y:f}=h,x=n.x;if(e.crookDistance){let M=Nd(e.crookDistance,1);x=m?a+g+(p+d-a-g)*(1-M):d+(a-g)*M}else x=a+(l-f)*Math.tan(i-Math.PI/2);let b=[["M",u,f]];return(m?x<=u&&x>=n.x:x>=u&&x<=n.x)&&b.push(["L",x,f]),b.push(["L",n.x,n.y],["L",o.x,o.y]),b}}});let{getStartAndEndRadians:Bd}=lr,{noop:dr}=L,{clamp:Gd,extend:Hd,fireEvent:gr,merge:ls,pick:$d}=G;class hs extends kt{animate(t){let e=this,n=e.startAngleRad;t||e.points.forEach(function(o){let s=o.graphic,a=o.shapeArgs;s&&a&&(s.attr({r:$d(o.startR,e.center&&e.center[3]/2),start:n,end:n}),s.animate({r:a.r,start:a.start,end:a.end},e.options.animation))})}drawEmpty(){let t,e,i=this.startAngleRad,n=this.endAngleRad,o=this.options;0===this.total&&this.center?(t=this.center[0],e=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(t,e,this.center[1]/2,0,i,n).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Ns.arc(t,e,this.center[2]/2,0,{start:i,end:n,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":o.borderWidth,fill:o.fillColor||"none",stroke:o.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let t=this.chart.renderer;this.points.forEach(function(e){e.graphic&&e.hasNewShapeType()&&(e.graphic=e.graphic.destroy()),e.graphic||(e.graphic=t[e.shapeType](e.shapeArgs).add(e.series.group),e.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(t,e,i,n){let o=this.center,s=this.radii?this.radii[i.index]||0:o[2]/2,a=n.dataLabelPosition,l=a?.distance||0,c=Math.asin(Gd((t-o[1])/(s+l),-1,1));return o[0]+Math.cos(c)*(s+l)*(e?-1:1)+(l>0?(e?-1:1)*(n.padding||0):0)}hasData(){return this.points.some(t=>t.visible)}redrawPoints(){let t,e,i,n,o=this,s=o.chart;this.drawEmpty(),o.group&&!s.styledMode&&o.group.shadow(o.options.shadow),o.points.forEach(function(a){let l={};e=a.graphic,!a.isNull&&e?(n=a.shapeArgs,t=a.getTranslate(),s.styledMode||(i=o.pointAttribs(a,a.selected&&"select")),a.delayedRendering?(e.setRadialReference(o.center).attr(n).attr(t),s.styledMode||e.attr(i).attr({"stroke-linejoin":"round"}),a.delayedRendering=!1):(e.setRadialReference(o.center),s.styledMode||ls(!0,l,i),ls(!0,l,n,t),e.animate(l)),e.attr({visibility:a.visible?"inherit":"hidden"}),e.addClass(a.getClassName(),!0)):e&&(a.graphic=e.destroy())})}sortByAngle(t,e){t.sort(function(i,n){return void 0!==i.angle&&(n.angle-i.angle)*e})}translate(t){gr(this,"translate"),this.generatePoints();let g,d,p,m,u,f,x,e=this.options,i=e.slicedOffset,n=Bd(e.startAngle,e.endAngle),o=this.startAngleRad=n.start,s=(this.endAngleRad=n.end)-o,a=this.points,l=e.ignoreHiddenPoint,c=a.length,b=0;for(t||(this.center=t=this.getCenter()),f=0;f<c;f++){x=a[f],g=o+b*s,x.isValid()&&(!l||x.visible)&&(b+=x.percentage/100),d=o+b*s;let M={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*g)/1e3,end:Math.round(1e3*d)/1e3};x.shapeType="arc",x.shapeArgs=M,(p=(d+g)/2)>1.5*Math.PI?p-=2*Math.PI:p<-Math.PI/2&&(p+=2*Math.PI),x.slicedTranslation={translateX:Math.round(Math.cos(p)*i),translateY:Math.round(Math.sin(p)*i)},m=Math.cos(p)*t[2]/2,u=Math.sin(p)*t[2]/2,x.tooltipPos=[t[0]+.7*m,t[1]+.7*u],x.half=+(p<-Math.PI/2||p>Math.PI/2),x.angle=p}gr(this,"afterTranslate")}updateTotals(){let n,o,t=this.points,e=t.length,i=this.options.ignoreHiddenPoint,s=0;for(n=0;n<e;n++)(o=t[n]).isValid()&&(!i||o.visible)&&(s+=o.y);for(n=0,this.total=s;n<e;n++)(o=t[n]).percentage=s>0&&(o.visible||!i)?o.y/s*100:0,o.total=s}}hs.defaultOptions=ls(kt.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),Hd(hs.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:Dn.prototype.drawTracker,getCenter:lr.getCenter,getSymbol:dr,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:Dn.prototype.pointAttribs,pointClass:cr,requireSorting:!1,searchPoint:dr,trackerGroups:["group","dataLabelsGroup"]}),ct.registerSeriesType("pie",hs);let{composed:Wd,noop:Xd}=L,{distribute:Yd}=Ji,{series:pr}=ct,{arrayMax:Ud,clamp:mr,defined:ur,isNumber:Vd,pick:qd,pushUnique:Zd,relativeLength:fr}=G;!function(h){let t={radialDistributionY:function(s,a){return(a.dataLabelPosition?.top||0)+s.distributeBox.pos},radialDistributionX:function(s,a,l,c,g){let d=g.dataLabelPosition;return s.getX(l<(d?.top||0)+2||l>(d?.bottom||0)-2?c:l,a.half,a,g)},justify:function(s,a,l,c){return c[0]+(s.half?-1:1)*(l+(a.dataLabelPosition?.distance||0))},alignToPlotEdges:function(s,a,l,c){let g=s.getBBox().width;return a?g+c:l-g-c},alignToConnectors:function(s,a,l,c){let d,g=0;return s.forEach(function(p){(d=p.dataLabel.getBBox().width)>g&&(g=d)}),a?g+c:l-g-c}};function e(s,a){let l=Math.PI/2,{start:c=0,end:g=0}=s.shapeArgs||{},d=s.angle||0;a>0&&c<l&&g>l&&d>l/2&&d<1.5*l&&(d=d<=l?Math.max(l/2,(c+l)/2):Math.min(1.5*l,(l+g)/2));let{center:p,options:m}=this,u=p[2]/2,f=Math.cos(d),x=Math.sin(d),b=p[0]+f*u,M=p[1]+x*u,C=Math.min((m.slicedOffset||0)+(m.borderWidth||0),a/5);return{natural:{x:b+f*a,y:M+x*a},computed:{},alignment:a<0?"center":s.half?"right":"left",connectorPosition:{angle:d,breakAt:{x:b+f*C,y:M+x*C},touchingSliceAt:{x:b,y:M}},distance:a}}function i(){let C,O,k,s=this,a=s.points,l=s.chart,c=l.plotWidth,g=l.plotHeight,d=l.plotLeft,p=Math.round(l.chartWidth/3),m=s.center,u=m[2]/2,f=m[1],x=[[],[]],b=[0,0,0,0],M=s.dataLabelPositioners,P=0;s.visible&&s.hasDataLabels?.()&&(a.forEach(v=>{(v.dataLabels||[]).forEach(_=>{_.shortened&&(_.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),_.shortened=!1)})}),pr.prototype.drawDataLabels.apply(s),a.forEach(v=>{(v.dataLabels||[]).forEach((_,S)=>{let A=m[2]/2,T=_.options,I=fr(T?.distance||0,A);0===S&&x[v.half].push(v),!ur(T?.style?.width)&&_.getBBox().width>p&&(_.css({width:Math.round(.7*p)+"px"}),_.shortened=!0),_.dataLabelPosition=this.getDataLabelPosition(v,I),P=Math.max(P,I)})}),x.forEach((v,_)=>{let T,I,B,A=[],N=0;v.length&&(s.sortByAngle(v,_-.5),P>0&&(T=Math.max(0,f-u-P),I=Math.min(f+u+P,l.plotHeight),v.forEach(j=>{(j.dataLabels||[]).forEach(D=>{let z=D.dataLabelPosition;z&&z.distance>0&&(z.top=Math.max(0,f-u-z.distance),z.bottom=Math.min(f+u+z.distance,l.plotHeight),N=D.getBBox().height||21,D.lineHeight=l.renderer.fontMetrics(D.text||D).h+2*D.padding,j.distributeBox={target:(D.dataLabelPosition?.natural.y||0)-z.top+D.lineHeight/2,size:N,rank:j.y},A.push(j.distributeBox))})}),Yd(A,B=I+N-T,B/5)),v.forEach(j=>{(j.dataLabels||[]).forEach(D=>{let z=D.options||{},tt=j.distributeBox,q=D.dataLabelPosition,Ot=q?.natural.y||0,W=z.connectorPadding||0,$=D.lineHeight||21,K=($-D.getBBox().height)/2,U=0,it=Ot,nt="inherit";if(q){if(A&&ur(tt)&&q.distance>0&&(void 0===tt.pos?nt="hidden":(k=tt.size,it=M.radialDistributionY(j,D))),z.justify)U=M.justify(j,D,u,m);else switch(z.alignTo){case"connectors":U=M.alignToConnectors(v,_,c,d);break;case"plotEdges":U=M.alignToPlotEdges(D,_,c,d);break;default:U=M.radialDistributionX(s,j,it-K,Ot,D)}if(q.attribs={visibility:nt,align:q.alignment},q.posAttribs={x:U+(z.x||0)+({left:W,right:-W}[q.alignment]||0),y:it+(z.y||0)-$/2},q.computed.x=U,q.computed.y=it-K,qd(z.crop,!0)){let J;U-(O=D.getBBox().width)<W&&1===_?(J=Math.round(O-U+W),b[3]=Math.max(J,b[3])):U+O>c-W&&0===_&&(J=Math.round(U+O-c+W),b[1]=Math.max(J,b[1])),it-k/2<0?b[0]=Math.max(Math.round(k/2-it),b[0]):it+k/2>g&&(b[2]=Math.max(Math.round(it+k/2-g),b[2])),q.sideOverflow=J}}})}))}),(0===Ud(b)||this.verifyDataLabelOverflow(b))&&(this.placeDataLabels(),this.points.forEach(v=>{(v.dataLabels||[]).forEach(_=>{let{connectorColor:S,connectorWidth:A=1}=_.options||{},T=_.dataLabelPosition;if(Vd(A)){let I;C=_.connector,T&&T.distance>0?(I=!C,C||(_.connector=C=l.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+v.colorIndex+(v.className?" "+v.className:"")).add(s.dataLabelsGroup)),l.styledMode||C.attr({"stroke-width":A,stroke:S||v.color||"#666666"}),C[I?"attr":"animate"]({d:v.getConnectorPath(_)}),C.attr({visibility:T.attribs?.visibility})):C&&(_.connector=C.destroy())}})})))}function n(){this.points.forEach(s=>{(s.dataLabels||[]).forEach(a=>{let l=a.dataLabelPosition;l?(l.sideOverflow&&(a.css({width:Math.max(a.getBBox().width-l.sideOverflow,0)+"px",textOverflow:a.options?.style?.textOverflow||"ellipsis"}),a.shortened=!0),a.attr(l.attribs),a[a.moved?"animate":"attr"](l.posAttribs),a.moved=!0):a&&a.attr({y:-9999})}),delete s.distributeBox},this)}function o(s){let a=this.center,l=this.options,c=l.center,g=l.minSize||80,d=g,p=null!==l.size;return!p&&(null!==c[0]?d=Math.max(a[2]-Math.max(s[1],s[3]),g):(d=Math.max(a[2]-s[1]-s[3],g),a[0]+=(s[3]-s[1])/2),null!==c[1]?d=mr(d,g,a[2]-Math.max(s[0],s[2])):(d=mr(d,g,a[2]-s[0]-s[2]),a[1]+=(s[0]-s[2])/2),d<a[2]?(a[2]=d,a[3]=Math.min(l.thickness?Math.max(0,d-2*l.thickness):Math.max(0,fr(l.innerSize||0,d)),d),this.translate(a),this.drawDataLabels&&this.drawDataLabels()):p=!0),p}h.compose=function(s){if(In.compose(pr),Zd(Wd,"PieDataLabel")){let a=s.prototype;a.dataLabelPositioners=t,a.alignDataLabel=Xd,a.drawDataLabels=i,a.getDataLabelPosition=e,a.placeDataLabels=n,a.verifyDataLabelOverflow=o}}}(ji||(ji={}));let Kd=ji;!function(h){h.getCenterOfPoints=function(t){let e=t.reduce((i,n)=>(i.x+=n.x,i.y+=n.y,i),{x:0,y:0});return{x:e.x/t.length,y:e.y/t.length}},h.getDistanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},h.getAngleBetweenPoints=function(t,e){return Math.atan2(e.x-t.x,e.y-t.y)},h.pointInPolygon=function({x:t,y:e},i){let o,s,n=i.length,a=!1;for(o=0,s=n-1;o<n;s=o++){let[l,c]=i[o],[g,d]=i[s];c>e!=d>e&&t<(g-l)*(e-c)/(d-c)+l&&(a=!a)}return a}}(zi||(zi={}));let{pointInPolygon:Jd}=zi,{addEvent:Qd,getAlignFactor:tg,fireEvent:br,objectEach:xr,pick:eg}=G;function ig(h){let n,o,s,a,l,t=h.length,e=(g,d)=>!(d.x>=g.x+g.width||d.x+d.width<=g.x||d.y>=g.y+g.height||d.y+d.height<=g.y),i=(g,d)=>{for(let p of g)if(Jd({x:p[0],y:p[1]},d))return!0;return!1},c=!1;for(let g=0;g<t;g++)(n=h[g])&&(n.oldOpacity=n.opacity,n.newOpacity=1,n.absoluteBox=function(d){if(d&&(!d.alignAttr||d.placed)){let p=d.box?0:d.padding||0,m=d.alignAttr||{x:d.attr("x"),y:d.attr("y")},{height:u,polygon:f,width:x}=d.getBBox(),b=tg(d.alignValue)*x;return d.width=x,d.height=u,{x:m.x+(d.parentGroup?.translateX||0)+p-b,y:m.y+(d.parentGroup?.translateY||0)+p,width:x-2*p,height:u-2*p,polygon:f}}}(n));h.sort((g,d)=>(d.labelrank||0)-(g.labelrank||0));for(let g=0;g<t;++g){a=(o=h[g])&&o.absoluteBox;let d=a?.polygon;for(let p=g+1;p<t;++p){l=(s=h[p])&&s.absoluteBox;let m=!1;if(a&&l&&o!==s&&0!==o.newOpacity&&0!==s.newOpacity&&"hidden"!==o.visibility&&"hidden"!==s.visibility){let u=l.polygon;if(d&&u&&d!==u?i(d,u)&&(m=!0):e(a,l)&&(m=!0),m){let f=o.labelrank<s.labelrank?o:s,x=f.text;f.newOpacity=0,x?.element.querySelector("textPath")&&x.hide()}}}}for(let g of h)Mr(g,this)&&(c=!0);c&&br(this,"afterHideAllOverlappingLabels")}function Mr(h,t){let e,i=!1;return h&&(e=h.newOpacity,h.oldOpacity!==e&&(h.hasClass("highcharts-data-label")?(h[e?"removeClass":"addClass"]("highcharts-data-label-hidden"),i=!0,h[h.isOld?"animate":"attr"]({opacity:e},void 0,function(){t.styledMode||h.css({pointerEvents:e?"auto":"none"})}),br(t,"afterHideOverlappingLabel")):h.attr({opacity:e})),h.isOld=!0),i}function ng(){let h=this,t=[];for(let e of h.labelCollectors||[])t=t.concat(e());for(let e of h.yAxis||[])e.stacking&&e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&xr(e.stacking.stacks,i=>{xr(i,n=>{n.label&&t.push(n.label)})});for(let e of h.series||[])if(e.visible&&e.hasDataLabels?.()){let i=n=>{for(let o of n)o.visible&&(o.dataLabels||[]).forEach(s=>{let a=s.options||{};s.labelrank=eg(a.labelrank,o.labelrank,o.shapeArgs?.height),a.allowOverlap??Number(a.distance)>0?(s.oldOpacity=s.opacity,s.newOpacity=1,Mr(s,h)):t.push(s)})};i(e.nodes||[]),i(e.points)}this.hideOverlappingLabels(t)}let yr={compose:function(h){let t=h.prototype;t.hideOverlappingLabels||(t.hideOverlappingLabels=ig,Qd(h,"render",ng))}},{defaultOptions:og}=_t,{noop:Cr}=L,{addEvent:Or,extend:sg,isObject:vr,merge:ag,relativeLength:cs}=G,rg={radius:0,scope:"stack",where:void 0},Pr=Cr,_r=Cr;function lg(h,t,e,i,n={}){let o=Pr(h,t,e,i,n),{brStart:s=!0,brEnd:a=!0,innerR:l=0,r:c=e,start:g=0,end:d=0}=n;if(n.open||!n.borderRadius)return o;let p=d-g,m=Math.sin(p/2),u=Math.max(Math.min(cs(n.borderRadius||0,c-l),(c-l)/2,c*m/(1+m)),0),f=Math.min(u,p/Math.PI*2*l),x=o.length-1;for(;x--;)(s||0!==x&&3!==x)&&(a||1!==x&&2!==x)&&function(b,M,C){let O,k,P,v=b[M],_=b[M+1];if("Z"===_[0]&&(_=b[0]),"M"!==v[0]&&"L"!==v[0]||"A"!==_[0]?"A"===v[0]&&("M"===_[0]||"L"===_[0])&&(O=_,k=v):(O=v,k=_,P=!0),O&&k&&k.params){let S=k[1],A=k[5],T=k.params,{start:I,end:N,cx:B,cy:j}=T,D=A?S-C:S+C,z=D?Math.asin(C/D):0,tt=A?z:-z,q=Math.cos(z)*D;P?(T.start=I+tt,O[1]=B+q*Math.cos(I),O[2]=j+q*Math.sin(I),b.splice(M+1,0,["A",C,C,0,0,1,B+S*Math.cos(T.start),j+S*Math.sin(T.start)])):(T.end=N-tt,k[6]=B+S*Math.cos(T.end),k[7]=j+S*Math.sin(T.end),b.splice(M+1,0,["A",C,C,0,0,1,B+q*Math.cos(N),j+q*Math.sin(N)])),k[4]=Math.abs(T.end-T.start)<Math.PI?0:1}}(o,x,x>1?f:u);return o}function hg(){if(this.options.borderRadius&&(!this.chart.is3d||!this.chart.is3d())){let{options:h,yAxis:t}=this,e="percent"===h.stacking,i=og.plotOptions?.[this.type]?.borderRadius,n=ds(h.borderRadius,vr(i)?i:{}),o=t.options.reversed;for(let s of this.points){let{shapeArgs:a}=s;if("roundedRect"===s.shapeType&&a){let{width:l=0,height:c=0,y:g=0}=a,d=g,p=c;if("stack"===n.scope&&s.stackTotal){let x=t.translate(e?100:s.stackTotal,!1,!0,!1,!0),b=t.translate(h.threshold||0,!1,!0,!1,!0),M=this.crispCol(0,Math.min(x,b),0,Math.abs(x-b));d=M.y,p=M.height}let m=(s.negative?-1:1)*(o?-1:1)==-1,u=n.where;!u&&this.is("waterfall")&&Math.abs((s.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(u="all"),u||(u="end");let f=Math.min(cs(n.radius,l),l/2,"all"===u?c/2:1/0)||0;"end"===u&&(m&&(d-=f),p+=f),sg(a,{brBoxHeight:p,brBoxY:d,r:f})}}}}function ds(h,t){return vr(h)||(h={radius:h||0}),ag(rg,t,h)}function cg(){let h=ds(this.options.borderRadius);for(let t of this.points){let e=t.shapeArgs;e&&(e.borderRadius=cs(h.radius,(e.r||0)-(e.innerR||0)))}}function dg(h,t,e,i,n={}){let o=_r(h,t,e,i,n),{r:s=0,brBoxHeight:a=i,brBoxY:l=t}=n,c=t-l,g=l+a-(t+i),d=c-s>-.1?0:s,p=g-s>-.1?0:s,m=Math.max(d&&c,0),u=Math.max(p&&g,0),f=[h+d,t],x=[h+e-d,t],b=[h+e,t+d],M=[h+e,t+i-p],C=[h+e-p,t+i],O=[h+p,t+i],k=[h,t+i-p],P=[h,t+d],v=(_,S)=>Math.sqrt(Math.pow(_,2)-Math.pow(S,2));if(m){let _=v(d,d-m);f[0]-=_,x[0]+=_,b[1]=P[1]=t+d-m}if(i<d-m){let _=v(d,d-m-i);b[0]=M[0]=h+e-d+_,C[0]=Math.min(b[0],C[0]),O[0]=Math.max(M[0],O[0]),k[0]=P[0]=h+d-_,b[1]=P[1]=t+i}if(u){let _=v(p,p-u);C[0]+=_,O[0]-=_,M[1]=k[1]=t+i-p+u}if(i<p-u){let _=v(p,p-u-i);b[0]=M[0]=h+e-p+_,x[0]=Math.min(b[0],x[0]),f[0]=Math.max(M[0],f[0]),k[0]=P[0]=h+p-_,M[1]=k[1]=t}return o.length=0,o.push(["M",...f],["L",...x],["A",d,d,0,0,1,...b],["L",...M],["A",p,p,0,0,1,...C],["L",...O],["A",p,p,0,0,1,...k],["L",...P],["A",d,d,0,0,1,...f],["Z"]),o}let{diffObjects:gg,extend:pg,find:mg,merge:ug,pick:Nn,uniqueKey:fg}=G;!function(h){function t(i,n){let o=i.condition;(o.callback||function(){return this.chartWidth<=Nn(o.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=Nn(o.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=Nn(o.minWidth,0)&&this.chartHeight>=Nn(o.minHeight,0)}).call(this)&&n.push(i._id)}function e(i,n){let l,o=this.options.responsive,s=this.currentResponsive,a=[];!n&&o&&o.rules&&o.rules.forEach(d=>{void 0===d._id&&(d._id=fg()),this.matchResponsiveRule(d,a)},this);let c=ug(...a.map(d=>mg(o?.rules||[],p=>p._id===d)).map(d=>d?.chartOptions));c.isResponsiveOptions=!0,a=a.toString()||void 0;let g=s?.ruleIds;a!==g&&(s&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(s.undoOptions,i,!0),this.updatingResponsive=!1),a?((l=gg(c,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:a,mergedOptions:c,undoOptions:l},this.updatingResponsive||this.update(c,i,!0)):this.currentResponsive=void 0)}h.compose=function(i){let n=i.prototype;return n.matchResponsiveRule||pg(n,{matchResponsiveRule:t,setResponsive:e}),i}}(Ni||(Ni={}));let bg=Ni;L.AST=ot,L.Axis=vo,L.Chart=me,L.Color=Q,L.DataLabel=In,L.DataTableCore=On,L.Fx=ee,L.HTMLElement=Ke,L.Legend=Fa,L.LegendSymbol=xa,L.OverlappingDataLabels=L.OverlappingDataLabels||yr,L.PlotLineOrBand=bn,L.Point=ce,L.Pointer=ua,L.RendererRegistry=xi,L.Series=kt,L.SeriesRegistry=ct,L.StackItem=Xa,L.SVGElement=Wt,L.SVGRenderer=rn,L.Templating=At,L.Tick=Je,L.Time=mi,L.Tooltip=ca,L.animate=Mt.animate,L.animObject=Mt.animObject,L.chart=me.chart,L.color=Q.parse,L.dateFormat=At.dateFormat,L.defaultOptions=_t.defaultOptions,L.distribute=Ji.distribute,L.format=At.format,L.getDeferredAnimation=Mt.getDeferredAnimation,L.getOptions=_t.getOptions,L.numberFormat=At.numberFormat,L.seriesType=ct.seriesType,L.setAnimation=Mt.setAnimation,L.setOptions=_t.setOptions,L.stop=Mt.stop,L.time=_t.defaultTime,L.timers=ee.timers,function(h,t,e){let i=h.types.pie;if(!t.symbolCustomAttribs.includes("borderRadius")){let n=e.prototype.symbols;Or(h,"afterColumnTranslate",hg,{order:9}),Or(i,"afterTranslate",cg),t.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY","brEnd","brStart"),Pr=n.arc,_r=n.roundedRect,n.arc=lg,n.roundedRect=dg}}(L.Series,L.SVGElement,L.SVGRenderer),_d.compose(L.Series.types.column),In.compose(L.Series),sh.compose(L.Axis),Ke.compose(L.SVGRenderer),Fa.compose(L.Chart),lh.compose(L.Axis),yr.compose(L.Chart),Kd.compose(L.Series.types.pie),bn.compose(L.Chart,L.Axis),ua.compose(L.Chart),bg.compose(L.Chart),$a.compose(L.Axis,L.Chart,L.Series),od.compose(L.Axis,L.Chart,L.Series),ca.compose(L.Pointer),G.extend(L,G);let xg=L;return Bi.default})(),(Zt=typeof window>"u"?this:window)._Highcharts=V(),gs.exports=Zt._Highcharts}}]);