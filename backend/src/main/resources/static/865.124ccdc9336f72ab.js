"use strict";(self.webpackChunkshop_management_frontend=self.webpackChunkshop_management_frontend||[]).push([[865],{7865:(ft,M,r)=>{r.r(M),r.d(M,{FinancialManagementModule:()=>gt});var N=r(177),w=r(9417),R=r(9403),s=r(5596),A=r(8834),b=r(9213),l=r(9159),O=r(6695),P=r(2042),T=r(9631),k=r(2102),x=r(2798),$=r(5084),j=r(6600),E=r(6471),B=r(5351),_=r(9183),G=r(6850),U=r(9115),L=r(4823),F=r(1188),h=r(4978),g=r(400),m=r(38),V=r(1413),X=r(605),K=r(6977),t=r(7705),W=r(9640);function J(n,p){1&n&&(t.j41(0,"mat-header-cell"),t.EFF(1,"Transaction ID"),t.k0s())}function Q(n,p){if(1&n&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&n){const e=p.$implicit;t.R7$(1),t.JRh(e.id)}}function Y(n,p){1&n&&(t.j41(0,"mat-header-cell"),t.EFF(1,"Type"),t.k0s())}function H(n,p){if(1&n&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&n){const e=p.$implicit;t.R7$(1),t.JRh(e.type)}}function z(n,p){1&n&&(t.j41(0,"mat-header-cell"),t.EFF(1,"Amount"),t.k0s())}function Z(n,p){if(1&n&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&n){const e=p.$implicit,a=t.XpG();t.R7$(1),t.JRh(a.formatCurrency(e.amount))}}function q(n,p){1&n&&(t.j41(0,"mat-header-cell"),t.EFF(1,"Status"),t.k0s())}function tt(n,p){if(1&n&&(t.j41(0,"mat-cell")(1,"mat-chip",29),t.EFF(2),t.k0s()()),2&n){const e=p.$implicit;t.R7$(1),t.Y8G("color","COMPLETED"===e.status?"primary":"accent"),t.R7$(1),t.SpI(" ",e.status," ")}}function et(n,p){1&n&&t.nrm(0,"mat-header-row")}function at(n,p){1&n&&t.nrm(0,"mat-row")}const I=function(){return["id","type","amount","status"]};let nt=(()=>{class n{constructor(e){this.store=e,this.destroy$=new V.B,this.financialSummary={totalRevenue:258e4,totalCommission:258e3,totalPayouts:219e4,pendingPayouts:132e3,refundsProcessed:25e3,taxCollected:46440,netProfit:18e4,monthlyGrowth:12.5},this.revenueBreakdown={orderRevenue:22e5,deliveryCharges:18e4,convenienceFee:12e4,cancellationFee:8e4},this.commissionRates={foodDelivery:18,groceryDelivery:15,medicineDelivery:12,electronics:8,fashion:15},this.recentTransactions=[{id:"TXN001",type:"ORDER_PAYMENT",amount:1250,shop:"Saravana Bhavan",customer:"Rajesh Kumar",timestamp:new Date,status:"COMPLETED"},{id:"TXN002",type:"COMMISSION",amount:-225,shop:"Murugan Idli Shop",customer:null,timestamp:new Date,status:"PROCESSED"},{id:"TXN003",type:"PAYOUT",amount:-45e3,shop:"Chennai Spice Garden",customer:null,timestamp:new Date,status:"PENDING"}],this.pendingApprovals={payouts:15,refunds:8,adjustments:3,withdrawals:22},this.revenueChartData={labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{data:[18e5,21e5,23e5,22e5,245e4,258e4],label:"Total Revenue",backgroundColor:"rgba(255, 107, 53, 0.2)",borderColor:"#FF6B35",borderWidth:3,fill:!0},{data:[162e3,189e3,207e3,198e3,220500,232200],label:"Commission",backgroundColor:"rgba(255, 215, 0, 0.2)",borderColor:"#FFD700",borderWidth:3,fill:!0}]},this.categoryRevenueData={labels:["Food Delivery","Grocery","Medicine","Electronics","Fashion"],datasets:[{data:[18e5,48e4,18e4,12e4,8e4],backgroundColor:["#FF6B35","#FFD700","#006994","#4CAF50","#C41E3A"]}]},this.payoutTrendData={labels:["Week 1","Week 2","Week 3","Week 4"],datasets:[{data:[52e4,58e4,64e4,69e4],label:"Weekly Payouts",backgroundColor:"#006994"}]},this.profitMarginData={labels:["Q1","Q2","Q3","Q4"],datasets:[{data:[6.8,7.2,7.8,8.1],label:"Profit Margin %",borderColor:"#4CAF50",backgroundColor:"rgba(76, 175, 80, 0.1)",borderWidth:3}]},this.chartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top"}},scales:{y:{beginAtZero:!0,ticks:{callback:function(a){return"\u20b9"+Number(a)/1e3+"K"}}}}}}ngOnInit(){this.loadFinancialData(),this.setupAutoRefresh()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadFinancialData(){}setupAutoRefresh(){(0,X.Y)(3e5).pipe((0,K.Q)(this.destroy$)).subscribe(()=>{this.refreshData()})}refreshData(){this.loadFinancialData()}processApproval(e,a){console.log(`Processing ${e} approval for ${a}`)}exportReport(e){console.log(`Exporting ${e} report`)}viewTransactionDetails(e){console.log(`Viewing transaction ${e}`)}navigateToSection(e){console.log(`Navigating to ${e}`)}formatCurrency(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e)}formatPercentage(e){return`${e.toFixed(1)}%`}static{this.\u0275fac=function(a){return new(a||n)(t.rXU(W.il))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-financial-dashboard"]],decls:93,vars:16,consts:[[1,"financial-dashboard","chennai-dashboard"],[1,"dashboard-header","chennai-header"],[1,"header-actions"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","accent",3,"click"],[1,"summary-grid"],[1,"summary-card","chennai-card"],[1,"metric-icon","revenue"],[1,"metric-info"],[1,"growth","positive"],[1,"metric-icon","commission"],[1,"metric-icon","payouts"],[1,"count"],[1,"metric-icon","profit"],[1,"charts-section"],[1,"chart-card","chennai-card"],["baseChart","","height","300",3,"data","options","type"],["baseChart","","height","300",3,"data","type"],[1,"transactions-card","chennai-card"],["mat-button","",3,"click"],[3,"dataSource"],["matColumnDef","id"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","type"],["matColumnDef","amount"],["matColumnDef","status"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"color"]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"h1"),t.EFF(3,"Financial Management Dashboard"),t.k0s(),t.j41(4,"div",2)(5,"button",3),t.bIt("click",function(){return o.refreshData()}),t.j41(6,"mat-icon"),t.EFF(7,"refresh"),t.k0s(),t.EFF(8," Refresh "),t.k0s(),t.j41(9,"button",4),t.bIt("click",function(){return o.exportReport("summary")}),t.j41(10,"mat-icon"),t.EFF(11,"download"),t.k0s(),t.EFF(12," Export Report "),t.k0s()()(),t.j41(13,"div",5)(14,"mat-card",6)(15,"mat-card-content")(16,"div",7)(17,"mat-icon"),t.EFF(18,"account_balance"),t.k0s()(),t.j41(19,"div",8)(20,"h3"),t.EFF(21),t.k0s(),t.j41(22,"p"),t.EFF(23,"Total Revenue"),t.k0s(),t.j41(24,"span",9),t.EFF(25),t.k0s()()()(),t.j41(26,"mat-card",6)(27,"mat-card-content")(28,"div",10)(29,"mat-icon"),t.EFF(30,"percent"),t.k0s()(),t.j41(31,"div",8)(32,"h3"),t.EFF(33),t.k0s(),t.j41(34,"p"),t.EFF(35,"Total Commission"),t.k0s()()()(),t.j41(36,"mat-card",6)(37,"mat-card-content")(38,"div",11)(39,"mat-icon"),t.EFF(40,"payments"),t.k0s()(),t.j41(41,"div",8)(42,"h3"),t.EFF(43),t.k0s(),t.j41(44,"p"),t.EFF(45,"Pending Payouts"),t.k0s(),t.j41(46,"span",12),t.EFF(47),t.k0s()()()(),t.j41(48,"mat-card",6)(49,"mat-card-content")(50,"div",13)(51,"mat-icon"),t.EFF(52,"trending_up"),t.k0s()(),t.j41(53,"div",8)(54,"h3"),t.EFF(55),t.k0s(),t.j41(56,"p"),t.EFF(57,"Net Profit"),t.k0s()()()()(),t.j41(58,"div",14)(59,"mat-card",15)(60,"mat-card-header")(61,"mat-card-title"),t.EFF(62,"Revenue & Commission Trends"),t.k0s()(),t.j41(63,"mat-card-content"),t.nrm(64,"canvas",16),t.k0s()(),t.j41(65,"mat-card",15)(66,"mat-card-header")(67,"mat-card-title"),t.EFF(68,"Revenue by Category"),t.k0s()(),t.j41(69,"mat-card-content"),t.nrm(70,"canvas",17),t.k0s()()(),t.j41(71,"mat-card",18)(72,"mat-card-header")(73,"mat-card-title"),t.EFF(74,"Recent Transactions"),t.k0s(),t.j41(75,"button",19),t.bIt("click",function(){return o.navigateToSection("transactions")}),t.EFF(76,"View All"),t.k0s()(),t.j41(77,"mat-card-content")(78,"mat-table",20),t.qex(79,21),t.DNE(80,J,2,0,"mat-header-cell",22),t.DNE(81,Q,2,1,"mat-cell",23),t.bVm(),t.qex(82,24),t.DNE(83,Y,2,0,"mat-header-cell",22),t.DNE(84,H,2,1,"mat-cell",23),t.bVm(),t.qex(85,25),t.DNE(86,z,2,0,"mat-header-cell",22),t.DNE(87,Z,2,1,"mat-cell",23),t.bVm(),t.qex(88,26),t.DNE(89,q,2,0,"mat-header-cell",22),t.DNE(90,tt,3,2,"mat-cell",23),t.bVm(),t.DNE(91,et,1,0,"mat-header-row",27),t.DNE(92,at,1,0,"mat-row",28),t.k0s()()()()),2&a&&(t.R7$(21),t.JRh(o.formatCurrency(o.financialSummary.totalRevenue)),t.R7$(4),t.SpI("+",o.formatPercentage(o.financialSummary.monthlyGrowth),""),t.R7$(8),t.JRh(o.formatCurrency(o.financialSummary.totalCommission)),t.R7$(10),t.JRh(o.formatCurrency(o.financialSummary.pendingPayouts)),t.R7$(4),t.SpI("",o.pendingApprovals.payouts," pending"),t.R7$(8),t.JRh(o.formatCurrency(o.financialSummary.netProfit)),t.R7$(9),t.Y8G("data",o.revenueChartData)("options",o.chartOptions)("type","line"),t.R7$(6),t.Y8G("data",o.categoryRevenueData)("type","doughnut"),t.R7$(8),t.Y8G("dataSource",o.recentTransactions),t.R7$(13),t.Y8G("matHeaderRowDef",t.lJ4(14,I)),t.R7$(1),t.Y8G("matRowDefColumns",t.lJ4(15,I)))},dependencies:[R.j9,s.RN,s.m2,s.MM,s.dh,A.$z,b.An,l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB,E.Jl],styles:[".financial-dashboard[_ngcontent-%COMP%]{padding:var(--chennai-spacing-lg)}.financial-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--chennai-spacing-xl);padding:var(--chennai-spacing-lg);border-radius:var(--chennai-radius-lg)}.financial-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#fff;font-size:1.75rem;font-weight:600}.financial-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:var(--chennai-spacing-sm)}.financial-dashboard[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:var(--chennai-spacing-lg);margin-bottom:var(--chennai-spacing-xl)}.financial-dashboard[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{padding:var(--chennai-spacing-lg)}.financial-dashboard[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--chennai-spacing-md)}.financial-dashboard[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:var(--chennai-radius-round);display:flex;align-items:center;justify-content:center}.financial-dashboard[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-icon.revenue[_ngcontent-%COMP%]{background:var(--chennai-sunrise)}.financial-dashboard[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-icon.commission[_ngcontent-%COMP%]{background:var(--chennai-gold);color:var(--chennai-charcoal)}.financial-dashboard[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-icon.payouts[_ngcontent-%COMP%]{background:var(--chennai-marina)}.financial-dashboard[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-icon.profit[_ngcontent-%COMP%]{background:var(--chennai-banana-leaf-green)}.financial-dashboard[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:24px}.financial-dashboard[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-info[_ngcontent-%COMP%]{flex:1}.financial-dashboard[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 var(--chennai-spacing-xs) 0;font-size:1.5rem;font-weight:700;color:var(--chennai-charcoal)}.financial-dashboard[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 var(--chennai-spacing-xs) 0;color:var(--chennai-ash-gray);font-size:.875rem;text-transform:uppercase;letter-spacing:.5px}.financial-dashboard[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-info[_ngcontent-%COMP%]   .growth[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600}.financial-dashboard[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-info[_ngcontent-%COMP%]   .growth.positive[_ngcontent-%COMP%]{color:var(--chennai-banana-leaf-green)}.financial-dashboard[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-info[_ngcontent-%COMP%]   .growth.negative[_ngcontent-%COMP%]{color:var(--chennai-temple-red)}.financial-dashboard[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .metric-info[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-size:.75rem;color:var(--chennai-saffron);font-weight:500}.financial-dashboard[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:var(--chennai-spacing-lg);margin-bottom:var(--chennai-spacing-xl)}.financial-dashboard[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]{height:400px}.financial-dashboard[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{height:300px;display:flex;align-items:center;justify-content:center}.financial-dashboard[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.financial-dashboard[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{width:100%}.financial-dashboard[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%]{font-weight:600;color:var(--chennai-charcoal)}.financial-dashboard[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]{color:var(--chennai-ash-gray)}@media (max-width: 768px){.financial-dashboard[_ngcontent-%COMP%]{padding:var(--chennai-spacing-md)}.financial-dashboard[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%], .financial-dashboard[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]{grid-template-columns:1fr}.financial-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]{flex-direction:column;gap:var(--chennai-spacing-md);text-align:center}}"]})}}return n})();var C=r(2525),v=r(9437),y=r(7673),D=r(1626),S=r(5416);let ot=(()=>{class n{constructor(e,a){this.http=e,this.snackBar=a,this.displayedColumns=["shopName","period","totalOrders","totalRevenue","commissionEarned","netRevenue","averageOrderValue","growthRate","actions"],this.dataSource=new l.I6,this.loading=!1,this.revenueStats={totalRevenue:0,monthlyRevenue:0,totalCommission:0,monthlyCommission:0,totalOrders:0,monthlyOrders:0,averageOrderValue:0,revenueGrowth:0,topPerformingShop:"",topPerformingCategory:""},this.selectedPeriod="monthly",this.periodOptions=[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"yearly",label:"Yearly"}],this.searchTerm="",this.dateRange={start:new Date(Date.now()-2592e6),end:new Date}}ngOnInit(){this.loadRevenueData(),this.loadRevenueStats()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}loadRevenueData(){this.loading=!0,this.http.get(`${C.c.apiUrl}/financial/revenue-analytics`).pipe((0,v.W)(()=>(this.loadMockRevenueData(),(0,y.of)(null)))).subscribe({next:a=>{a&&(this.dataSource.data=a.data),this.loading=!1},error:a=>{console.error("Error loading revenue data:",a),this.loadMockRevenueData(),this.loading=!1}})}loadMockRevenueData(){const e=[{id:1,shopId:1,shopName:"Annamalai Stores",period:"December 2024",totalOrders:145,totalRevenue:87500,commissionEarned:8750,netRevenue:78750,averageOrderValue:603.45,topSellingCategory:"Groceries",growthRate:15.2,createdAt:(new Date).toISOString()},{id:2,shopId:2,shopName:"Saravana Medical",period:"December 2024",totalOrders:89,totalRevenue:45600,commissionEarned:4560,netRevenue:41040,averageOrderValue:512.36,topSellingCategory:"Medicines",growthRate:8.7,createdAt:(new Date).toISOString()},{id:3,shopId:3,shopName:"Tamil Books Corner",period:"December 2024",totalOrders:67,totalRevenue:23400,commissionEarned:2340,netRevenue:21060,averageOrderValue:349.25,topSellingCategory:"Books",growthRate:12.3,createdAt:(new Date).toISOString()},{id:4,shopId:7,shopName:"Textile Paradise",period:"December 2024",totalOrders:112,totalRevenue:156800,commissionEarned:15680,netRevenue:141120,averageOrderValue:1400,topSellingCategory:"Clothing",growthRate:22.1,createdAt:(new Date).toISOString()},{id:5,shopId:8,shopName:"Sports Zone",period:"December 2024",totalOrders:78,totalRevenue:98400,commissionEarned:9840,netRevenue:88560,averageOrderValue:1261.54,topSellingCategory:"Sports Equipment",growthRate:18.9,createdAt:(new Date).toISOString()},{id:6,shopId:6,shopName:"Flower Garden Store",period:"December 2024",totalOrders:156,totalRevenue:34200,commissionEarned:3420,netRevenue:30780,averageOrderValue:219.23,topSellingCategory:"Flowers & Gifts",growthRate:25.6,createdAt:(new Date).toISOString()}];this.dataSource.data=e,this.snackBar.open("Loaded mock revenue data - API not available","Close",{duration:3e3})}loadRevenueStats(){this.http.get(`${C.c.apiUrl}/financial/revenue-stats`).pipe((0,v.W)(()=>(this.loadMockRevenueStats(),(0,y.of)(null)))).subscribe({next:a=>{a&&(this.revenueStats=a.data)},error:a=>{console.error("Error loading revenue stats:",a),this.loadMockRevenueStats()}})}loadMockRevenueStats(){this.revenueStats={totalRevenue:445900,monthlyRevenue:445900,totalCommission:44590,monthlyCommission:44590,totalOrders:647,monthlyOrders:647,averageOrderValue:689.21,revenueGrowth:17.2,topPerformingShop:"Textile Paradise",topPerformingCategory:"Clothing"}}applyFilter(){const e=this.searchTerm.trim().toLowerCase();this.dataSource.filter=e}onPeriodChange(){this.loadRevenueData(),this.loadRevenueStats()}onDateRangeChange(){this.loadRevenueData(),this.loadRevenueStats()}exportData(){const e=this.dataSource.data.map(c=>({"Shop Name":c.shopName,Period:c.period,"Total Orders":c.totalOrders,"Total Revenue":c.totalRevenue,"Commission Earned":c.commissionEarned,"Net Revenue":c.netRevenue,"Average Order Value":c.averageOrderValue,"Growth Rate":c.growthRate+"%"})),a=this.convertToCSV(e),o=new Blob([a],{type:"text/csv"}),i=window.URL.createObjectURL(o),d=document.createElement("a");d.href=i,d.download=`revenue-analytics-${(new Date).toISOString().split("T")[0]}.csv`,d.click(),window.URL.revokeObjectURL(i),this.snackBar.open("Revenue data exported successfully","Close",{duration:3e3})}convertToCSV(e){if(0===e.length)return"";const a=Object.keys(e[0]);return[a.join(","),...e.map(d=>a.map(c=>{const f=d[c];return"string"==typeof f&&f.includes(",")?`"${f}"`:f}).join(","))].join("\n")}viewShopDetails(e){this.snackBar.open(`Viewing details for ${e.shopName}`,"Close",{duration:2e3})}formatCurrency(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e)}formatPercentage(e){return`${e.toFixed(1)}%`}static{this.\u0275fac=function(a){return new(a||n)(t.rXU(D.Qq),t.rXU(S.UG))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-revenue-analytics"]],viewQuery:function(a,o){if(1&a&&(t.GBs(O.iy,5),t.GBs(P.B4,5)),2&a){let i;t.mGM(i=t.lsd())&&(o.paginator=i.first),t.mGM(i=t.lsd())&&(o.sort=i.first)}},decls:8,vars:0,consts:[[1,"revenue-analytics","chennai-dashboard"],[1,"chennai-card"]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),t.EFF(4,"RevenueAnalytics Dashboard"),t.k0s()(),t.j41(5,"mat-card-content")(6,"p"),t.EFF(7,"This is the revenue-analytics component."),t.k0s()()()())},dependencies:[s.RN,s.m2,s.MM,s.dh],styles:[".revenue-analytics[_ngcontent-%COMP%]{padding:var(--chennai-spacing-lg)}.revenue-analytics[_ngcontent-%COMP%]   .chennai-card[_ngcontent-%COMP%]{margin-bottom:var(--chennai-spacing-lg)}"]})}}return n})();var it=r(8032),u=r.n(it);const pt=[{path:"",component:nt,canActivate:[h.q,g.K],data:{roles:[m.g.SUPER_ADMIN,m.g.ADMIN]}},{path:"revenue",component:ot,canActivate:[h.q,g.K],data:{roles:[m.g.SUPER_ADMIN,m.g.ADMIN]}},{path:"commission",component:(()=>{class n{constructor(e,a){this.http=e,this.snackBar=a,this.displayedColumns=["shopName","shopOwnerName","category","commissionType","commissionRate","minimumOrder","maximumCommission","status","effectiveDate","actions"],this.dataSource=new l.I6,this.loading=!1,this.searchTerm="",this.statusFilter="",this.typeFilter="",this.statusOptions=[{value:"",label:"All Status"},{value:"true",label:"Active"},{value:"false",label:"Inactive"}],this.typeOptions=[{value:"",label:"All Types"},{value:"PERCENTAGE",label:"Percentage"},{value:"FIXED",label:"Fixed Amount"}]}ngOnInit(){this.loadCommissionData()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}loadCommissionData(){this.loading=!0,this.http.get(`${C.c.apiUrl}/financial/commissions`).pipe((0,v.W)(()=>(this.loadMockCommissionData(),(0,y.of)(null)))).subscribe({next:a=>{a&&(this.dataSource.data=a.data),this.loading=!1},error:a=>{console.error("Error loading commission data:",a),this.loadMockCommissionData(),this.loading=!1}})}loadMockCommissionData(){const e=[{id:1,shopId:1,shopName:"Annamalai Stores",shopOwnerName:"Annamalai Raman",commissionType:"PERCENTAGE",commissionRate:10,commissionAmount:0,minimumOrder:100,maximumCommission:500,category:"Grocery",isActive:!0,effectiveDate:new Date(Date.now()-2592e6).toISOString(),createdAt:new Date(Date.now()-3888e6).toISOString(),updatedAt:new Date(Date.now()-2592e6).toISOString()},{id:2,shopId:2,shopName:"Saravana Medical",shopOwnerName:"Dr. Saravanan",commissionType:"PERCENTAGE",commissionRate:8,commissionAmount:0,minimumOrder:200,maximumCommission:300,category:"Pharmacy",isActive:!0,effectiveDate:new Date(Date.now()-1728e6).toISOString(),createdAt:new Date(Date.now()-3024e6).toISOString(),updatedAt:new Date(Date.now()-1728e6).toISOString()},{id:3,shopId:5,shopName:"Digital Electronics Hub",shopOwnerName:"Suresh Kumar",commissionType:"FIXED",commissionRate:0,commissionAmount:50,minimumOrder:1e3,category:"Electronics",isActive:!1,effectiveDate:new Date(Date.now()-5184e6).toISOString(),createdAt:new Date(Date.now()-648e7).toISOString(),updatedAt:new Date(Date.now()-864e6).toISOString()},{id:4,shopId:7,shopName:"Textile Paradise",shopOwnerName:"Ravi Shankar",commissionType:"PERCENTAGE",commissionRate:12,commissionAmount:0,minimumOrder:500,maximumCommission:800,category:"Clothing",isActive:!0,effectiveDate:new Date(Date.now()-1296e6).toISOString(),createdAt:new Date(Date.now()-216e7).toISOString(),updatedAt:new Date(Date.now()-1296e6).toISOString()},{id:5,shopId:8,shopName:"Sports Zone",shopOwnerName:"Vijay Kumar",commissionType:"PERCENTAGE",commissionRate:9.5,commissionAmount:0,minimumOrder:300,maximumCommission:600,category:"Sports",isActive:!0,effectiveDate:new Date(Date.now()-216e7).toISOString(),createdAt:new Date(Date.now()-3456e6).toISOString(),updatedAt:new Date(Date.now()-216e7).toISOString()},{id:6,shopId:6,shopName:"Flower Garden Store",shopOwnerName:"Lakshmi Devi",commissionType:"PERCENTAGE",commissionRate:15,commissionAmount:0,minimumOrder:50,maximumCommission:200,category:"Flowers & Gifts",isActive:!0,effectiveDate:new Date(Date.now()-432e6).toISOString(),createdAt:new Date(Date.now()-864e6).toISOString(),updatedAt:new Date(Date.now()-432e6).toISOString()}];this.dataSource.data=e,this.snackBar.open("Loaded mock commission data - API not available","Close",{duration:3e3})}applyFilter(){let e=this.dataSource.data;this.searchTerm&&(e=e.filter(a=>a.shopName.toLowerCase().includes(this.searchTerm.toLowerCase())||a.shopOwnerName.toLowerCase().includes(this.searchTerm.toLowerCase())||a.category.toLowerCase().includes(this.searchTerm.toLowerCase()))),this.statusFilter&&(e=e.filter(a=>a.isActive.toString()===this.statusFilter)),this.typeFilter&&(e=e.filter(a=>a.commissionType===this.typeFilter)),this.dataSource.data=e}editCommission(e){u().fire({title:"Edit Commission",html:`\n        <div style="text-align: left;">\n          <label>Commission Type:</label>\n          <select id="commissionType" class="swal2-input">\n            <option value="PERCENTAGE" ${"PERCENTAGE"===e.commissionType?"selected":""}>Percentage</option>\n            <option value="FIXED" ${"FIXED"===e.commissionType?"selected":""}>Fixed Amount</option>\n          </select>\n          <input id="commissionRate" class="swal2-input" placeholder="Commission Rate/Amount" value="${"PERCENTAGE"===e.commissionType?e.commissionRate:e.commissionAmount}">\n          <input id="minimumOrder" class="swal2-input" placeholder="Minimum Order" value="${e.minimumOrder}">\n          <input id="maximumCommission" class="swal2-input" placeholder="Maximum Commission (optional)" value="${e.maximumCommission||""}">\n        </div>\n      `,showCancelButton:!0,confirmButtonText:"Update",cancelButtonText:"Cancel",preConfirm:()=>{const a=document.getElementById("commissionType").value,o=document.getElementById("commissionRate").value,i=document.getElementById("minimumOrder").value,d=document.getElementById("maximumCommission").value;return o&&i?{type:a,rate:parseFloat(o),minOrder:parseFloat(i),maxCommission:d?parseFloat(d):void 0}:(u().showValidationMessage("Please fill all required fields"),!1)}}).then(a=>{if(a.isConfirmed){const o=this.dataSource.data.findIndex(i=>i.id===e.id);if(-1!==o){const i={...this.dataSource.data[o]};i.commissionType=a.value.type,"PERCENTAGE"===a.value.type?(i.commissionRate=a.value.rate,i.commissionAmount=0):(i.commissionAmount=a.value.rate,i.commissionRate=0),i.minimumOrder=a.value.minOrder,i.maximumCommission=a.value.maxCommission,i.updatedAt=(new Date).toISOString(),this.dataSource.data[o]=i,this.dataSource._updateChangeSubscription()}u().fire("Success!","Commission updated successfully","success")}})}toggleStatus(e){const a=e.isActive?"deactivate":"activate";u().fire({title:`${a.charAt(0).toUpperCase()+a.slice(1)} Commission`,text:`Are you sure you want to ${a} commission for ${e.shopName}?`,icon:"question",showCancelButton:!0,confirmButtonText:`Yes, ${a}`,cancelButtonText:"Cancel"}).then(o=>{if(o.isConfirmed){const i=this.dataSource.data.findIndex(d=>d.id===e.id);-1!==i&&(this.dataSource.data[i].isActive=!e.isActive,this.dataSource.data[i].updatedAt=(new Date).toISOString(),this.dataSource._updateChangeSubscription()),u().fire("Success!",`Commission ${a}d successfully`,"success")}})}viewCommissionDetails(e){const a="PERCENTAGE"===e.commissionType?`${e.commissionRate}%`:`\u20b9${e.commissionAmount}`;u().fire({title:`Commission Details - ${e.shopName}`,html:`\n        <div style="text-align: left; padding: 20px;">\n          <p><strong>Shop Owner:</strong> ${e.shopOwnerName}</p>\n          <p><strong>Category:</strong> ${e.category}</p>\n          <p><strong>Commission Type:</strong> ${e.commissionType}</p>\n          <p><strong>Commission:</strong> ${a}</p>\n          <p><strong>Minimum Order:</strong> \u20b9${e.minimumOrder.toLocaleString()}</p>\n          ${e.maximumCommission?`<p><strong>Maximum Commission:</strong> \u20b9${e.maximumCommission.toLocaleString()}</p>`:""}\n          <p><strong>Status:</strong> <span style="color: ${e.isActive?"green":"red"}">${e.isActive?"Active":"Inactive"}</span></p>\n          <p><strong>Effective Date:</strong> ${new Date(e.effectiveDate).toLocaleDateString()}</p>\n          <p><strong>Last Updated:</strong> ${new Date(e.updatedAt).toLocaleDateString()}</p>\n        </div>\n      `,width:600,confirmButtonText:"Close"})}getStatusClass(e){return e?"status-active":"status-inactive"}getTypeLabel(e){return"PERCENTAGE"===e?"Percentage":"Fixed Amount"}formatCommission(e){return"PERCENTAGE"===e.commissionType?`${e.commissionRate}%`:`\u20b9${e.commissionAmount}`}formatCurrency(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e)}formatDate(e){return new Date(e).toLocaleDateString()}static{this.\u0275fac=function(a){return new(a||n)(t.rXU(D.Qq),t.rXU(S.UG))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-commission-management"]],viewQuery:function(a,o){if(1&a&&(t.GBs(O.iy,5),t.GBs(P.B4,5)),2&a){let i;t.mGM(i=t.lsd())&&(o.paginator=i.first),t.mGM(i=t.lsd())&&(o.sort=i.first)}},decls:8,vars:0,consts:[[1,"commission-management","chennai-dashboard"],[1,"chennai-card"]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),t.EFF(4,"CommissionManagement Dashboard"),t.k0s()(),t.j41(5,"mat-card-content")(6,"p"),t.EFF(7,"This is the commission-management component."),t.k0s()()()())},dependencies:[s.RN,s.m2,s.MM,s.dh],styles:[".commission-management[_ngcontent-%COMP%]{padding:var(--chennai-spacing-lg)}.commission-management[_ngcontent-%COMP%]   .chennai-card[_ngcontent-%COMP%]{margin-bottom:var(--chennai-spacing-lg)}"]})}}return n})(),canActivate:[h.q,g.K],data:{roles:[m.g.SUPER_ADMIN]}},{path:"payouts",component:(()=>{class n{constructor(e,a){this.http=e,this.snackBar=a,this.displayedColumns=["shopName","shopOwnerName","payoutPeriod","totalRevenue","platformCommission","payoutAmount","status","payoutDate","actions"],this.dataSource=new l.I6,this.loading=!1,this.payoutStats={totalPayouts:0,pendingPayouts:0,completedPayouts:0,totalPayoutAmount:0,pendingAmount:0,completedAmount:0,averagePayoutAmount:0},this.statusFilter="",this.searchTerm="",this.statusOptions=[{value:"",label:"All Status"},{value:"PENDING",label:"Pending"},{value:"APPROVED",label:"Approved"},{value:"PAID",label:"Paid"},{value:"REJECTED",label:"Rejected"}]}ngOnInit(){this.loadPayoutData(),this.loadPayoutStats()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}loadPayoutData(){this.loading=!0,this.http.get(`${C.c.apiUrl}/financial/payouts`).pipe((0,v.W)(()=>(this.loadMockPayoutData(),(0,y.of)(null)))).subscribe({next:a=>{a&&(this.dataSource.data=a.data),this.loading=!1},error:a=>{console.error("Error loading payout data:",a),this.loadMockPayoutData(),this.loading=!1}})}loadMockPayoutData(){const e=[{id:1,shopId:1,shopName:"Annamalai Stores",shopOwnerName:"Annamalai Raman",shopOwnerEmail:"annamalai@stores.com",payoutPeriod:"November 2024",totalRevenue:87500,platformCommission:8750,payoutAmount:78750,status:"PAID",payoutDate:new Date(Date.now()-432e6).toISOString(),bankAccount:"****1234",ifscCode:"SBIN0001234",transactionId:"TXN87654321",notes:"Payout completed successfully",createdAt:new Date(Date.now()-864e6).toISOString(),updatedAt:new Date(Date.now()-432e6).toISOString()},{id:2,shopId:2,shopName:"Saravana Medical",shopOwnerName:"Dr. Saravanan",shopOwnerEmail:"saravana@medical.com",payoutPeriod:"November 2024",totalRevenue:45600,platformCommission:4560,payoutAmount:41040,status:"APPROVED",bankAccount:"****5678",ifscCode:"ICIC0005678",notes:"Ready for payout processing",createdAt:new Date(Date.now()-6912e5).toISOString(),updatedAt:new Date(Date.now()-1728e5).toISOString()},{id:3,shopId:3,shopName:"Tamil Books Corner",shopOwnerName:"Muthu Kumar",shopOwnerEmail:"muthu@tamilbooks.com",payoutPeriod:"November 2024",totalRevenue:23400,platformCommission:2340,payoutAmount:21060,status:"PENDING",bankAccount:"****9012",ifscCode:"HDFC0009012",notes:"Under review",createdAt:new Date(Date.now()-5184e5).toISOString(),updatedAt:new Date(Date.now()-5184e5).toISOString()},{id:4,shopId:7,shopName:"Textile Paradise",shopOwnerName:"Ravi Shankar",shopOwnerEmail:"ravi@textile.com",payoutPeriod:"November 2024",totalRevenue:156800,platformCommission:15680,payoutAmount:141120,status:"PAID",payoutDate:new Date(Date.now()-2592e5).toISOString(),bankAccount:"****3456",ifscCode:"AXIS0003456",transactionId:"TXN12345678",notes:"Large payout completed",createdAt:new Date(Date.now()-10368e5).toISOString(),updatedAt:new Date(Date.now()-2592e5).toISOString()},{id:5,shopId:8,shopName:"Sports Zone",shopOwnerName:"Vijay Kumar",shopOwnerEmail:"vijay@sportszone.com",payoutPeriod:"November 2024",totalRevenue:98400,platformCommission:9840,payoutAmount:88560,status:"APPROVED",bankAccount:"****7890",ifscCode:"KOTAK0007890",notes:"Approved for payment",createdAt:new Date(Date.now()-6048e5).toISOString(),updatedAt:new Date(Date.now()-864e5).toISOString()},{id:6,shopId:6,shopName:"Flower Garden Store",shopOwnerName:"Lakshmi Devi",shopOwnerEmail:"lakshmi@flowers.com",payoutPeriod:"November 2024",totalRevenue:34200,platformCommission:3420,payoutAmount:30780,status:"REJECTED",bankAccount:"****2468",ifscCode:"PNB0002468",notes:"Bank account verification failed",createdAt:new Date(Date.now()-432e6).toISOString(),updatedAt:new Date(Date.now()-864e5).toISOString()},{id:7,shopId:1,shopName:"Annamalai Stores",shopOwnerName:"Annamalai Raman",shopOwnerEmail:"annamalai@stores.com",payoutPeriod:"December 2024",totalRevenue:95200,platformCommission:9520,payoutAmount:85680,status:"PENDING",bankAccount:"****1234",ifscCode:"SBIN0001234",notes:"Current month payout pending",createdAt:new Date(Date.now()-864e5).toISOString(),updatedAt:new Date(Date.now()-864e5).toISOString()}];this.dataSource.data=e,this.snackBar.open("Loaded mock payout data - API not available","Close",{duration:3e3})}loadPayoutStats(){this.http.get(`${C.c.apiUrl}/financial/payout-stats`).pipe((0,v.W)(()=>(this.loadMockPayoutStats(),(0,y.of)(null)))).subscribe({next:a=>{a&&(this.payoutStats=a.data)},error:a=>{console.error("Error loading payout stats:",a),this.loadMockPayoutStats()}})}loadMockPayoutStats(){this.payoutStats={totalPayouts:7,pendingPayouts:2,completedPayouts:2,totalPayoutAmount:446970,pendingAmount:106740,completedAmount:219870,averagePayoutAmount:63852.86}}applyFilter(){let e=this.dataSource.data;this.searchTerm&&(e=this.dataSource.data.filter(a=>a.shopName.toLowerCase().includes(this.searchTerm.toLowerCase())||a.shopOwnerName.toLowerCase().includes(this.searchTerm.toLowerCase())||a.shopOwnerEmail.toLowerCase().includes(this.searchTerm.toLowerCase()))),this.statusFilter&&(e=e.filter(a=>a.status===this.statusFilter)),this.dataSource.data=e}approvePayout(e){u().fire({title:"Approve Payout",text:`Are you sure you want to approve payout of \u20b9${e.payoutAmount.toLocaleString()} to ${e.shopName}?`,icon:"question",showCancelButton:!0,confirmButtonText:"Approve",cancelButtonText:"Cancel",confirmButtonColor:"#4caf50"}).then(a=>{if(a.isConfirmed){const o=this.dataSource.data.findIndex(i=>i.id===e.id);-1!==o&&(this.dataSource.data[o].status="APPROVED",this.dataSource.data[o].updatedAt=(new Date).toISOString(),this.dataSource._updateChangeSubscription()),u().fire("Approved!","Payout has been approved successfully.","success"),this.loadPayoutStats()}})}rejectPayout(e){u().fire({title:"Reject Payout",text:`Please provide a reason for rejecting the payout to ${e.shopName}:`,input:"textarea",inputPlaceholder:"Rejection reason...",inputValidator:a=>a?null:"You need to provide a reason for rejection!",icon:"warning",showCancelButton:!0,confirmButtonText:"Reject",cancelButtonText:"Cancel",confirmButtonColor:"#f44336"}).then(a=>{if(a.isConfirmed){const o=this.dataSource.data.findIndex(i=>i.id===e.id);-1!==o&&(this.dataSource.data[o].status="REJECTED",this.dataSource.data[o].notes=a.value,this.dataSource.data[o].updatedAt=(new Date).toISOString(),this.dataSource._updateChangeSubscription()),u().fire("Rejected!","Payout has been rejected.","success"),this.loadPayoutStats()}})}processPayout(e){"APPROVED"===e.status?u().fire({title:"Process Payout",text:`Confirm payment of \u20b9${e.payoutAmount.toLocaleString()} to ${e.shopName}?`,input:"text",inputPlaceholder:"Enter transaction ID",inputValidator:a=>a?null:"Transaction ID is required!",icon:"info",showCancelButton:!0,confirmButtonText:"Process Payment",cancelButtonText:"Cancel"}).then(a=>{if(a.isConfirmed){const o=this.dataSource.data.findIndex(i=>i.id===e.id);-1!==o&&(this.dataSource.data[o].status="PAID",this.dataSource.data[o].payoutDate=(new Date).toISOString(),this.dataSource.data[o].transactionId=a.value,this.dataSource.data[o].updatedAt=(new Date).toISOString(),this.dataSource._updateChangeSubscription()),u().fire("Success!","Payout has been processed successfully.","success"),this.loadPayoutStats()}}):this.snackBar.open("Payout must be approved before processing","Close",{duration:3e3})}viewPayoutDetails(e){u().fire({title:`Payout Details - ${e.shopName}`,html:`\n        <div style="text-align: left; padding: 20px;">\n          <p><strong>Shop Owner:</strong> ${e.shopOwnerName}</p>\n          <p><strong>Email:</strong> ${e.shopOwnerEmail}</p>\n          <p><strong>Period:</strong> ${e.payoutPeriod}</p>\n          <p><strong>Total Revenue:</strong> \u20b9${e.totalRevenue.toLocaleString()}</p>\n          <p><strong>Platform Commission:</strong> \u20b9${e.platformCommission.toLocaleString()}</p>\n          <p><strong>Payout Amount:</strong> \u20b9${e.payoutAmount.toLocaleString()}</p>\n          <p><strong>Bank Account:</strong> ${e.bankAccount}</p>\n          <p><strong>IFSC Code:</strong> ${e.ifscCode}</p>\n          <p><strong>Status:</strong> <span class="status-${e.status.toLowerCase()}">${e.status}</span></p>\n          ${e.transactionId?`<p><strong>Transaction ID:</strong> ${e.transactionId}</p>`:""}\n          ${e.payoutDate?`<p><strong>Payout Date:</strong> ${new Date(e.payoutDate).toLocaleDateString()}</p>`:""}\n          ${e.notes?`<p><strong>Notes:</strong> ${e.notes}</p>`:""}\n        </div>\n      `,width:600,confirmButtonText:"Close"})}exportPayouts(){const e=this.dataSource.data.map(c=>({"Shop Name":c.shopName,"Shop Owner":c.shopOwnerName,Email:c.shopOwnerEmail,Period:c.payoutPeriod,"Total Revenue":c.totalRevenue,Commission:c.platformCommission,"Payout Amount":c.payoutAmount,Status:c.status,"Bank Account":c.bankAccount,"IFSC Code":c.ifscCode,"Transaction ID":c.transactionId||"","Payout Date":c.payoutDate?new Date(c.payoutDate).toLocaleDateString():"",Notes:c.notes||""})),a=this.convertToCSV(e),o=new Blob([a],{type:"text/csv"}),i=window.URL.createObjectURL(o),d=document.createElement("a");d.href=i,d.download=`payouts-${(new Date).toISOString().split("T")[0]}.csv`,d.click(),window.URL.revokeObjectURL(i),this.snackBar.open("Payout data exported successfully","Close",{duration:3e3})}convertToCSV(e){if(0===e.length)return"";const a=Object.keys(e[0]);return[a.join(","),...e.map(d=>a.map(c=>{const f=d[c];return"string"==typeof f&&f.includes(",")?`"${f}"`:f}).join(","))].join("\n")}getStatusClass(e){switch(e){case"PENDING":return"status-pending";case"APPROVED":return"status-approved";case"PAID":return"status-paid";case"REJECTED":return"status-rejected";default:return""}}getStatusLabel(e){return e.charAt(0)+e.slice(1).toLowerCase()}formatCurrency(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e)}formatDate(e){return e?new Date(e).toLocaleDateString():"-"}static{this.\u0275fac=function(a){return new(a||n)(t.rXU(D.Qq),t.rXU(S.UG))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-payout-management"]],viewQuery:function(a,o){if(1&a&&(t.GBs(O.iy,5),t.GBs(P.B4,5)),2&a){let i;t.mGM(i=t.lsd())&&(o.paginator=i.first),t.mGM(i=t.lsd())&&(o.sort=i.first)}},decls:8,vars:0,consts:[[1,"payout-management","chennai-dashboard"],[1,"chennai-card"]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),t.EFF(4,"PayoutManagement Dashboard"),t.k0s()(),t.j41(5,"mat-card-content")(6,"p"),t.EFF(7,"This is the payout-management component."),t.k0s()()()())},dependencies:[s.RN,s.m2,s.MM,s.dh],styles:[".payout-management[_ngcontent-%COMP%]{padding:var(--chennai-spacing-lg)}.payout-management[_ngcontent-%COMP%]   .chennai-card[_ngcontent-%COMP%]{margin-bottom:var(--chennai-spacing-lg)}"]})}}return n})(),canActivate:[h.q,g.K],data:{roles:[m.g.SUPER_ADMIN,m.g.ADMIN]}},{path:"transactions",component:(()=>{class n{constructor(){}static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-transaction-history"]],decls:8,vars:0,consts:[[1,"transaction-history","chennai-dashboard"],[1,"chennai-card"]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),t.EFF(4,"TransactionHistory Dashboard"),t.k0s()(),t.j41(5,"mat-card-content")(6,"p"),t.EFF(7,"This is the transaction-history component."),t.k0s()()()())},dependencies:[s.RN,s.m2,s.MM,s.dh],styles:[".transaction-history[_ngcontent-%COMP%]{padding:var(--chennai-spacing-lg)}.transaction-history[_ngcontent-%COMP%]   .chennai-card[_ngcontent-%COMP%]{margin-bottom:var(--chennai-spacing-lg)}"]})}}return n})(),canActivate:[h.q,g.K],data:{roles:[m.g.SUPER_ADMIN,m.g.ADMIN,m.g.SHOP_OWNER]}},{path:"reports",component:(()=>{class n{constructor(){}static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-financial-reports"]],decls:8,vars:0,consts:[[1,"financial-reports","chennai-dashboard"],[1,"chennai-card"]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),t.EFF(4,"FinancialReports Dashboard"),t.k0s()(),t.j41(5,"mat-card-content")(6,"p"),t.EFF(7,"This is the financial-reports component."),t.k0s()()()())},dependencies:[s.RN,s.m2,s.MM,s.dh],styles:[".financial-reports[_ngcontent-%COMP%]{padding:var(--chennai-spacing-lg)}.financial-reports[_ngcontent-%COMP%]   .chennai-card[_ngcontent-%COMP%]{margin-bottom:var(--chennai-spacing-lg)}"]})}}return n})(),canActivate:[h.q,g.K],data:{roles:[m.g.SUPER_ADMIN,m.g.ADMIN,m.g.SHOP_OWNER]}},{path:"tax",component:(()=>{class n{constructor(){}static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-tax-management"]],decls:8,vars:0,consts:[[1,"tax-management","chennai-dashboard"],[1,"chennai-card"]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),t.EFF(4,"TaxManagement Dashboard"),t.k0s()(),t.j41(5,"mat-card-content")(6,"p"),t.EFF(7,"This is the tax-management component."),t.k0s()()()())},dependencies:[s.RN,s.m2,s.MM,s.dh],styles:[".tax-management[_ngcontent-%COMP%]{padding:var(--chennai-spacing-lg)}.tax-management[_ngcontent-%COMP%]   .chennai-card[_ngcontent-%COMP%]{margin-bottom:var(--chennai-spacing-lg)}"]})}}return n})(),canActivate:[h.q,g.K],data:{roles:[m.g.SUPER_ADMIN,m.g.ADMIN]}},{path:"refunds",component:(()=>{class n{constructor(){}static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-refund-management"]],decls:8,vars:0,consts:[[1,"refund-management","chennai-dashboard"],[1,"chennai-card"]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),t.EFF(4,"RefundManagement Dashboard"),t.k0s()(),t.j41(5,"mat-card-content")(6,"p"),t.EFF(7,"This is the refund-management component."),t.k0s()()()())},dependencies:[s.RN,s.m2,s.MM,s.dh],styles:[".refund-management[_ngcontent-%COMP%]{padding:var(--chennai-spacing-lg)}.refund-management[_ngcontent-%COMP%]   .chennai-card[_ngcontent-%COMP%]{margin-bottom:var(--chennai-spacing-lg)}"]})}}return n})(),canActivate:[h.q,g.K],data:{roles:[m.g.SUPER_ADMIN,m.g.ADMIN]}},{path:"settlements",component:(()=>{class n{constructor(){}static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-settlement-tracking"]],decls:8,vars:0,consts:[[1,"settlement-tracking","chennai-dashboard"],[1,"chennai-card"]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),t.EFF(4,"SettlementTracking Dashboard"),t.k0s()(),t.j41(5,"mat-card-content")(6,"p"),t.EFF(7,"This is the settlement-tracking component."),t.k0s()()()())},dependencies:[s.RN,s.m2,s.MM,s.dh],styles:[".settlement-tracking[_ngcontent-%COMP%]{padding:var(--chennai-spacing-lg)}.settlement-tracking[_ngcontent-%COMP%]   .chennai-card[_ngcontent-%COMP%]{margin-bottom:var(--chennai-spacing-lg)}"]})}}return n})(),canActivate:[h.q,g.K],data:{roles:[m.g.SUPER_ADMIN,m.g.ADMIN]}}];let ht=(()=>{class n{static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[F.iI.forChild(pt),F.iI]})}}return n})(),gt=(()=>{class n{static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[N.MD,ht,w.X1,w.YN,R.FR,s.Hu,A.Hl,b.m_,l.tP,O.Ou,P.NQ,T.fS,k.RG,x.Ve,$.X6,j.WX,E.YN,B.hM,_.D6,G.RI,U.Cn,L.uc]})}}return n})()}}]);