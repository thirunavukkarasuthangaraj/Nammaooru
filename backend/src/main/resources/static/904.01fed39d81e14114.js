"use strict";(self.webpackChunkshop_management_frontend=self.webpackChunkshop_management_frontend||[]).push([[904],{4904:(nn,V,l)=>{l.r(V),l.d(V,{UsersModule:()=>tn});var f=l(177),u=l(9417),C=l(9159),S=l(6695),w=l(2042),N=l(9631),T=l(2798),P=l(8834),F=l(9213),O=l(5596),I=l(6471),j=l(5351),R=l(5416),y=l(9183),E=l(9115),W=l(1975),G=l(450),L=l(2765),K=l(6850),U=l(1997),M=l(2102),A=l(4823),h=l(1188),B=l(2525),q=l(8032),v=l.n(q),t=l(7705),k=l(2150),Y=l(7575);function Q(o,a){if(1&o&&(t.j41(0,"span",32)(1,"mat-icon"),t.EFF(2,"card_membership"),t.k0s(),t.EFF(3),t.k0s()),2&o){const e=t.XpG(2).$implicit;t.R7$(3),t.SpI(" License: ",e.licenseNumber," ")}}function Z(o,a){if(1&o&&(t.j41(0,"span",32)(1,"mat-icon"),t.EFF(2,"motorcycle"),t.k0s(),t.EFF(3),t.k0s()),2&o){const e=t.XpG(2).$implicit;t.R7$(3),t.SpI(" Vehicle: ",e.vehicleNumber," ")}}function tt(o,a){if(1&o&&(t.j41(0,"div",30),t.DNE(1,Q,4,1,"span",31),t.DNE(2,Z,4,1,"span",31),t.k0s()),2&o){const e=t.XpG().$implicit;t.R7$(1),t.Y8G("ngIf",e.licenseNumber),t.R7$(1),t.Y8G("ngIf",e.vehicleNumber)}}function et(o,a){if(1&o){const e=t.RV6();t.j41(0,"div",33)(1,"img",34),t.bIt("click",function(){t.eBV(e);const r=t.XpG().$implicit,i=t.XpG(2);return t.Njj(i.openFullImage(r))}),t.k0s()()}if(2&o){const e=t.XpG().$implicit,n=t.XpG(2);t.R7$(1),t.Y8G("src",n.getFullImageUrl(e),t.B4B)("alt",e.documentName)}}function nt(o,a){1&o&&(t.j41(0,"div",35)(1,"mat-icon",36),t.EFF(2,"picture_as_pdf"),t.k0s(),t.j41(3,"span"),t.EFF(4,"PDF Document"),t.k0s()())}function ot(o,a){if(1&o&&(t.j41(0,"div",37)(1,"mat-icon",36),t.EFF(2,"description"),t.k0s(),t.j41(3,"span"),t.EFF(4),t.k0s()()),2&o){const e=t.XpG().$implicit;t.R7$(4),t.JRh(e.fileType)}}function rt(o,a){if(1&o){const e=t.RV6();t.j41(0,"div",38)(1,"button",9),t.bIt("click",function(){t.eBV(e);const r=t.XpG().$implicit,i=t.XpG(2);return t.Njj(i.verifyDocument(r,"VERIFIED"))}),t.j41(2,"mat-icon"),t.EFF(3,"check_circle"),t.k0s(),t.EFF(4," Approve "),t.k0s(),t.j41(5,"button",39),t.bIt("click",function(){t.eBV(e);const r=t.XpG().$implicit,i=t.XpG(2);return t.Njj(i.verifyDocument(r,"REJECTED"))}),t.j41(6,"mat-icon"),t.EFF(7,"cancel"),t.k0s(),t.EFF(8," Reject "),t.k0s()()}}function it(o,a){if(1&o&&(t.j41(0,"div",40)(1,"h5"),t.EFF(2,"Admin Notes:"),t.k0s(),t.j41(3,"p"),t.EFF(4),t.k0s(),t.j41(5,"small"),t.EFF(6),t.nI1(7,"date"),t.k0s()()),2&o){const e=t.XpG().$implicit;t.R7$(4),t.JRh(e.verificationNotes),t.R7$(2),t.Lme("Verified by: ",e.verifiedBy," on ",t.i5U(7,3,e.verifiedAt,"dd/MM/yyyy HH:mm"),"")}}function at(o,a){if(1&o){const e=t.RV6();t.j41(0,"div",12)(1,"div",13)(2,"div",14)(3,"h4"),t.EFF(4),t.k0s(),t.j41(5,"p",15),t.EFF(6),t.k0s(),t.j41(7,"div",16)(8,"span",17),t.EFF(9),t.k0s(),t.j41(10,"span",18),t.EFF(11),t.nI1(12,"date"),t.k0s()(),t.DNE(13,tt,3,2,"div",19),t.k0s(),t.j41(14,"div",20)(15,"mat-chip")(16,"mat-icon",21),t.EFF(17),t.k0s(),t.EFF(18),t.k0s()()(),t.j41(19,"div",22),t.DNE(20,et,2,2,"div",23),t.DNE(21,nt,5,0,"div",24),t.DNE(22,ot,5,1,"div",25),t.k0s(),t.j41(23,"div",26)(24,"button",9),t.bIt("click",function(){const i=t.eBV(e).$implicit,c=t.XpG(2);return t.Njj(c.downloadDocument(i))}),t.j41(25,"mat-icon"),t.EFF(26,"download"),t.k0s(),t.EFF(27," Download "),t.k0s(),t.j41(28,"button",27),t.bIt("click",function(){const i=t.eBV(e).$implicit,c=t.XpG(2);return t.Njj(c.viewFullDocument(i))}),t.j41(29,"mat-icon"),t.EFF(30,"visibility"),t.k0s(),t.EFF(31," View "),t.k0s(),t.DNE(32,rt,9,0,"div",28),t.k0s(),t.DNE(33,it,8,6,"div",29),t.k0s()}if(2&o){const e=a.$implicit,n=t.XpG(2);t.R7$(4),t.JRh(n.getDocumentDisplayName(e.documentType)),t.R7$(2),t.JRh(e.originalFilename),t.R7$(3),t.JRh(n.formatFileSize(e.fileSize)),t.R7$(2),t.JRh(t.i5U(12,14,e.createdAt,"dd/MM/yyyy HH:mm")),t.R7$(2),t.Y8G("ngIf",e.licenseNumber||e.vehicleNumber),t.R7$(2),t.HbH("status-chip status-"+e.verificationStatus.toLowerCase()),t.R7$(2),t.JRh(n.getStatusIcon(e.verificationStatus)),t.R7$(1),t.SpI(" ",e.verificationStatus," "),t.R7$(2),t.Y8G("ngIf",n.isImageFile(e.fileType)),t.R7$(1),t.Y8G("ngIf",n.isPdfFile(e.fileType)),t.R7$(1),t.Y8G("ngIf",!n.isImageFile(e.fileType)&&!n.isPdfFile(e.fileType)),t.R7$(10),t.Y8G("ngIf",n.data.isAdmin&&"PENDING"===e.verificationStatus),t.R7$(1),t.Y8G("ngIf",e.verificationNotes)}}function st(o,a){if(1&o&&(t.j41(0,"div",10),t.DNE(1,at,34,17,"div",11),t.k0s()),2&o){const e=t.XpG();t.R7$(1),t.Y8G("ngForOf",e.documents)}}function ct(o,a){if(1&o){const e=t.RV6();t.j41(0,"div",41)(1,"mat-icon"),t.EFF(2,"folder_open"),t.k0s(),t.j41(3,"h3"),t.EFF(4,"No Documents Found"),t.k0s(),t.j41(5,"p"),t.EFF(6,"This delivery partner hasn't uploaded any documents yet."),t.k0s(),t.j41(7,"button",9),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.closeDialog("manage"))}),t.j41(8,"mat-icon"),t.EFF(9,"upload_file"),t.k0s(),t.EFF(10," Manage Documents "),t.k0s()()}}function lt(o,a){if(1&o&&(t.j41(0,"div",42)(1,"h4"),t.EFF(2,"Document Summary"),t.k0s(),t.j41(3,"div",43)(4,"div",44)(5,"span",45),t.EFF(6),t.k0s(),t.j41(7,"span",46),t.EFF(8,"Total Documents"),t.k0s()(),t.j41(9,"div",44)(10,"span",45),t.EFF(11),t.k0s(),t.j41(12,"span",46),t.EFF(13,"Verified"),t.k0s()(),t.j41(14,"div",44)(15,"span",45),t.EFF(16),t.k0s(),t.j41(17,"span",46),t.EFF(18,"Pending"),t.k0s()(),t.j41(19,"div",44)(20,"span",45),t.EFF(21),t.k0s(),t.j41(22,"span",46),t.EFF(23,"Rejected"),t.k0s()()(),t.j41(24,"div",47)(25,"div",48)(26,"span"),t.EFF(27),t.k0s(),t.nrm(28,"mat-progress-bar",49),t.k0s()()()),2&o){const e=t.XpG();t.R7$(6),t.JRh(e.documents.length),t.R7$(5),t.JRh(e.getVerifiedCount()),t.R7$(5),t.JRh(e.getPendingCount()),t.R7$(5),t.JRh(e.getRejectedCount()),t.R7$(6),t.SpI("Verification Progress: ",e.getVerificationPercentage(),"%"),t.R7$(1),t.Y8G("value",e.getVerificationPercentage())}}let dt=(()=>{class o{constructor(e,n,r,i){this.dialogRef=e,this.data=n,this.deliveryPartnerService=r,this.snackBar=i,this.documents=[]}ngOnInit(){this.documents=this.data.documents||[]}closeDialog(e){this.dialogRef.close(e)}refreshDocuments(){this.deliveryPartnerService.getPartnerDocuments(this.data.partnerId).subscribe({next:e=>{this.documents=e.data||[],this.snackBar.open("Documents refreshed successfully","Close",{duration:2e3})},error:e=>{console.error("Error refreshing documents:",e),this.snackBar.open("Error refreshing documents","Close",{duration:3e3})}})}downloadDocument(e){this.deliveryPartnerService.downloadPartnerDocument(this.data.partnerId,e.id).subscribe({next:n=>{const r=window.URL.createObjectURL(n),i=window.document.createElement("a");i.href=r,i.download=e.originalFilename,i.click(),window.URL.revokeObjectURL(r)},error:n=>{console.error("Error downloading document:",n),this.snackBar.open("Error downloading document","Close",{duration:3e3})}})}viewFullDocument(e){if(this.isImageFile(e.fileType))this.openFullImage(e);else{const n=this.getFullImageUrl(e);window.open(n,"_blank")}}openFullImage(e){v().fire({imageUrl:this.getFullImageUrl(e),imageAlt:e.documentName,showConfirmButton:!1,showCloseButton:!0,width:"auto",customClass:{image:"swal-image-full"}})}verifyDocument(e,n){if(!this.data.isAdmin)return;const r="VERIFIED"===n,i=r?"approve":"reject",c=n;v().fire({title:(r?"Approve":"Reject")+" Document",text:`Are you sure you want to ${i} this ${this.getDocumentDisplayName(e.documentType)}?`,input:"textarea",inputPlaceholder:`Enter notes for ${i}ing this document...`,showCancelButton:!0,confirmButtonText:r?"Approve":"Reject",confirmButtonColor:r?"#4caf50":"#f44336",cancelButtonText:"Cancel"}).then(s=>{s.isConfirmed&&this.deliveryPartnerService.verifyPartnerDocument(this.data.partnerId,e.id,c,s.value||void 0).subscribe({next:g=>{const J=this.documents.findIndex(en=>en.id===e.id);-1!==J&&(this.documents[J]=g.data),this.snackBar.open(`Document ${i}ed successfully`,"Close",{duration:3e3})},error:g=>{console.error(`Error ${i}ing document:`,g),this.snackBar.open(`Error ${i}ing document`,"Close",{duration:3e3})}})})}getDocumentDisplayName(e){return this.deliveryPartnerService.getDocumentDisplayName(e)}isImageFile(e){return!!e&&e.startsWith("image/")}isPdfFile(e){return!!e&&"application/pdf"===e}formatFileSize(e){if(0===e)return"0 Bytes";const i=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,i)).toFixed(2))+" "+["Bytes","KB","MB","GB"][i]}getStatusIcon(e){switch(e){case"VERIFIED":return"check_circle";case"REJECTED":return"cancel";case"PENDING":return"schedule";default:return"help"}}getVerifiedCount(){return this.documents.filter(e=>"VERIFIED"===e.verificationStatus).length}getPendingCount(){return this.documents.filter(e=>"PENDING"===e.verificationStatus).length}getRejectedCount(){return this.documents.filter(e=>"REJECTED"===e.verificationStatus).length}getVerificationPercentage(){return 0===this.documents.length?0:Math.round(this.getVerifiedCount()/this.documents.length*100)}getFullImageUrl(e){return e.downloadUrl?e.downloadUrl.startsWith("http")?e.downloadUrl:B.c.apiUrl+e.downloadUrl:""}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(j.CP),t.rXU(j.Vh),t.rXU(k.WS),t.rXU(R.UG))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-delivery-partner-document-viewer"]],decls:18,vars:4,consts:[[1,"document-viewer-container"],[1,"dialog-header"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"dialog-content"],["class","documents-grid",4,"ngIf"],["class","no-documents",4,"ngIf"],["class","document-summary",4,"ngIf"],[1,"dialog-actions"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"documents-grid"],["class","document-card",4,"ngFor","ngForOf"],[1,"document-card"],[1,"document-header"],[1,"document-info"],[1,"document-filename"],[1,"document-meta"],[1,"file-size"],[1,"upload-date"],["class","metadata",4,"ngIf"],[1,"verification-status"],[1,"status-icon"],[1,"document-preview"],["class","image-preview",4,"ngIf"],["class","pdf-preview",4,"ngIf"],["class","other-file-preview",4,"ngIf"],[1,"document-actions"],["mat-raised-button","","color","accent",3,"click"],["class","admin-actions",4,"ngIf"],["class","verification-notes",4,"ngIf"],[1,"metadata"],["class","metadata-item",4,"ngIf"],[1,"metadata-item"],[1,"image-preview"],[1,"preview-image",3,"src","alt","click"],[1,"pdf-preview"],[1,"file-icon"],[1,"other-file-preview"],[1,"admin-actions"],["mat-raised-button","","color","warn",3,"click"],[1,"verification-notes"],[1,"no-documents"],[1,"document-summary"],[1,"summary-stats"],[1,"stat-item"],[1,"stat-value"],[1,"stat-label"],[1,"completion-status"],[1,"progress-info"],["mode","determinate",3,"value"]],template:function(n,r){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"h2"),t.EFF(3),t.k0s(),t.j41(4,"button",2),t.bIt("click",function(){return r.closeDialog()}),t.j41(5,"mat-icon"),t.EFF(6,"close"),t.k0s()()(),t.j41(7,"div",3),t.DNE(8,st,2,1,"div",4),t.DNE(9,ct,11,0,"div",5),t.k0s(),t.DNE(10,lt,29,6,"div",6),t.j41(11,"div",7)(12,"button",8),t.bIt("click",function(){return r.closeDialog()}),t.EFF(13,"Close"),t.k0s(),t.j41(14,"button",9),t.bIt("click",function(){return r.refreshDocuments()}),t.j41(15,"mat-icon"),t.EFF(16,"refresh"),t.k0s(),t.EFF(17," Refresh "),t.k0s()()()),2&n&&(t.R7$(3),t.SpI("\u{1f4c4} ",r.data.partnerName," - Documents"),t.R7$(5),t.Y8G("ngIf",r.documents.length>0),t.R7$(1),t.Y8G("ngIf",0===r.documents.length),t.R7$(1),t.Y8G("ngIf",r.documents.length>0))},dependencies:[f.Sq,f.bT,P.$z,P.iY,F.An,I.Jl,Y.HM,f.vh],styles:[".document-viewer-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;max-height:80vh}.dialog-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:20px 24px;border-bottom:1px solid #e0e0e0;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;margin:-24px -24px 0}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600}.close-btn[_ngcontent-%COMP%]{color:#fff}.dialog-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:20px 0}.documents-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:20px;margin-bottom:20px}.document-card[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:12px;padding:16px;background:white;box-shadow:0 2px 8px #0000001a;transition:all .3s ease}.document-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #00000026;transform:translateY(-2px)}.document-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px}.document-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;color:#333;font-size:16px;font-weight:600}.document-filename[_ngcontent-%COMP%]{margin:0 0 8px;color:#666;font-size:12px;word-break:break-all}.document-meta[_ngcontent-%COMP%]{display:flex;gap:12px;font-size:11px;color:#999}.metadata[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;margin-top:8px}.metadata-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:12px;color:#666}.metadata-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.verification-status[_ngcontent-%COMP%]   .status-chip[_ngcontent-%COMP%]{font-size:11px;height:24px;padding:0 8px}.status-chip.status-verified[_ngcontent-%COMP%]{background:#e8f5e8;color:#2e7d32}.status-chip.status-pending[_ngcontent-%COMP%]{background:#fff3e0;color:#f57c00}.status-chip.status-rejected[_ngcontent-%COMP%]{background:#ffebee;color:#c62828}.status-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;margin-right:4px}.document-preview[_ngcontent-%COMP%]{margin-bottom:16px;text-align:center;min-height:120px;display:flex;align-items:center;justify-content:center;background:#f8f9fa;border-radius:8px}.preview-image[_ngcontent-%COMP%]{max-width:100%;max-height:120px;border-radius:4px;cursor:pointer;transition:transform .3s ease}.preview-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.pdf-preview[_ngcontent-%COMP%], .other-file-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;color:#666}.file-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#999}.document-actions[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.admin-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.verification-notes[_ngcontent-%COMP%]{margin-top:16px;padding:12px;background:#f8f9fa;border-radius:8px;border-left:4px solid #1976d2}.verification-notes[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 8px;color:#333;font-size:14px;font-weight:600}.verification-notes[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;color:#666;font-size:14px}.verification-notes[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#999;font-size:12px}.no-documents[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666}.no-documents[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;margin-bottom:16px;color:#ccc}.document-summary[_ngcontent-%COMP%]{border-top:1px solid #e0e0e0;padding:20px 0;margin-top:20px}.summary-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:16px;margin-bottom:16px}.stat-item[_ngcontent-%COMP%]{text-align:center;padding:12px;background:#f8f9fa;border-radius:8px}.stat-value[_ngcontent-%COMP%]{display:block;font-size:24px;font-weight:600;color:#1976d2}.stat-label[_ngcontent-%COMP%]{display:block;font-size:12px;color:#666;margin-top:4px}.completion-status[_ngcontent-%COMP%]{margin-top:16px}.progress-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.progress-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;color:#333}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding-top:20px;border-top:1px solid #e0e0e0}.dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:100px}"]})}}return o})();var x=l(1626),m=l(6354),p=l(9437),_=l(8810),d=l(3904);let $=(()=>{class o{constructor(e){this.http=e,this.apiUrl=`${B.c.apiUrl}/users`}getAllUsers(e=0,n=10,r="firstName",i="asc"){const c=(new x.Nl).set("page",e.toString()).set("size",n.toString()).set("sortBy",r).set("sortDirection",i);return this.http.get(this.apiUrl,{params:c}).pipe((0,m.T)(s=>{if(d.c.isError(s))throw new Error(d.c.getErrorMessage(s));const g=s.data;return{content:g.content||g.items||[],totalElements:g.totalItems||g.totalElements||0,totalPages:g.totalPages||0,size:g.pageSize||g.size||n,number:g.currentPage||g.number||e}}),(0,p.W)(s=>(0,_.$)(()=>s)))}getUserById(e){return this.http.get(`${this.apiUrl}/${e}`).pipe((0,m.T)(n=>{if(d.c.isError(n))throw new Error(d.c.getErrorMessage(n));return n.data}),(0,p.W)(n=>(0,_.$)(()=>n)))}getUserByUsername(e){return this.http.get(`${this.apiUrl}/username/${e}`).pipe((0,m.T)(n=>{if(d.c.isError(n))throw new Error(d.c.getErrorMessage(n));return n.data}),(0,p.W)(n=>(0,_.$)(()=>n)))}getUserByEmail(e){return this.http.get(`${this.apiUrl}/email/${e}`).pipe((0,m.T)(n=>{if(d.c.isError(n))throw new Error(d.c.getErrorMessage(n));return n.data}),(0,p.W)(n=>(0,_.$)(()=>n)))}createUser(e){return this.http.post(this.apiUrl,e).pipe((0,m.T)(n=>{if(d.c.isError(n))throw new Error(d.c.getErrorMessage(n));return n.data}),(0,p.W)(n=>(0,_.$)(()=>n)))}updateUser(e,n){return this.http.put(`${this.apiUrl}/${e}`,n).pipe((0,m.T)(r=>{if(d.c.isError(r))throw new Error(d.c.getErrorMessage(r));return r.data}),(0,p.W)(r=>(0,_.$)(()=>r)))}deleteUser(e){return this.http.delete(`${this.apiUrl}/${e}`).pipe((0,m.T)(n=>{if(d.c.isError(n))throw new Error(d.c.getErrorMessage(n));return n.data}),(0,p.W)(n=>(0,_.$)(()=>n)))}toggleUserStatus(e){return this.http.put(`${this.apiUrl}/${e}/toggle-status`,{}).pipe((0,m.T)(n=>{if(d.c.isError(n))throw new Error(d.c.getErrorMessage(n));return n.data}),(0,p.W)(n=>(0,_.$)(()=>n)))}lockUser(e,n){const r=(new x.Nl).set("reason",n);return this.http.put(`${this.apiUrl}/${e}/lock`,{},{params:r}).pipe((0,m.T)(i=>{if(d.c.isError(i))throw new Error(d.c.getErrorMessage(i));return i.data}),(0,p.W)(i=>(0,_.$)(()=>i)))}unlockUser(e){return this.http.put(`${this.apiUrl}/${e}/unlock`,{}).pipe((0,m.T)(n=>{if(d.c.isError(n))throw new Error(d.c.getErrorMessage(n));return n.data}),(0,p.W)(n=>(0,_.$)(()=>n)))}resetPassword(e){return this.http.post(`${this.apiUrl}/${e}/reset-password`,{}).pipe((0,m.T)(n=>{if(d.c.isError(n))throw new Error(d.c.getErrorMessage(n));return n.data}),(0,p.W)(n=>(0,_.$)(()=>n)))}getUsersByRole(e,n=0,r=10){const i=(new x.Nl).set("page",n.toString()).set("size",r.toString());return this.http.get(`${this.apiUrl}/role/${e}`,{params:i}).pipe((0,m.T)(c=>{if(d.c.isError(c))throw new Error(d.c.getErrorMessage(c));const s=c.data;return{content:s.content||s.items||[],totalElements:s.totalItems||s.totalElements||0,totalPages:s.totalPages||0,size:s.pageSize||s.size||r,number:s.currentPage||s.number||n}}),(0,p.W)(c=>(0,_.$)(()=>c)))}getUsersByStatus(e,n=0,r=10){const i=(new x.Nl).set("page",n.toString()).set("size",r.toString());return this.http.get(`${this.apiUrl}/status/${e}`,{params:i}).pipe((0,m.T)(c=>{if(d.c.isError(c))throw new Error(d.c.getErrorMessage(c));const s=c.data;return{content:s.content||s.items||[],totalElements:s.totalItems||s.totalElements||0,totalPages:s.totalPages||0,size:s.pageSize||s.size||r,number:s.currentPage||s.number||n}}),(0,p.W)(c=>(0,_.$)(()=>c)))}getUsersByDepartment(e,n=0,r=10){const i=(new x.Nl).set("page",n.toString()).set("size",r.toString());return this.http.get(`${this.apiUrl}/department/${e}`,{params:i}).pipe((0,m.T)(c=>{if(d.c.isError(c))throw new Error(d.c.getErrorMessage(c));const s=c.data;return{content:s.content||s.items||[],totalElements:s.totalItems||s.totalElements||0,totalPages:s.totalPages||0,size:s.pageSize||s.size||r,number:s.currentPage||s.number||n}}),(0,p.W)(c=>(0,_.$)(()=>c)))}searchUsers(e,n=0,r=10){const i=(new x.Nl).set("searchTerm",e).set("page",n.toString()).set("size",r.toString());return this.http.get(`${this.apiUrl}/search`,{params:i}).pipe((0,m.T)(c=>{if(d.c.isError(c))throw new Error(d.c.getErrorMessage(c));const s=c.data;return{content:s.content||s.items||[],totalElements:s.totalItems||s.totalElements||0,totalPages:s.totalPages||0,size:s.pageSize||s.size||r,number:s.currentPage||s.number||n}}),(0,p.W)(c=>(0,_.$)(()=>c)))}getSubordinates(e){return this.http.get(`${this.apiUrl}/${e}/subordinates`).pipe((0,m.T)(n=>{if(d.c.isError(n))throw new Error(d.c.getErrorMessage(n));return n.data.items||n.data||[]}),(0,p.W)(n=>(0,_.$)(()=>n)))}assignDriverToShop(e,n){return this.http.put(`${this.apiUrl}/${e}/assign-shop/${n}`,{}).pipe((0,m.T)(r=>{if(d.c.isError(r))throw new Error(d.c.getErrorMessage(r));return r.data}),(0,p.W)(r=>(0,_.$)(()=>r)))}unassignDriverFromShop(e){return this.http.put(`${this.apiUrl}/${e}/unassign-shop`,{}).pipe((0,m.T)(n=>{if(d.c.isError(n))throw new Error(d.c.getErrorMessage(n));return n.data}),(0,p.W)(n=>(0,_.$)(()=>n)))}getUserRoles(){return this.http.get(`${this.apiUrl}/roles`).pipe((0,m.T)(e=>{if(d.c.isError(e))throw new Error(d.c.getErrorMessage(e));return e.data}),(0,p.W)(e=>(0,_.$)(()=>e)))}static{this.\u0275fac=function(n){return new(n||o)(t.KVO(x.Qq))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var z=l(6600);function ut(o,a){if(1&o&&(t.j41(0,"mat-option",30),t.EFF(1),t.k0s()),2&o){const e=a.$implicit;t.Y8G("value",e.value),t.R7$(1),t.SpI(" ",e.label," ")}}function gt(o,a){if(1&o&&(t.j41(0,"mat-option",30),t.EFF(1),t.k0s()),2&o){const e=a.$implicit;t.Y8G("value",e.value),t.R7$(1),t.SpI(" ",e.label," ")}}function mt(o,a){1&o&&(t.j41(0,"mat-header-cell",31),t.EFF(1,"Name"),t.k0s())}function pt(o,a){if(1&o&&(t.j41(0,"mat-cell")(1,"div",32)(2,"div",33)(3,"mat-icon"),t.EFF(4,"person"),t.k0s()(),t.j41(5,"div",34)(6,"span",35),t.EFF(7),t.k0s(),t.j41(8,"span",36),t.EFF(9),t.k0s()()()()),2&o){const e=a.$implicit;t.R7$(7),t.JRh(e.fullName),t.R7$(2),t.SpI("@",e.username,"")}}function _t(o,a){1&o&&(t.j41(0,"mat-header-cell",31),t.EFF(1,"Email"),t.k0s())}function ft(o,a){1&o&&(t.j41(0,"mat-icon",40),t.EFF(1,"verified"),t.k0s())}function Ct(o,a){if(1&o&&(t.j41(0,"mat-cell")(1,"div",37)(2,"span",38),t.EFF(3),t.k0s(),t.DNE(4,ft,2,0,"mat-icon",39),t.k0s()()),2&o){const e=a.$implicit;t.R7$(3),t.JRh(e.email),t.R7$(1),t.Y8G("ngIf",e.emailVerified)}}function Pt(o,a){1&o&&(t.j41(0,"mat-header-cell",31),t.EFF(1,"Role"),t.k0s())}function ht(o,a){if(1&o&&(t.j41(0,"mat-cell")(1,"div",41)(2,"span"),t.EFF(3),t.k0s()()()),2&o){const e=a.$implicit,n=t.XpG();t.R7$(2),t.HbH("role-badge role-"+e.role.toLowerCase().replace("_","-")),t.R7$(1),t.SpI(" ",n.getRoleDisplayName(e.role)," ")}}function Ot(o,a){1&o&&(t.j41(0,"mat-header-cell",31),t.EFF(1,"Department"),t.k0s())}function Mt(o,a){if(1&o&&(t.j41(0,"span",45),t.EFF(1),t.k0s()),2&o){const e=t.XpG().$implicit;t.R7$(1),t.JRh(e.designation)}}function bt(o,a){if(1&o&&(t.j41(0,"mat-cell")(1,"div",42)(2,"span",43),t.EFF(3),t.k0s(),t.DNE(4,Mt,2,1,"span",44),t.k0s()()),2&o){const e=a.$implicit;t.R7$(3),t.JRh(e.department||"Not assigned"),t.R7$(1),t.Y8G("ngIf",e.designation)}}function vt(o,a){1&o&&(t.j41(0,"mat-header-cell",31),t.EFF(1,"Status"),t.k0s())}function Et(o,a){if(1&o&&(t.j41(0,"mat-chip",50)(1,"mat-icon",51),t.EFF(2),t.k0s(),t.j41(3,"span",52),t.EFF(4),t.k0s()()),2&o){const e=t.XpG(2).$implicit,n=t.XpG();t.HbH("status-chip ride-status-"+n.getRideStatusClass(e.rideStatus)),t.Y8G("matTooltip",n.getRideStatusTooltip(e.rideStatus)),t.R7$(2),t.JRh(n.getRideStatusIcon(e.rideStatus)),t.R7$(2),t.JRh(n.getRideStatusDisplay(e.rideStatus))}}function kt(o,a){if(1&o&&(t.j41(0,"div",49)(1,"mat-chip",50)(2,"mat-icon",51),t.EFF(3),t.k0s(),t.j41(4,"span",52),t.EFF(5),t.k0s()(),t.DNE(6,Et,5,5,"mat-chip",53),t.k0s()),2&o){const e=t.XpG().$implicit,n=t.XpG();t.R7$(1),t.HbH("status-chip online-status-"+(e.isOnline?"online":"offline")),t.Y8G("matTooltip",n.getOnlineStatusTooltip(e)),t.R7$(2),t.SpI(" ",e.isOnline?"wifi":"wifi_off"," "),t.R7$(2),t.JRh(e.isOnline?"Online":"Offline"),t.R7$(1),t.Y8G("ngIf",e.isOnline)}}function xt(o,a){if(1&o&&(t.j41(0,"mat-chip",50)(1,"mat-icon",51),t.EFF(2),t.k0s(),t.j41(3,"span",52),t.EFF(4),t.k0s()()),2&o){const e=t.XpG().$implicit,n=t.XpG();t.HbH("status-chip status-"+(e.isActive?"active":"inactive")),t.Y8G("matTooltip",n.getStatusTooltip(e)),t.R7$(2),t.JRh(n.getStatusIcon(e)),t.R7$(2),t.JRh(n.getDisplayStatus(e))}}function Ft(o,a){if(1&o&&(t.j41(0,"mat-cell")(1,"div",46),t.DNE(2,kt,7,6,"div",47),t.DNE(3,xt,5,5,"ng-template",null,48,t.C5r),t.k0s()()),2&o){const e=a.$implicit,n=t.sdS(4);t.R7$(2),t.Y8G("ngIf","DELIVERY_PARTNER"===e.role)("ngIfElse",n)}}function Dt(o,a){1&o&&(t.j41(0,"mat-header-cell",31),t.EFF(1,"Last Login"),t.k0s())}function It(o,a){if(1&o&&(t.j41(0,"span",57),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&o){const e=t.XpG().$implicit;t.R7$(1),t.SpI(" ",t.i5U(2,1,e.lastLogin,"dd/MM/yyyy HH:mm")," ")}}function Rt(o,a){1&o&&(t.j41(0,"span",58),t.EFF(1,"Never logged in"),t.k0s())}function yt(o,a){if(1&o&&(t.j41(0,"mat-cell")(1,"div",54),t.DNE(2,It,3,4,"span",55),t.DNE(3,Rt,2,0,"ng-template",null,56,t.C5r),t.k0s()()),2&o){const e=a.$implicit,n=t.sdS(4);t.R7$(2),t.Y8G("ngIf",e.lastLogin)("ngIfElse",n)}}function wt(o,a){1&o&&(t.j41(0,"mat-header-cell"),t.EFF(1,"Actions"),t.k0s())}function Nt(o,a){if(1&o){const e=t.RV6();t.j41(0,"button",74),t.bIt("click",function(){t.eBV(e);const r=t.XpG(2).$implicit,i=t.XpG();return t.Njj(i.viewDocuments(r))}),t.j41(1,"mat-icon",75),t.EFF(2,"folder_open"),t.k0s(),t.EFF(3," View Docs "),t.k0s()}}function jt(o,a){if(1&o){const e=t.RV6();t.j41(0,"button",76),t.bIt("click",function(){t.eBV(e);const r=t.XpG(2).$implicit,i=t.XpG();return t.Njj(i.addDocuments(r))}),t.j41(1,"mat-icon",75),t.EFF(2,"add_circle"),t.k0s(),t.EFF(3," Add Docs "),t.k0s()}}function St(o,a){if(1&o&&(t.qex(0),t.DNE(1,Nt,4,0,"button",72),t.DNE(2,jt,4,0,"button",73),t.bVm()),2&o){const e=t.XpG().$implicit,n=t.XpG();t.R7$(1),t.Y8G("ngIf",n.hasDocuments(e.id)),t.R7$(1),t.Y8G("ngIf",!n.hasDocuments(e.id))}}function Tt(o,a){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"button",77),t.bIt("click",function(){t.eBV(e);const r=t.XpG(2).$implicit,i=t.XpG();return t.Njj(i.viewDocuments(r))}),t.j41(2,"mat-icon",69),t.EFF(3,"folder_open"),t.k0s(),t.j41(4,"span")(5,"strong"),t.EFF(6,"View Documents"),t.k0s()()(),t.j41(7,"button",68),t.bIt("click",function(){t.eBV(e);const r=t.XpG(2).$implicit,i=t.XpG();return t.Njj(i.manageDocuments(r))}),t.j41(8,"mat-icon",78),t.EFF(9,"upload_file"),t.k0s(),t.j41(10,"span"),t.EFF(11,"Manage Documents"),t.k0s()(),t.bVm()}}function Ut(o,a){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"button",77),t.bIt("click",function(){t.eBV(e);const r=t.XpG(2).$implicit,i=t.XpG();return t.Njj(i.addDocuments(r))}),t.j41(2,"mat-icon",78),t.EFF(3,"add_circle"),t.k0s(),t.j41(4,"span")(5,"strong"),t.EFF(6,"Add Documents"),t.k0s()()(),t.j41(7,"button",68),t.bIt("click",function(){t.eBV(e);const r=t.XpG(2).$implicit,i=t.XpG();return t.Njj(i.manageDocuments(r))}),t.j41(8,"mat-icon",69),t.EFF(9,"upload_file"),t.k0s(),t.j41(10,"span"),t.EFF(11,"Upload Documents"),t.k0s()(),t.bVm()}}function $t(o,a){if(1&o&&(t.qex(0),t.DNE(1,Tt,12,0,"ng-container",64),t.DNE(2,Ut,12,0,"ng-container",64),t.nrm(3,"mat-divider"),t.bVm()),2&o){const e=t.XpG().$implicit,n=t.XpG();t.R7$(1),t.Y8G("ngIf",n.hasDocuments(e.id)),t.R7$(1),t.Y8G("ngIf",!n.hasDocuments(e.id))}}function Vt(o,a){if(1&o){const e=t.RV6();t.j41(0,"mat-cell")(1,"div",59)(2,"mat-slide-toggle",60),t.bIt("change",function(){const i=t.eBV(e).$implicit,c=t.XpG();return t.Njj(c.toggleUserStatus(i))}),t.k0s(),t.j41(3,"div",61)(4,"button",62),t.bIt("click",function(){const i=t.eBV(e).$implicit,c=t.XpG();return t.Njj(c.viewUser(i))}),t.j41(5,"mat-icon"),t.EFF(6,"visibility"),t.k0s()(),t.j41(7,"button",63),t.bIt("click",function(){const i=t.eBV(e).$implicit,c=t.XpG();return t.Njj(c.editUser(i))}),t.j41(8,"mat-icon"),t.EFF(9,"edit"),t.k0s()(),t.DNE(10,St,3,2,"ng-container",64),t.j41(11,"button",65)(12,"mat-icon"),t.EFF(13,"more_vert"),t.k0s()()(),t.j41(14,"mat-menu",66,67),t.DNE(16,$t,4,2,"ng-container",64),t.j41(17,"button",68),t.bIt("click",function(){const i=t.eBV(e).$implicit,c=t.XpG();return t.Njj(c.resetPassword(i))}),t.j41(18,"mat-icon",69),t.EFF(19,"lock_reset"),t.k0s(),t.j41(20,"span"),t.EFF(21,"Reset Password"),t.k0s()(),t.nrm(22,"mat-divider"),t.j41(23,"button",70),t.bIt("click",function(){const i=t.eBV(e).$implicit,c=t.XpG();return t.Njj(c.deleteUser(i))}),t.j41(24,"mat-icon",71),t.EFF(25,"delete"),t.k0s(),t.j41(26,"span"),t.EFF(27,"Delete User"),t.k0s()()()()()}if(2&o){const e=a.$implicit,n=t.sdS(15);t.R7$(2),t.Y8G("checked",e.isActive)("matTooltip",e.isActive?"User is Active - Click to Deactivate":"User is Inactive - Click to Activate")("color",e.isActive?"primary":"warn"),t.R7$(8),t.Y8G("ngIf","DELIVERY_PARTNER"===e.role),t.R7$(1),t.Y8G("matMenuTriggerFor",n),t.R7$(5),t.Y8G("ngIf","DELIVERY_PARTNER"===e.role)}}function Gt(o,a){1&o&&t.nrm(0,"mat-header-row")}function Lt(o,a){if(1&o){const e=t.RV6();t.j41(0,"mat-row",79),t.bIt("click",function(){const i=t.eBV(e).$implicit,c=t.XpG();return t.Njj(c.viewUser(i))}),t.k0s()}}function At(o,a){1&o&&(t.j41(0,"div",80),t.nrm(1,"mat-spinner"),t.j41(2,"p"),t.EFF(3,"Loading users..."),t.k0s()())}function Bt(o,a){1&o&&(t.j41(0,"h3"),t.EFF(1,"No users in the system"),t.k0s())}function Yt(o,a){1&o&&(t.j41(0,"h3"),t.EFF(1,"No users match your filters"),t.k0s())}function zt(o,a){1&o&&(t.j41(0,"p"),t.EFF(1," Get started by adding your first user to the system. "),t.k0s())}function Ht(o,a){1&o&&(t.j41(0,"p"),t.EFF(1,"Try adjusting your search terms or clearing the filters to see more results."),t.k0s())}function Xt(o,a){if(1&o){const e=t.RV6();t.j41(0,"button",90),t.bIt("click",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.createUser())}),t.j41(1,"mat-icon"),t.EFF(2,"person_add"),t.k0s(),t.EFF(3," Add First User "),t.k0s()}}function Jt(o,a){if(1&o){const e=t.RV6();t.j41(0,"button",91),t.bIt("click",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.clearFilters())}),t.j41(1,"mat-icon"),t.EFF(2,"clear_all"),t.k0s(),t.EFF(3," Clear Filters "),t.k0s()}}function Wt(o,a){if(1&o){const e=t.RV6();t.j41(0,"button",92),t.bIt("click",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.createUser())}),t.j41(1,"mat-icon"),t.EFF(2,"person_add"),t.k0s(),t.EFF(3," Add New User "),t.k0s()}}function Kt(o,a){if(1&o&&(t.j41(0,"div",81)(1,"mat-icon"),t.EFF(2,"people_outline"),t.k0s(),t.j41(3,"div",82),t.DNE(4,Bt,2,0,"h3",83),t.DNE(5,Yt,2,0,"ng-template",null,84,t.C5r),t.DNE(7,zt,2,0,"p",83),t.DNE(8,Ht,2,0,"ng-template",null,85,t.C5r),t.j41(10,"div",86),t.DNE(11,Xt,4,0,"button",87),t.DNE(12,Jt,4,0,"button",88),t.DNE(13,Wt,4,0,"button",89),t.k0s()()()),2&o){const e=t.sdS(6),n=t.sdS(9),r=t.XpG();t.R7$(4),t.Y8G("ngIf",0===r.originalData.length)("ngIfElse",e),t.R7$(3),t.Y8G("ngIf",0===r.originalData.length)("ngIfElse",n),t.R7$(4),t.Y8G("ngIf",0===r.originalData.length),t.R7$(1),t.Y8G("ngIf",r.originalData.length>0),t.R7$(1),t.Y8G("ngIf",r.originalData.length>0)}}const qt=function(){return[5,10,25,100]};let D=(()=>{class o{constructor(e,n,r,i,c,s){this.userService=e,this.snackBar=n,this.router=r,this.route=i,this.dialog=c,this.deliveryPartnerService=s,this.displayedColumns=["fullName","email","role","department","status","lastLogin","actions"],this.dataSource=new C.I6,this.originalData=[],this.loading=!1,this.searchText="",this.roleFilter="",this.statusFilter="",this.documentStatus=new Map,this.roleOptions=[{value:"",label:"All Roles"},{value:"SUPER_ADMIN",label:"Super Admin"},{value:"ADMIN",label:"Admin"},{value:"SHOP_OWNER",label:"Shop Owner"},{value:"MANAGER",label:"Manager"},{value:"EMPLOYEE",label:"Employee"},{value:"CUSTOMER_SERVICE",label:"Customer Service"},{value:"DELIVERY_PARTNER",label:"Delivery Partner"},{value:"USER",label:"User"}],this.statusOptions=[{value:"",label:"All Statuses"},{value:"ACTIVE",label:"Active"},{value:"INACTIVE",label:"Inactive"},{value:"SUSPENDED",label:"Suspended"},{value:"PENDING_VERIFICATION",label:"Pending Verification"}]}ngOnInit(){const e=this.route.snapshot.data.role;e&&(this.roleFilter=e),this.loadUsers()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}loadUsers(){this.loading=!0,(this.roleFilter?this.userService.getUsersByRole(this.roleFilter,0,100):this.userService.getAllUsers(0,100)).subscribe({next:n=>{console.log("\u2705 Users API SUCCESS:",n),console.log("Real API Users data:",n.content),this.originalData=n.content,this.dataSource.data=[...this.originalData],this.checkDocumentStatusForDeliveryPartners(),this.loading=!1,this.snackBar.open(`\u2705 Loaded ${this.roleFilter?`${this.roleFilter} users`:"all users"} successfully!`,"Close",{duration:3e3})},error:n=>{console.error("\u274c Error loading users from API:",n),console.log("\u{1f504} Falling back to mock data..."),this.loadMockData(),this.loading=!1}})}loadMockData(){const e=[{id:1,username:"superadmin",email:"admin@nammaooru.com",firstName:"Super",lastName:"Admin",fullName:"Super Admin",role:"SUPER_ADMIN",status:"ACTIVE",department:"Administration",designation:"System Administrator",isActive:!0,emailVerified:!0,lastLogin:new Date(Date.now()-72e5).toISOString(),createdAt:new Date(Date.now()-31536e6).toISOString()},{id:2,username:"adminuser",email:"admin@management.com",firstName:"Admin",lastName:"User",fullName:"Admin User",role:"ADMIN",status:"ACTIVE",department:"Management",designation:"Platform Administrator",isActive:!0,emailVerified:!0,lastLogin:new Date(Date.now()-864e5).toISOString(),createdAt:new Date(Date.now()-15552e6).toISOString()},{id:3,username:"rajeshkumar",email:"rajesh@annamalai.com",firstName:"Rajesh",lastName:"Kumar",fullName:"Rajesh Kumar",role:"SHOP_OWNER",status:"ACTIVE",department:"Operations",designation:"Shop Owner",isActive:!0,emailVerified:!0,lastLogin:new Date(Date.now()-108e5).toISOString(),createdAt:new Date(Date.now()-3888e6).toISOString()},{id:4,username:"priyasharma",email:"priya@example.com",firstName:"Priya",lastName:"Sharma",fullName:"Priya Sharma",role:"USER",status:"ACTIVE",department:"Customer",designation:"Customer",isActive:!0,emailVerified:!0,lastLogin:new Date(Date.now()-18e5).toISOString(),createdAt:new Date(Date.now()-1296e6).toISOString()},{id:5,username:"csmanager",email:"support@nammaooru.com",firstName:"Customer",lastName:"Support",fullName:"Customer Support Manager",role:"CUSTOMER_SERVICE",status:"ACTIVE",department:"Customer Service",designation:"Support Manager",isActive:!0,emailVerified:!0,lastLogin:new Date(Date.now()-144e5).toISOString(),createdAt:new Date(Date.now()-7776e6).toISOString()},{id:6,username:"deliveryboy1",email:"delivery1@nammaooru.com",firstName:"Ravi",lastName:"Delivery",fullName:"Ravi Delivery",role:"DELIVERY_PARTNER",status:"ACTIVE",department:"Logistics",designation:"Delivery Partner",isActive:!0,emailVerified:!0,lastLogin:new Date(Date.now()-36e5).toISOString(),createdAt:new Date(Date.now()-2592e6).toISOString()},{id:7,username:"opsmanager",email:"ops@nammaooru.com",firstName:"Operations",lastName:"Manager",fullName:"Operations Manager",role:"MANAGER",status:"ACTIVE",department:"Operations",designation:"Operations Manager",isActive:!0,emailVerified:!0,lastLogin:new Date(Date.now()-216e5).toISOString(),createdAt:new Date(Date.now()-10368e6).toISOString()},{id:8,username:"employee1",email:"emp1@nammaooru.com",firstName:"John",lastName:"Employee",fullName:"John Employee",role:"EMPLOYEE",status:"ACTIVE",department:"Operations",designation:"Operations Executive",isActive:!0,emailVerified:!0,lastLogin:new Date(Date.now()-288e5).toISOString(),createdAt:new Date(Date.now()-5184e6).toISOString()},{id:9,username:"inactiveuser",email:"inactive@example.com",firstName:"Inactive",lastName:"User",fullName:"Inactive User",role:"USER",status:"INACTIVE",department:"Customer",designation:"Customer",isActive:!1,emailVerified:!1,lastLogin:new Date(Date.now()-2592e6).toISOString(),createdAt:new Date(Date.now()-7776e6).toISOString()},{id:10,username:"pendinguser",email:"pending@example.com",firstName:"Pending",lastName:"Verification",fullName:"Pending Verification",role:"USER",status:"PENDING_VERIFICATION",department:"Customer",designation:"Customer",isActive:!1,emailVerified:!1,lastLogin:"",createdAt:new Date(Date.now()-864e5).toISOString()}];this.originalData=e,this.dataSource.data=[...this.originalData],this.snackBar.open("Loaded mock user data - API not available","Close",{duration:3e3})}applyFilter(){let e=[...this.originalData];if(this.searchText&&this.searchText.trim()){const n=this.searchText.toLowerCase().trim();e=e.filter(r=>r.fullName&&r.fullName.toLowerCase().includes(n)||r.email&&r.email.toLowerCase().includes(n)||r.username&&r.username.toLowerCase().includes(n)||r.department&&r.department.toLowerCase().includes(n)||r.designation&&r.designation.toLowerCase().includes(n))}this.roleFilter&&(e=e.filter(n=>n.role===this.roleFilter)),this.statusFilter&&(e=e.filter(n=>(n.isActive?n.status||"ACTIVE":"INACTIVE")===this.statusFilter)),this.dataSource.data=e,this.paginator&&this.paginator.firstPage()}clearFilters(){this.searchText="",this.roleFilter="",this.statusFilter="",this.dataSource.data=[...this.originalData],this.paginator&&this.paginator.firstPage(),this.snackBar.open("Filters cleared","Close",{duration:2e3})}createUser(){this.router.navigate(["/users/new"])}viewUser(e){console.log("Viewing user:",e),console.log("User ID:",e.id,"Type:",typeof e.id),e.id?this.router.navigate(["/users",e.id]):(console.error("User ID is missing or invalid:",e),this.snackBar.open("Invalid user ID","Close",{duration:3e3}))}editUser(e){this.router.navigate(["/users",e.id,"edit"])}toggleUserStatus(e){const n=e.isActive?"deactivate":"activate";confirm(`Are you sure you want to ${n} ${e.fullName}?`)&&this.userService.toggleUserStatus(e.id).subscribe({next:i=>{const c=this.originalData.findIndex(g=>g.id===e.id);-1!==c&&(this.originalData[c]=i);const s=this.dataSource.data.findIndex(g=>g.id===e.id);-1!==s&&(this.dataSource.data[s]=i,this.dataSource.data=[...this.dataSource.data]),this.snackBar.open(`User ${e.fullName} ${n}d successfully`,"Close",{duration:3e3})},error:i=>{console.error("Error toggling user status:",i),this.snackBar.open(`Error ${n}ing user`,"Close",{duration:3e3})}})}resetPassword(e){confirm(`Reset password for ${e.fullName}?`)&&this.userService.resetPassword(e.id).subscribe({next:()=>{this.snackBar.open("Password reset email sent successfully","Close",{duration:3e3})},error:n=>{console.error("Error resetting password:",n),this.snackBar.open("Error resetting password","Close",{duration:3e3})}})}deleteUser(e){confirm(`Are you sure you want to delete ${e.fullName}?`)&&this.userService.deleteUser(e.id).subscribe({next:()=>{this.snackBar.open("User deleted successfully","Close",{duration:3e3}),this.loadUsers()},error:n=>{console.error("Error deleting user:",n),this.snackBar.open("Error deleting user","Close",{duration:3e3})}})}getRoleColor(e){switch(e){case"SUPER_ADMIN":return"warn";case"ADMIN":case"MANAGER":return"primary";case"SHOP_OWNER":return"accent";default:return""}}getStatusColor(e){switch(e){case"ACTIVE":return"primary";case"INACTIVE":case"SUSPENDED":return"warn";case"PENDING_VERIFICATION":return"accent";default:return""}}getPageTitle(){if(!this.roleFilter)return"User Management";switch(this.roleFilter){case"ADMIN":return"Admin Users";case"MANAGER":return"Manager Users";case"SHOP_OWNER":return"Shop Owner Users";case"DELIVERY_PARTNER":return"Delivery Partners";case"USER":return"Customer Users";default:return"User Management"}}getActualStatus(e){return e.isActive?e.status||"ACTIVE":"INACTIVE"}getActualStatusColor(e){switch(this.getActualStatus(e)){case"ACTIVE":return"primary";case"INACTIVE":case"SUSPENDED":return"warn";case"PENDING_VERIFICATION":return"accent";default:return""}}getStatusIcon(e){return e.isActive?"check_circle":"cancel"}getStatusIconColor(e){return e.isActive?"primary":"warn"}getDisplayStatus(e){return e.isActive?"ACTIVE"===e.status?"Active":(e.status||"Active").replace("_"," "):"Inactive"}getStatusTooltip(e){return e.isActive?"SUSPENDED"===e.status?"User account is suspended":"PENDING_VERIFICATION"===e.status?"User account is pending email verification":"User account is active and operational":"User account is deactivated"}getRoleDisplayName(e){switch(e){case"SUPER_ADMIN":return"Super Admin";case"ADMIN":return"Admin";case"SHOP_OWNER":return"Shop Owner";case"MANAGER":return"Manager";case"EMPLOYEE":return"Employee";case"CUSTOMER_SERVICE":return"Customer Service";case"DELIVERY_PARTNER":return"Delivery Partner";case"USER":return"Customer";default:return e.replace("_"," ")}}getOnlineStatusTooltip(e){const n=e.lastActivity?new Date(e.lastActivity).toLocaleString():"Never";return e.isOnline?`Partner is online. Last activity: ${n}`:`Partner is offline. Last activity: ${n}`}getRideStatusClass(e){switch(e){case"AVAILABLE":return"available";case"ON_RIDE":return"on-ride";case"BUSY":return"busy";case"ON_BREAK":return"on-break";case"OFFLINE":return"offline";default:return"unknown"}}getRideStatusIcon(e){switch(e){case"AVAILABLE":return"check_circle";case"ON_RIDE":return"directions_bike";case"BUSY":return"hourglass_empty";case"ON_BREAK":return"coffee";case"OFFLINE":return"offline_pin";default:return"help_outline"}}getRideStatusDisplay(e){switch(e){case"AVAILABLE":return"Available";case"ON_RIDE":return"On Ride";case"BUSY":return"Busy";case"ON_BREAK":return"On Break";case"OFFLINE":return"Offline";default:return"Unknown"}}getRideStatusTooltip(e){switch(e){case"AVAILABLE":return"Partner is available for new deliveries";case"ON_RIDE":return"Partner is currently on a delivery";case"BUSY":return"Partner is busy and cannot take new orders";case"ON_BREAK":return"Partner is on a break";case"OFFLINE":return"Partner is offline";default:return"Status unknown"}}viewDocuments(e){"DELIVERY_PARTNER"===e.role?this.router.navigate(["/delivery/documents/view",e.id,e.fullName]):this.snackBar.open("Document viewing is only available for delivery partners","Close",{duration:3e3})}manageDocuments(e){"DELIVERY_PARTNER"===e.role?this.router.navigate(["/users",e.id,"documents"]):this.snackBar.open("Document management is only available for delivery partners","Close",{duration:3e3})}checkDocumentStatusForDeliveryPartners(){this.originalData.filter(n=>"DELIVERY_PARTNER"===n.role).forEach(n=>{this.deliveryPartnerService.getPartnerDocuments(n.id).subscribe({next:r=>{this.documentStatus.set(n.id,r.data&&r.data.length>0)},error:r=>{console.error(`Error checking documents for partner ${n.id}:`,r),this.documentStatus.set(n.id,!1)}})})}hasDocuments(e){return this.documentStatus.get(e)||!1}addDocuments(e){"DELIVERY_PARTNER"===e.role?this.router.navigate(["/users",e.id,"documents"]):this.snackBar.open("Document upload is only available for delivery partners","Close",{duration:3e3})}openDocumentViewerDialog(e){this.deliveryPartnerService.getPartnerDocuments(e.id).subscribe({next:n=>{n.data&&n.data.length>0?this.dialog.open(dt,{width:"90%",maxWidth:"1200px",height:"80vh",data:{partnerId:e.id,partnerName:e.fullName,documents:n.data,isAdmin:!0}}).afterClosed().subscribe(i=>{"refresh"===i&&this.loadUsers()}):this.snackBar.open(`No documents found for ${e.fullName}. Use "Manage Documents" to upload.`,"Close",{duration:5e3})},error:n=>{console.error("Error loading partner documents:",n),this.snackBar.open("Error loading documents. Please try again.","Close",{duration:3e3})}})}static{this.\u0275fac=function(n){return new(n||o)(t.rXU($),t.rXU(R.UG),t.rXU(h.Ix),t.rXU(h.nX),t.rXU(j.bZ),t.rXU(k.WS))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-user-list"]],viewQuery:function(n,r){if(1&n&&(t.GBs(S.iy,5),t.GBs(w.B4,5)),2&n){let i;t.mGM(i=t.lsd())&&(r.paginator=i.first),t.mGM(i=t.lsd())&&(r.sort=i.first)}},decls:58,vars:13,consts:[[1,"users-container"],[1,"header-section"],[1,"title-section"],["mat-raised-button","","color","primary",1,"create-btn",3,"click"],[1,"filters-section"],["appearance","outline",1,"search-field"],["matInput","","placeholder","Name, email, username...",3,"ngModel","ngModelChange","keyup"],["matSuffix",""],["appearance","outline",1,"role-filter"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",1,"status-filter"],["mat-raised-button","","color","primary",1,"clear-btn",3,"click"],[1,"table-container"],["matSort","",1,"users-table",3,"dataSource"],["matColumnDef","fullName"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","email"],["matColumnDef","role"],["matColumnDef","department"],["matColumnDef","status"],["matColumnDef","lastLogin"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],["class","user-row",3,"click",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["class","loading-container",4,"ngIf"],["class","no-data",4,"ngIf"],[3,"value"],["mat-sort-header",""],[1,"user-info"],[1,"user-avatar"],[1,"user-details"],[1,"user-name"],[1,"username"],[1,"email-info"],[1,"email"],["class","verified-icon","color","primary","matTooltip","Email verified",4,"ngIf"],["color","primary","matTooltip","Email verified",1,"verified-icon"],[1,"role-container"],[1,"department-info"],[1,"department"],["class","designation",4,"ngIf"],[1,"designation"],[1,"status-container"],["class","delivery-status",4,"ngIf","ngIfElse"],["generalStatus",""],[1,"delivery-status"],[3,"matTooltip"],[1,"status-icon"],[1,"status-text"],[3,"class","matTooltip",4,"ngIf"],[1,"last-login-container"],["class","last-login",4,"ngIf","ngIfElse"],["noLoginTemplate",""],[1,"last-login"],[1,"no-login"],[1,"actions-container"],[1,"status-toggle",3,"checked","matTooltip","color","change"],[1,"action-buttons"],["mat-icon-button","","matTooltip","View Details","color","primary",1,"action-btn","view-btn",3,"click"],["mat-icon-button","","matTooltip","Edit User","color","accent",1,"action-btn","edit-btn",3,"click"],[4,"ngIf"],["mat-icon-button","","matTooltip","More Actions",1,"action-btn","more-btn",3,"matMenuTriggerFor"],[1,"user-actions-menu"],["menu","matMenu"],["mat-menu-item","",3,"click"],["color","primary"],["mat-menu-item","",1,"delete-action",3,"click"],["color","warn"],["mat-raised-button","","matTooltip","View Uploaded Documents","color","primary","class","action-btn view-doc-btn","style","margin-right: 4px; font-size: 11px;",3,"click",4,"ngIf"],["mat-raised-button","","matTooltip","Add Documents","color","accent","class","action-btn add-doc-btn","style","margin-right: 4px; font-size: 11px;",3,"click",4,"ngIf"],["mat-raised-button","","matTooltip","View Uploaded Documents","color","primary",1,"action-btn","view-doc-btn",2,"margin-right","4px","font-size","11px",3,"click"],[2,"font-size","16px"],["mat-raised-button","","matTooltip","Add Documents","color","accent",1,"action-btn","add-doc-btn",2,"margin-right","4px","font-size","11px",3,"click"],["mat-menu-item","",1,"primary-menu-item",3,"click"],["color","accent"],[1,"user-row",3,"click"],[1,"loading-container"],[1,"no-data"],[1,"no-data-content"],[4,"ngIf","ngIfElse"],["filteredEmpty",""],["filteredMessage",""],[1,"no-data-actions"],["mat-raised-button","","color","primary","class","add-first-btn",3,"click",4,"ngIf"],["mat-stroked-button","","color","primary","class","clear-filters-btn",3,"click",4,"ngIf"],["mat-raised-button","","color","primary","class","add-user-btn",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",1,"add-first-btn",3,"click"],["mat-stroked-button","","color","primary",1,"clear-filters-btn",3,"click"],["mat-raised-button","","color","primary",1,"add-user-btn",3,"click"]],template:function(n,r){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t.EFF(4),t.k0s(),t.j41(5,"button",3),t.bIt("click",function(){return r.createUser()}),t.j41(6,"mat-icon"),t.EFF(7,"add"),t.k0s(),t.EFF(8," Add New User "),t.k0s()(),t.j41(9,"div",4)(10,"mat-form-field",5)(11,"mat-label"),t.EFF(12,"Search users"),t.k0s(),t.j41(13,"input",6),t.bIt("ngModelChange",function(c){return r.searchText=c})("keyup",function(){return r.applyFilter()}),t.k0s(),t.j41(14,"mat-icon",7),t.EFF(15,"search"),t.k0s()(),t.j41(16,"mat-form-field",8)(17,"mat-label"),t.EFF(18,"Filter by Role"),t.k0s(),t.j41(19,"mat-select",9),t.bIt("ngModelChange",function(c){return r.roleFilter=c})("selectionChange",function(){return r.applyFilter()}),t.DNE(20,ut,2,2,"mat-option",10),t.k0s()(),t.j41(21,"mat-form-field",11)(22,"mat-label"),t.EFF(23,"Filter by Status"),t.k0s(),t.j41(24,"mat-select",9),t.bIt("ngModelChange",function(c){return r.statusFilter=c})("selectionChange",function(){return r.applyFilter()}),t.DNE(25,gt,2,2,"mat-option",10),t.k0s()(),t.j41(26,"button",12),t.bIt("click",function(){return r.clearFilters()}),t.j41(27,"mat-icon"),t.EFF(28,"clear"),t.k0s(),t.EFF(29," Clear Filters "),t.k0s()()(),t.j41(30,"div",13)(31,"mat-table",14),t.qex(32,15),t.DNE(33,mt,2,0,"mat-header-cell",16),t.DNE(34,pt,10,2,"mat-cell",17),t.bVm(),t.qex(35,18),t.DNE(36,_t,2,0,"mat-header-cell",16),t.DNE(37,Ct,5,2,"mat-cell",17),t.bVm(),t.qex(38,19),t.DNE(39,Pt,2,0,"mat-header-cell",16),t.DNE(40,ht,4,3,"mat-cell",17),t.bVm(),t.qex(41,20),t.DNE(42,Ot,2,0,"mat-header-cell",16),t.DNE(43,bt,5,2,"mat-cell",17),t.bVm(),t.qex(44,21),t.DNE(45,vt,2,0,"mat-header-cell",16),t.DNE(46,Ft,5,2,"mat-cell",17),t.bVm(),t.qex(47,22),t.DNE(48,Dt,2,0,"mat-header-cell",16),t.DNE(49,yt,5,2,"mat-cell",17),t.bVm(),t.qex(50,23),t.DNE(51,wt,2,0,"mat-header-cell",24),t.DNE(52,Vt,28,6,"mat-cell",17),t.bVm(),t.DNE(53,Gt,1,0,"mat-header-row",25),t.DNE(54,Lt,1,0,"mat-row",26),t.k0s(),t.nrm(55,"mat-paginator",27),t.k0s(),t.DNE(56,At,4,0,"div",28),t.DNE(57,Kt,14,7,"div",29),t.k0s()),2&n&&(t.R7$(4),t.JRh(r.getPageTitle()),t.R7$(9),t.Y8G("ngModel",r.searchText),t.R7$(6),t.Y8G("ngModel",r.roleFilter),t.R7$(1),t.Y8G("ngForOf",r.roleOptions),t.R7$(4),t.Y8G("ngModel",r.statusFilter),t.R7$(1),t.Y8G("ngForOf",r.statusOptions),t.R7$(6),t.Y8G("dataSource",r.dataSource),t.R7$(22),t.Y8G("matHeaderRowDef",r.displayedColumns),t.R7$(1),t.Y8G("matRowDefColumns",r.displayedColumns),t.R7$(1),t.Y8G("pageSizeOptions",t.lJ4(12,qt)),t.R7$(1),t.Y8G("ngIf",r.loading),t.R7$(1),t.Y8G("ngIf",!r.loading&&0===r.dataSource.data.length))},dependencies:[f.Sq,f.bT,u.me,u.BC,u.vS,C.Zl,C.tL,C.ji,C.cC,C.YV,C.iL,C.KS,C.$R,C.YZ,C.NB,S.iy,w.B4,w.aE,N.fg,M.rl,M.nJ,M.yw,T.VO,z.wT,P.$z,P.iY,F.An,I.Jl,y.LG,E.kk,E.fb,E.Cp,G.sG,U.q,A.oV,f.vh],styles:[".users-container[_ngcontent-%COMP%]{padding:24px;max-width:1400px;margin:0 auto}.users-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]{margin-bottom:24px;background:white;padding:20px;border-radius:8px;box-shadow:0 2px 8px #0000001a}.users-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.users-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#2d3748;font-weight:600;font-size:28px}.users-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]{height:48px;display:flex;align-items:center;gap:8px;font-weight:500}.users-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:flex-end;flex-wrap:wrap}.users-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{flex:1;min-width:300px}.users-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .role-filter[_ngcontent-%COMP%], .users-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .status-filter[_ngcontent-%COMP%]{width:180px}.users-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{height:56px}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{background:white;border-radius:8px;box-shadow:0 2px 8px #0000001a;overflow:hidden;border:1px solid #e2e8f0}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]{width:100%}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#495057;border-bottom:2px solid #e9ecef;padding:16px 12px;font-size:13px;text-transform:uppercase;letter-spacing:.5px}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{padding:12px;border-bottom:1px solid #f1f3f4;font-size:14px;vertical-align:middle}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .user-row[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s ease}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .user-row[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .user-row[_ngcontent-%COMP%]:last-child   .mat-mdc-cell[_ngcontent-%COMP%]{border-bottom:none}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #667eea4d}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:20px;width:20px;height:20px}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:600;font-size:15px;color:#2d3748}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:12px;color:#667eea;font-family:Courier New,monospace;font-weight:500}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .email-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .email-info[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{color:#4a5568;font-weight:500;font-size:14px}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .email-info[_ngcontent-%COMP%]   .verified-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#48bb78}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .role-container[_ngcontent-%COMP%]{display:flex;align-items:center}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .role-container[_ngcontent-%COMP%]   .role-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:12px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .role-container[_ngcontent-%COMP%]   .role-badge.role-super-admin[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .role-container[_ngcontent-%COMP%]   .role-badge.role-admin[_ngcontent-%COMP%]{background:#ecfdf5;color:#059669}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .role-container[_ngcontent-%COMP%]   .role-badge.role-shop-owner[_ngcontent-%COMP%]{background:#eff6ff;color:#2563eb}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .role-container[_ngcontent-%COMP%]   .role-badge.role-manager[_ngcontent-%COMP%]{background:#f0fdf4;color:#16a34a}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .role-container[_ngcontent-%COMP%]   .role-badge.role-employee[_ngcontent-%COMP%]{background:#fefce8;color:#a16207}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .role-container[_ngcontent-%COMP%]   .role-badge.role-customer-service[_ngcontent-%COMP%]{background:#fdf2f8;color:#be185d}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .role-container[_ngcontent-%COMP%]   .role-badge.role-delivery-agent[_ngcontent-%COMP%]{background:#f3e8ff;color:#7c3aed}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .role-container[_ngcontent-%COMP%]   .role-badge.role-user[_ngcontent-%COMP%]{background:#f1f5f9;color:#475569}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .department-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .department-info[_ngcontent-%COMP%]   .department[_ngcontent-%COMP%]{font-weight:500;color:#2d3748;font-size:14px}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .department-info[_ngcontent-%COMP%]   .designation[_ngcontent-%COMP%]{font-size:12px;color:#718096;font-weight:400}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]{display:flex;align-items:center}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]   .delivery-status[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;align-items:flex-start}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]   .status-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;border-radius:16px;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;border:1px solid transparent;transition:all .2s ease}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]   .status-chip[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]   .status-chip[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{font-size:11px;font-weight:700}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]   .status-chip.status-active[_ngcontent-%COMP%]{background:#e6fffa;color:#047857;border:1px solid #10b981}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]   .status-chip.status-inactive[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626;border:1px solid #ef4444}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]   .status-chip.online-status-online[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e6fffa 0%,#ccfbf1 100%);color:#047857;border:1px solid #10b981;box-shadow:0 2px 4px #10b98133}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]   .status-chip.online-status-online[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{color:#059669;animation:_ngcontent-%COMP%_pulse-online 2s ease-in-out infinite}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]   .status-chip.online-status-offline[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f3f4f6 0%,#e5e7eb 100%);color:#6b7280;border:1px solid #9ca3af;box-shadow:0 2px 4px #6b72801a}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]   .status-chip.online-status-offline[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{color:#9ca3af}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]   .status-chip.ride-status-available[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ecfdf5 0%,#d1fae5 100%);color:#065f46;border:1px solid #16a34a;box-shadow:0 2px 4px #16a34a33}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]   .status-chip.ride-status-available[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{color:#16a34a;animation:_ngcontent-%COMP%_pulse-available 3s ease-in-out infinite}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]   .status-chip.ride-status-on-ride[_ngcontent-%COMP%]{background:linear-gradient(135deg,#eff6ff 0%,#dbeafe 100%);color:#1e40af;border:1px solid #2563eb;box-shadow:0 2px 4px #2563eb33}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]   .status-chip.ride-status-on-ride[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{color:#2563eb;animation:_ngcontent-%COMP%_spin 2s linear infinite}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]   .status-chip.ride-status-busy[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7 0%,#fde68a 100%);color:#92400e;border:1px solid #d97706;box-shadow:0 2px 4px #d9770633}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]   .status-chip.ride-status-busy[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{color:#d97706;animation:_ngcontent-%COMP%_pulse-busy 1.5s ease-in-out infinite}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]   .status-chip.ride-status-on-break[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f3e8ff 0%,#e9d5ff 100%);color:#6b21a8;border:1px solid #7c3aed;box-shadow:0 2px 4px #7c3aed33}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]   .status-chip.ride-status-on-break[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{color:#7c3aed}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]   .status-chip.ride-status-offline[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef2f2 0%,#fecaca 100%);color:#991b1b;border:1px solid #dc2626;box-shadow:0 2px 4px #dc262633}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]   .status-chip.ride-status-offline[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{color:#dc2626}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]   .status-chip[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #0000001a}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .last-login-container[_ngcontent-%COMP%]   .last-login[_ngcontent-%COMP%]{color:#4a5568;font-size:14px;font-weight:500}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .last-login-container[_ngcontent-%COMP%]   .no-login[_ngcontent-%COMP%]{color:#a0aec0;font-size:13px;font-style:italic;font-weight:400}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:12px}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .status-toggle[_ngcontent-%COMP%]{transform:scale(.85)}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .status-toggle[_ngcontent-%COMP%]     .mat-mdc-slide-toggle{--mdc-switch-selected-track-color: #48bb78;--mdc-switch-selected-handle-color: #ffffff;--mdc-switch-unselected-track-color: #ef4444;--mdc-switch-unselected-handle-color: #ffffff}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:16px;transition:all .2s ease}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn.view-btn[_ngcontent-%COMP%]{background:#e1f5fe;color:#0277bd}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn.view-btn[_ngcontent-%COMP%]:hover{background:#b3e5fc}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn.edit-btn[_ngcontent-%COMP%]{background:#fff3e0;color:#f57c00}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn.edit-btn[_ngcontent-%COMP%]:hover{background:#ffe0b2}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn.more-btn[_ngcontent-%COMP%]{background:#f5f5f5;color:#757575}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn.more-btn[_ngcontent-%COMP%]:hover{background:#eeeeee}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .view-doc-btn[_ngcontent-%COMP%]{background-color:#1976d2!important;color:#fff!important}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .view-doc-btn[_ngcontent-%COMP%]:hover{background-color:#1565c0!important}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .add-doc-btn[_ngcontent-%COMP%]{background-color:#f57c00!important;color:#fff!important;border:none!important}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .add-doc-btn[_ngcontent-%COMP%]:hover{background-color:#ef6c00!important}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .primary-menu-item[_ngcontent-%COMP%]{font-weight:600!important}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .primary-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700!important}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .delete-action[_ngcontent-%COMP%]{color:#d32f2f!important}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#d32f2f!important}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]   .delete-action[_ngcontent-%COMP%]:hover{background:rgba(211,47,47,.1)!important}.users-container[_ngcontent-%COMP%]     .user-actions-menu{border-radius:8px;box-shadow:0 4px 16px #0000001a}.users-container[_ngcontent-%COMP%]     .user-actions-menu .mat-mdc-menu-item{transition:all .2s ease}.users-container[_ngcontent-%COMP%]     .user-actions-menu .mat-mdc-menu-item .mat-icon{margin-right:12px;font-size:18px;width:18px;height:18px}.users-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px;gap:16px}.users-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666}.users-container[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px 24px;text-align:center;background:#fafafa;border-radius:12px;margin:24px}.users-container[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#ddd;margin-bottom:16px}.users-container[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   .no-data-content[_ngcontent-%COMP%]{max-width:400px}.users-container[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   .no-data-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;font-size:20px;margin:0 0 12px;font-weight:500}.users-container[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   .no-data-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:14px;line-height:1.5;margin:0 0 24px}.users-container[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   .no-data-content[_ngcontent-%COMP%]   .no-data-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:center;flex-wrap:wrap}.users-container[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   .no-data-content[_ngcontent-%COMP%]   .no-data-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;min-width:140px}.users-container[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   .no-data-content[_ngcontent-%COMP%]   .no-data-actions[_ngcontent-%COMP%]   button.add-first-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;border:none}.users-container[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   .no-data-content[_ngcontent-%COMP%]   .no-data-actions[_ngcontent-%COMP%]   button.add-first-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5a67d8 0%,#6b46c1 100%)}.users-container[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   .no-data-content[_ngcontent-%COMP%]   .no-data-actions[_ngcontent-%COMP%]   button.clear-filters-btn[_ngcontent-%COMP%]{color:#666;border-color:#ddd}.users-container[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   .no-data-content[_ngcontent-%COMP%]   .no-data-actions[_ngcontent-%COMP%]   button.clear-filters-btn[_ngcontent-%COMP%]:hover{background:#f5f5f5}.users-container[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   .no-data-content[_ngcontent-%COMP%]   .no-data-actions[_ngcontent-%COMP%]   button.add-user-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px}@media (max-width: 1024px){.users-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.users-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.users-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%], .users-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .role-filter[_ngcontent-%COMP%], .users-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .status-filter[_ngcontent-%COMP%]{width:100%;min-width:unset}}@media (max-width: 768px){.users-container[_ngcontent-%COMP%]{padding:16px}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{overflow-x:auto}.users-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .users-table[_ngcontent-%COMP%]{min-width:800px}}@keyframes _ngcontent-%COMP%_pulse-online{0%{opacity:1}50%{opacity:.7}to{opacity:1}}@keyframes _ngcontent-%COMP%_pulse-available{0%{opacity:1;transform:scale(1)}50%{opacity:.8;transform:scale(.95)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_pulse-busy{0%{opacity:1}25%{opacity:.6}50%{opacity:1}75%{opacity:.8}to{opacity:1}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}}return o})();function Qt(o,a){1&o&&(t.j41(0,"div",7),t.nrm(1,"mat-spinner"),t.j41(2,"p"),t.EFF(3,"Loading user details..."),t.k0s()())}function Zt(o,a){if(1&o){const e=t.RV6();t.j41(0,"button",19),t.bIt("click",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.lockUser())}),t.j41(1,"mat-icon"),t.EFF(2,"lock"),t.k0s(),t.EFF(3," Lock User "),t.k0s()}}function te(o,a){if(1&o){const e=t.RV6();t.j41(0,"button",19),t.bIt("click",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.unlockUser())}),t.j41(1,"mat-icon"),t.EFF(2,"lock_open"),t.k0s(),t.EFF(3," Unlock User "),t.k0s()}}function ee(o,a){if(1&o&&(t.j41(0,"div",25)(1,"span",26),t.EFF(2,"Mobile:"),t.k0s(),t.j41(3,"span",27),t.EFF(4),t.k0s(),t.j41(5,"mat-icon",28),t.EFF(6),t.k0s()()),2&o){const e=t.XpG(2);t.R7$(4),t.JRh(e.user.mobileNumber),t.R7$(1),t.AVh("verified",e.user.mobileVerified),t.R7$(1),t.SpI(" ",e.user.mobileVerified?"verified":"cancel"," ")}}function ne(o,a){if(1&o&&(t.j41(0,"div",25)(1,"span",26),t.EFF(2,"Department:"),t.k0s(),t.j41(3,"span",27),t.EFF(4),t.k0s()()),2&o){const e=t.XpG(2);t.R7$(4),t.JRh(e.user.department)}}function oe(o,a){if(1&o&&(t.j41(0,"div",25)(1,"span",26),t.EFF(2,"Designation:"),t.k0s(),t.j41(3,"span",27),t.EFF(4),t.k0s()()),2&o){const e=t.XpG(2);t.R7$(4),t.JRh(e.user.designation)}}function re(o,a){if(1&o&&(t.j41(0,"div",31)(1,"mat-icon"),t.EFF(2,"schedule"),t.k0s(),t.j41(3,"div",32)(4,"span",33),t.EFF(5,"Last Login"),t.k0s(),t.j41(6,"span",34),t.EFF(7),t.nI1(8,"date"),t.k0s()()()),2&o){const e=t.XpG(2);t.R7$(7),t.JRh(t.i5U(8,1,e.user.lastLogin,"medium"))}}function ie(o,a){1&o&&(t.j41(0,"div",31)(1,"mat-icon",37),t.EFF(2,"warning"),t.k0s(),t.j41(3,"div",32)(4,"span",33),t.EFF(5,"Account Status"),t.k0s(),t.j41(6,"span",38),t.EFF(7,"Locked"),t.k0s()()())}function ae(o,a){if(1&o&&(t.j41(0,"div",25)(1,"span",26),t.EFF(2,"Last Updated:"),t.k0s(),t.j41(3,"span",27),t.EFF(4),t.nI1(5,"date"),t.k0s()()),2&o){const e=t.XpG(2);t.R7$(4),t.JRh(t.i5U(5,1,e.user.updatedAt,"medium"))}}function se(o,a){if(1&o&&(t.j41(0,"div",25)(1,"span",26),t.EFF(2,"Last Login:"),t.k0s(),t.j41(3,"span",27),t.EFF(4),t.nI1(5,"date"),t.k0s()()),2&o){const e=t.XpG(2);t.R7$(4),t.JRh(t.i5U(5,1,e.user.lastLogin,"medium"))}}const ce=function(o){return["/users",o]};function le(o,a){if(1&o&&(t.j41(0,"div",42)(1,"div",43)(2,"mat-icon"),t.EFF(3,"person"),t.k0s()(),t.j41(4,"div",44)(5,"span",45),t.EFF(6),t.k0s(),t.j41(7,"span",46),t.EFF(8),t.k0s()(),t.j41(9,"div",47)(10,"button",48)(11,"mat-icon"),t.EFF(12,"visibility"),t.k0s()()()()),2&o){const e=a.$implicit;t.R7$(6),t.JRh(e.fullName),t.R7$(2),t.JRh(e.role),t.R7$(2),t.Y8G("routerLink",t.eq3(3,ce,e.id))}}function de(o,a){if(1&o&&(t.j41(0,"mat-card",39)(1,"mat-card-header")(2,"mat-card-title"),t.EFF(3),t.k0s()(),t.j41(4,"mat-card-content")(5,"div",40),t.DNE(6,le,13,5,"div",41),t.k0s()()()),2&o){const e=t.XpG(2);t.R7$(3),t.SpI("Team Members (",e.subordinates.length,")"),t.R7$(3),t.Y8G("ngForOf",e.subordinates)}}function ue(o,a){if(1&o){const e=t.RV6();t.j41(0,"div",8)(1,"mat-card",9)(2,"mat-card-content")(3,"div",10)(4,"div",11)(5,"mat-icon",12),t.EFF(6,"person"),t.k0s()(),t.j41(7,"div",13)(8,"h3"),t.EFF(9),t.k0s(),t.j41(10,"p",14),t.EFF(11),t.k0s(),t.j41(12,"mat-chip-set")(13,"mat-chip",15),t.EFF(14),t.k0s(),t.j41(15,"mat-chip",15),t.EFF(16),t.k0s()()(),t.j41(17,"div",16)(18,"button",17)(19,"mat-icon"),t.EFF(20,"more_vert"),t.k0s()(),t.j41(21,"mat-menu",null,18)(23,"button",19),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.editUser())}),t.j41(24,"mat-icon"),t.EFF(25,"edit"),t.k0s(),t.EFF(26," Edit User "),t.k0s(),t.j41(27,"button",19),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.toggleUserStatus())}),t.j41(28,"mat-icon"),t.EFF(29),t.k0s(),t.EFF(30),t.k0s(),t.j41(31,"button",19),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.resetPassword())}),t.j41(32,"mat-icon"),t.EFF(33,"lock_reset"),t.k0s(),t.EFF(34," Reset Password "),t.k0s(),t.nrm(35,"mat-divider"),t.DNE(36,Zt,4,0,"button",20),t.DNE(37,te,4,0,"button",20),t.nrm(38,"mat-divider"),t.j41(39,"button",21),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.deleteUser())}),t.j41(40,"mat-icon"),t.EFF(41,"delete"),t.k0s(),t.EFF(42," Delete User "),t.k0s()()()()()(),t.j41(43,"div",22)(44,"mat-card",23)(45,"mat-card-header")(46,"mat-card-title"),t.EFF(47,"Personal Information"),t.k0s()(),t.j41(48,"mat-card-content")(49,"div",24)(50,"div",25)(51,"span",26),t.EFF(52,"Full Name:"),t.k0s(),t.j41(53,"span",27),t.EFF(54),t.k0s()(),t.j41(55,"div",25)(56,"span",26),t.EFF(57,"Email:"),t.k0s(),t.j41(58,"span",27),t.EFF(59),t.k0s(),t.j41(60,"mat-icon",28),t.EFF(61),t.k0s()(),t.DNE(62,ee,7,4,"div",29),t.DNE(63,ne,5,1,"div",29),t.DNE(64,oe,5,1,"div",29),t.k0s()()(),t.j41(65,"mat-card",23)(66,"mat-card-header")(67,"mat-card-title"),t.EFF(68,"Security Settings"),t.k0s()(),t.j41(69,"mat-card-content")(70,"div",30)(71,"div",31)(72,"mat-icon"),t.EFF(73,"security"),t.k0s(),t.j41(74,"div",32)(75,"span",33),t.EFF(76,"Two-Factor Authentication"),t.k0s(),t.j41(77,"span",34),t.EFF(78),t.k0s()()(),t.j41(79,"div",31)(80,"mat-icon"),t.EFF(81,"lock"),t.k0s(),t.j41(82,"div",32)(83,"span",33),t.EFF(84,"Password Change"),t.k0s(),t.j41(85,"span",34),t.EFF(86),t.k0s()()(),t.DNE(87,re,9,4,"div",35),t.DNE(88,ie,8,0,"div",35),t.k0s()()(),t.j41(89,"mat-card",23)(90,"mat-card-header")(91,"mat-card-title"),t.EFF(92,"Activity Information"),t.k0s()(),t.j41(93,"mat-card-content")(94,"div",24)(95,"div",25)(96,"span",26),t.EFF(97,"Created At:"),t.k0s(),t.j41(98,"span",27),t.EFF(99),t.nI1(100,"date"),t.k0s()(),t.DNE(101,ae,6,4,"div",29),t.DNE(102,se,6,4,"div",29),t.k0s()()()(),t.DNE(103,de,7,2,"mat-card",36),t.k0s()}if(2&o){const e=t.sdS(22),n=t.XpG();t.R7$(9),t.JRh(n.user.fullName),t.R7$(2),t.SpI("@",n.user.username,""),t.R7$(2),t.Y8G("color",n.getRoleColor(n.user.role)),t.R7$(1),t.JRh(n.user.role),t.R7$(1),t.Y8G("color",n.getStatusColor(n.user.status)),t.R7$(1),t.JRh(n.user.status),t.R7$(2),t.Y8G("matMenuTriggerFor",e),t.R7$(11),t.JRh(n.user.isActive?"block":"check_circle"),t.R7$(1),t.SpI(" ",n.user.isActive?"Deactivate":"Activate"," "),t.R7$(6),t.Y8G("ngIf",!n.user.isLocked),t.R7$(1),t.Y8G("ngIf",n.user.isLocked),t.R7$(17),t.JRh(n.user.fullName),t.R7$(5),t.JRh(n.user.email),t.R7$(1),t.AVh("verified",n.user.emailVerified),t.R7$(1),t.SpI(" ",n.user.emailVerified?"verified":"cancel"," "),t.R7$(1),t.Y8G("ngIf",n.user.mobileNumber),t.R7$(1),t.Y8G("ngIf",n.user.department),t.R7$(1),t.Y8G("ngIf",n.user.designation),t.R7$(8),t.AVh("enabled",n.user.twoFactorEnabled),t.R7$(6),t.JRh(n.user.twoFactorEnabled?"Enabled":"Disabled"),t.R7$(2),t.AVh("warning",n.user.passwordChangeRequired),t.R7$(6),t.JRh(n.user.passwordChangeRequired?"Required":"Not Required"),t.R7$(1),t.Y8G("ngIf",n.user.lastLogin),t.R7$(1),t.Y8G("ngIf",n.user.isLocked),t.R7$(11),t.JRh(t.i5U(100,31,n.user.createdAt,"medium")),t.R7$(2),t.Y8G("ngIf",n.user.updatedAt),t.R7$(1),t.Y8G("ngIf",n.user.lastLogin),t.R7$(1),t.Y8G("ngIf",n.subordinates.length>0)}}let ge=(()=>{class o{constructor(e,n,r,i){this.route=e,this.router=n,this.userService=r,this.snackBar=i,this.user=null,this.loading=!1,this.subordinates=[]}ngOnInit(){const e=this.route.snapshot.paramMap.get("id");if(e){const n=parseInt(e,10);isNaN(n)?(console.error("Invalid user ID:",e),this.snackBar.open("Invalid user ID","Close",{duration:3e3}),this.router.navigate(["/users"])):this.loadUser(n)}}loadUser(e){this.loading=!0,this.userService.getUserById(e).subscribe({next:n=>{this.user=n,this.loading=!1,this.loadSubordinates(e)},error:n=>{console.error("Error loading user:",n),this.snackBar.open("Error loading user details","Close",{duration:3e3}),this.loading=!1,this.router.navigate(["/users"])}})}loadSubordinates(e){this.userService.getSubordinates(e).subscribe({next:n=>{this.subordinates=n},error:n=>{console.error("Error loading subordinates:",n)}})}goBack(){this.router.navigate(["/users"])}editUser(){this.user&&this.router.navigate(["/users",this.user.id,"edit"])}toggleUserStatus(){this.user&&this.userService.toggleUserStatus(this.user.id).subscribe({next:e=>{this.user=e,this.snackBar.open(`User ${e.isActive?"activated":"deactivated"} successfully`,"Close",{duration:3e3})},error:e=>{console.error("Error toggling user status:",e),this.snackBar.open("Error updating user status","Close",{duration:3e3})}})}resetPassword(){this.user&&confirm(`Reset password for ${this.user.fullName}?`)&&this.userService.resetPassword(this.user.id).subscribe({next:()=>{this.snackBar.open("Password reset email sent successfully","Close",{duration:3e3})},error:e=>{console.error("Error resetting password:",e),this.snackBar.open("Error resetting password","Close",{duration:3e3})}})}lockUser(){if(!this.user)return;const e=prompt("Enter reason for locking the user:");e&&this.userService.lockUser(this.user.id,e).subscribe({next:n=>{this.user=n,this.snackBar.open("User locked successfully","Close",{duration:3e3})},error:n=>{console.error("Error locking user:",n),this.snackBar.open("Error locking user","Close",{duration:3e3})}})}unlockUser(){this.user&&this.userService.unlockUser(this.user.id).subscribe({next:e=>{this.user=e,this.snackBar.open("User unlocked successfully","Close",{duration:3e3})},error:e=>{console.error("Error unlocking user:",e),this.snackBar.open("Error unlocking user","Close",{duration:3e3})}})}deleteUser(){this.user&&confirm(`Are you sure you want to delete ${this.user.fullName}? This action cannot be undone.`)&&this.userService.deleteUser(this.user.id).subscribe({next:()=>{this.snackBar.open("User deleted successfully","Close",{duration:3e3}),this.router.navigate(["/users"])},error:e=>{console.error("Error deleting user:",e),this.snackBar.open("Error deleting user","Close",{duration:3e3})}})}getRoleColor(e){switch(e){case"SUPER_ADMIN":return"warn";case"ADMIN":case"MANAGER":return"primary";case"SHOP_OWNER":return"accent";default:return""}}getStatusColor(e){switch(e){case"ACTIVE":return"primary";case"INACTIVE":case"SUSPENDED":return"warn";case"PENDING_VERIFICATION":return"accent";default:return""}}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(h.nX),t.rXU(h.Ix),t.rXU($),t.rXU(R.UG))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-user-detail"]],decls:14,vars:3,consts:[[1,"user-detail-container"],[1,"detail-header"],["mat-icon-button","",1,"back-btn",3,"click"],[1,"header-actions"],["mat-raised-button","","color","primary",3,"disabled","click"],["class","loading-container",4,"ngIf"],["class","user-content",4,"ngIf"],[1,"loading-container"],[1,"user-content"],[1,"summary-card"],[1,"user-summary"],[1,"user-avatar"],[1,"avatar-icon"],[1,"user-info"],[1,"username"],["selected","",3,"color"],[1,"user-actions"],["mat-icon-button","",1,"action-menu",3,"matMenuTriggerFor"],["userMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",1,"delete-action",3,"click"],[1,"detail-grid"],[1,"info-card"],[1,"info-grid"],[1,"info-item"],[1,"label"],[1,"value"],[1,"status-icon"],["class","info-item",4,"ngIf"],[1,"security-grid"],[1,"security-item"],[1,"security-info"],[1,"security-title"],[1,"security-status"],["class","security-item",4,"ngIf"],["class","subordinates-card",4,"ngIf"],[1,"warning"],[1,"security-status","warning"],[1,"subordinates-card"],[1,"subordinates-grid"],["class","subordinate-item",4,"ngFor","ngForOf"],[1,"subordinate-item"],[1,"subordinate-avatar"],[1,"subordinate-info"],[1,"subordinate-name"],[1,"subordinate-role"],[1,"subordinate-actions"],["mat-icon-button","",3,"routerLink"]],template:function(n,r){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"button",2),t.bIt("click",function(){return r.goBack()}),t.j41(3,"mat-icon"),t.EFF(4,"arrow_back"),t.k0s()(),t.j41(5,"h2"),t.EFF(6,"User Details"),t.k0s(),t.j41(7,"div",3)(8,"button",4),t.bIt("click",function(){return r.editUser()}),t.j41(9,"mat-icon"),t.EFF(10,"edit"),t.k0s(),t.EFF(11," Edit User "),t.k0s()()(),t.DNE(12,Qt,4,0,"div",5),t.DNE(13,ue,104,34,"div",6),t.k0s()),2&n&&(t.R7$(8),t.Y8G("disabled",!r.user),t.R7$(4),t.Y8G("ngIf",r.loading),t.R7$(1),t.Y8G("ngIf",r.user&&!r.loading))},dependencies:[f.Sq,f.bT,h.Wk,P.$z,P.iY,F.An,O.RN,O.m2,O.MM,O.dh,I.Jl,I.Jo,y.LG,E.kk,E.fb,E.Cp,U.q,f.vh],styles:[".user-detail-container[_ngcontent-%COMP%]{padding:24px;max-width:1200px;margin:0 auto}.user-detail-container[_ngcontent-%COMP%]   .detail-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:24px}.user-detail-container[_ngcontent-%COMP%]   .detail-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{color:#1976d2;margin-right:16px}.user-detail-container[_ngcontent-%COMP%]   .detail-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333;font-weight:500;flex:1}.user-detail-container[_ngcontent-%COMP%]   .detail-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.user-detail-container[_ngcontent-%COMP%]   .detail-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:120px}.user-detail-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px;gap:16px}.user-detail-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{margin-bottom:24px}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .user-summary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:24px}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .user-summary[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:linear-gradient(45deg,#1976d2,#42a5f5);display:flex;align-items:center;justify-content:center}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .user-summary[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   .avatar-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px;color:#fff}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .user-summary[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:1}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .user-summary[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#333;font-weight:500;font-size:24px}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .user-summary[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{margin:0 0 12px;color:#666;font-size:16px}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .user-summary[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   mat-chip-set[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{margin-right:8px}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .user-summary[_ngcontent-%COMP%]   .user-actions[_ngcontent-%COMP%]   .action-menu[_ngcontent-%COMP%]{color:#666}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:24px;margin-bottom:24px}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#333;font-weight:500;font-size:18px}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 0;border-bottom:1px solid #f0f0f0}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:500;color:#666;min-width:120px}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#333;flex:1}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#f44336}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .status-icon.verified[_ngcontent-%COMP%]{color:#4caf50}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .security-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .security-grid[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px;background:#f8f9fa;border-radius:8px;border:1px solid #e9ecef}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .security-grid[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px;color:#666}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .security-grid[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   mat-icon.enabled[_ngcontent-%COMP%]{color:#4caf50}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .security-grid[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   mat-icon.warning[_ngcontent-%COMP%]{color:#ff9800}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .security-grid[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .security-info[_ngcontent-%COMP%]{flex:1}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .security-grid[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .security-info[_ngcontent-%COMP%]   .security-title[_ngcontent-%COMP%]{display:block;font-weight:500;color:#333;margin-bottom:4px}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .security-grid[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .security-info[_ngcontent-%COMP%]   .security-status[_ngcontent-%COMP%]{display:block;color:#666;font-size:14px}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .security-grid[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .security-info[_ngcontent-%COMP%]   .security-status.warning[_ngcontent-%COMP%]{color:#ff9800;font-weight:500}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .subordinates-card[_ngcontent-%COMP%]   .subordinates-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:16px}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .subordinates-card[_ngcontent-%COMP%]   .subordinates-grid[_ngcontent-%COMP%]   .subordinate-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px;background:#f8f9fa;border-radius:8px;border:1px solid #e9ecef}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .subordinates-card[_ngcontent-%COMP%]   .subordinates-grid[_ngcontent-%COMP%]   .subordinate-item[_ngcontent-%COMP%]   .subordinate-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(45deg,#42a5f5,#1976d2);display:flex;align-items:center;justify-content:center}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .subordinates-card[_ngcontent-%COMP%]   .subordinates-grid[_ngcontent-%COMP%]   .subordinate-item[_ngcontent-%COMP%]   .subordinate-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:20px;width:20px;height:20px}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .subordinates-card[_ngcontent-%COMP%]   .subordinates-grid[_ngcontent-%COMP%]   .subordinate-item[_ngcontent-%COMP%]   .subordinate-info[_ngcontent-%COMP%]{flex:1}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .subordinates-card[_ngcontent-%COMP%]   .subordinates-grid[_ngcontent-%COMP%]   .subordinate-item[_ngcontent-%COMP%]   .subordinate-info[_ngcontent-%COMP%]   .subordinate-name[_ngcontent-%COMP%]{display:block;font-weight:500;color:#333;margin-bottom:4px}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .subordinates-card[_ngcontent-%COMP%]   .subordinates-grid[_ngcontent-%COMP%]   .subordinate-item[_ngcontent-%COMP%]   .subordinate-info[_ngcontent-%COMP%]   .subordinate-role[_ngcontent-%COMP%]{display:block;color:#666;font-size:14px}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .subordinates-card[_ngcontent-%COMP%]   .subordinates-grid[_ngcontent-%COMP%]   .subordinate-item[_ngcontent-%COMP%]   .subordinate-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#1976d2}.delete-action[_ngcontent-%COMP%]{color:#f44336!important}.delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336!important}@media (max-width: 768px){.user-detail-container[_ngcontent-%COMP%]{padding:16px}.user-detail-container[_ngcontent-%COMP%]   .detail-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.user-detail-container[_ngcontent-%COMP%]   .detail-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .user-summary[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:16px}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.user-detail-container[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .subordinates-card[_ngcontent-%COMP%]   .subordinates-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}mat-chip[color=primary][_ngcontent-%COMP%]{background-color:#1976d2;color:#fff}mat-chip[color=accent][_ngcontent-%COMP%]{background-color:#ff4081;color:#fff}mat-chip[color=warn][_ngcontent-%COMP%]{background-color:#f44336;color:#fff}"]})}}return o})();var me=l(272),pe=l(8773);function _e(o,a){if(1&o){const e=t.RV6();t.j41(0,"div",34)(1,"button",35),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.goBack())}),t.j41(2,"mat-icon"),t.EFF(3,"arrow_back"),t.k0s()(),t.j41(4,"div",36)(5,"h2"),t.EFF(6,"Document Management"),t.k0s(),t.j41(7,"p",37),t.EFF(8,"Manage delivery partner documents"),t.k0s()()()}}function fe(o,a){1&o&&(t.j41(0,"h3"),t.EFF(1,"\u{1f69a} Delivery Partner Documents"),t.k0s())}function Ce(o,a){1&o&&(t.j41(0,"p",37),t.EFF(1,"Upload required documents for driver verification"),t.k0s())}function Pe(o,a){1&o&&(t.j41(0,"div",38)(1,"mat-icon"),t.EFF(2,"cloud_upload"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Click to upload driver photo"),t.k0s(),t.j41(5,"small"),t.EFF(6,"JPG, PNG (Max 5MB)"),t.k0s()())}function he(o,a){if(1&o&&(t.j41(0,"div",39)(1,"mat-icon",40),t.EFF(2,"check_circle"),t.k0s(),t.j41(3,"span"),t.EFF(4),t.k0s(),t.j41(5,"small"),t.EFF(6),t.k0s()()),2&o){const e=t.XpG();t.R7$(4),t.JRh(e.driverPhoto.name),t.R7$(2),t.JRh(e.formatFileSize(e.driverPhoto.size))}}function Oe(o,a){1&o&&(t.j41(0,"mat-icon"),t.EFF(1,"upload"),t.k0s())}function Me(o,a){1&o&&t.nrm(0,"mat-progress-spinner",41)}function be(o,a){if(1&o&&(t.j41(0,"div",42)(1,"mat-icon"),t.EFF(2),t.k0s(),t.j41(3,"span"),t.EFF(4),t.k0s()()),2&o){const e=t.XpG();t.R7$(1),t.HbH(e.getStatusClass(e.uploadStatus.DRIVER_PHOTO)),t.R7$(1),t.SpI(" ",e.getStatusIcon(e.uploadStatus.DRIVER_PHOTO)," "),t.R7$(2),t.JRh(e.getStatusText(e.uploadStatus.DRIVER_PHOTO))}}function ve(o,a){1&o&&(t.j41(0,"div",38)(1,"mat-icon"),t.EFF(2,"cloud_upload"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Front side"),t.k0s()())}function Ee(o,a){if(1&o&&(t.j41(0,"div",39)(1,"mat-icon",40),t.EFF(2,"check_circle"),t.k0s(),t.j41(3,"span"),t.EFF(4),t.k0s()()),2&o){const e=t.XpG();t.R7$(4),t.JRh(e.licenseFront.name)}}function ke(o,a){1&o&&(t.j41(0,"div",38)(1,"mat-icon"),t.EFF(2,"cloud_upload"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Back side"),t.k0s()())}function xe(o,a){if(1&o&&(t.j41(0,"div",39)(1,"mat-icon",40),t.EFF(2,"check_circle"),t.k0s(),t.j41(3,"span"),t.EFF(4),t.k0s()()),2&o){const e=t.XpG();t.R7$(4),t.JRh(e.licenseBack.name)}}function Fe(o,a){1&o&&(t.j41(0,"mat-icon"),t.EFF(1,"upload"),t.k0s())}function De(o,a){1&o&&t.nrm(0,"mat-progress-spinner",41)}function Ie(o,a){if(1&o&&(t.j41(0,"div",42)(1,"mat-icon"),t.EFF(2),t.k0s(),t.j41(3,"span"),t.EFF(4),t.k0s()()),2&o){const e=t.XpG();t.R7$(1),t.HbH(e.getStatusClass(e.uploadStatus.DRIVING_LICENSE)),t.R7$(1),t.SpI(" ",e.getStatusIcon(e.uploadStatus.DRIVING_LICENSE)," "),t.R7$(2),t.JRh(e.getStatusText(e.uploadStatus.DRIVING_LICENSE))}}function Re(o,a){1&o&&(t.j41(0,"div",38)(1,"mat-icon"),t.EFF(2,"cloud_upload"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Click to upload vehicle photo"),t.k0s(),t.j41(5,"small"),t.EFF(6,"JPG, PNG (Max 5MB)"),t.k0s()())}function ye(o,a){if(1&o&&(t.j41(0,"div",39)(1,"mat-icon",40),t.EFF(2,"check_circle"),t.k0s(),t.j41(3,"span"),t.EFF(4),t.k0s(),t.j41(5,"small"),t.EFF(6),t.k0s()()),2&o){const e=t.XpG();t.R7$(4),t.JRh(e.vehiclePhoto.name),t.R7$(2),t.JRh(e.formatFileSize(e.vehiclePhoto.size))}}function we(o,a){1&o&&(t.j41(0,"mat-icon"),t.EFF(1,"upload"),t.k0s())}function Ne(o,a){1&o&&t.nrm(0,"mat-progress-spinner",41)}function je(o,a){if(1&o&&(t.j41(0,"div",42)(1,"mat-icon"),t.EFF(2),t.k0s(),t.j41(3,"span"),t.EFF(4),t.k0s()()),2&o){const e=t.XpG();t.R7$(1),t.HbH(e.getStatusClass(e.uploadStatus.VEHICLE_PHOTO)),t.R7$(1),t.SpI(" ",e.getStatusIcon(e.uploadStatus.VEHICLE_PHOTO)," "),t.R7$(2),t.JRh(e.getStatusText(e.uploadStatus.VEHICLE_PHOTO))}}function Se(o,a){1&o&&(t.j41(0,"div",38)(1,"mat-icon"),t.EFF(2,"cloud_upload"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Click to upload RC book"),t.k0s(),t.j41(5,"small"),t.EFF(6,"JPG, PNG, PDF (Max 5MB)"),t.k0s()())}function Te(o,a){if(1&o&&(t.j41(0,"div",39)(1,"mat-icon",40),t.EFF(2,"check_circle"),t.k0s(),t.j41(3,"span"),t.EFF(4),t.k0s(),t.j41(5,"small"),t.EFF(6),t.k0s()()),2&o){const e=t.XpG();t.R7$(4),t.JRh(e.rcBook.name),t.R7$(2),t.JRh(e.formatFileSize(e.rcBook.size))}}function Ue(o,a){1&o&&(t.j41(0,"mat-icon"),t.EFF(1,"upload"),t.k0s())}function $e(o,a){1&o&&t.nrm(0,"mat-progress-spinner",41)}function Ve(o,a){if(1&o&&(t.j41(0,"div",42)(1,"mat-icon"),t.EFF(2),t.k0s(),t.j41(3,"span"),t.EFF(4),t.k0s()()),2&o){const e=t.XpG();t.R7$(1),t.HbH(e.getStatusClass(e.uploadStatus.RC_BOOK)),t.R7$(1),t.SpI(" ",e.getStatusIcon(e.uploadStatus.RC_BOOK)," "),t.R7$(2),t.JRh(e.getStatusText(e.uploadStatus.RC_BOOK))}}function Ge(o,a){1&o&&(t.j41(0,"div",43)(1,"mat-icon",44),t.EFF(2,"verified"),t.k0s(),t.j41(3,"h5"),t.EFF(4,"All Documents Uploaded!"),t.k0s(),t.j41(5,"p"),t.EFF(6,"Your documents are under review. You'll be notified once verification is complete."),t.k0s()())}let H=(()=>{class o{constructor(e,n,r,i){this.documentService=e,this.deliveryPartnerService=n,this.route=r,this.router=i,this.partnerId=null,this.readonly=!1,this.isAdmin=!1,this.documentsChanged=new t.bkB,this.routePartnerId=null,this.driverPhoto=null,this.licenseFront=null,this.licenseBack=null,this.vehiclePhoto=null,this.rcBook=null,this.licenseNumber="",this.vehicleNumber="",this.uploading={DRIVER_PHOTO:!1,DRIVING_LICENSE:!1,VEHICLE_PHOTO:!1,RC_BOOK:!1},this.uploadStatus={DRIVER_PHOTO:"",DRIVING_LICENSE:"",VEHICLE_PHOTO:"",RC_BOOK:""},this.documents=[]}ngOnInit(){const e=this.route.snapshot.paramMap.get("id");e&&(this.routePartnerId=parseInt(e,10),this.isAdmin=!0),this.loadExistingDocuments()}loadExistingDocuments(){const e=this.partnerId||this.routePartnerId;e&&this.deliveryPartnerService.getPartnerDocuments(e).subscribe({next:n=>{this.documents=n.data||[],this.updateUploadStatus()},error:n=>{console.error("Error loading documents for partner:",e,n)}})}updateUploadStatus(){this.documents.forEach(e=>{"DRIVER_PHOTO"===e.documentType?this.uploadStatus.DRIVER_PHOTO="success":"DRIVING_LICENSE"===e.documentType?(this.uploadStatus.DRIVING_LICENSE="success",this.licenseNumber=e.licenseNumber||""):"VEHICLE_PHOTO"===e.documentType?(this.uploadStatus.VEHICLE_PHOTO="success",this.vehicleNumber=e.vehicleNumber||""):"RC_BOOK"===e.documentType&&(this.uploadStatus.RC_BOOK="success")})}onFileSelected(e,n){const r=e.target.files[0];if(r&&this.validateFile(r,n))switch(n){case"DRIVER_PHOTO":this.driverPhoto=r,this.uploadStatus.DRIVER_PHOTO="";break;case"LICENSE_FRONT":this.licenseFront=r;break;case"LICENSE_BACK":this.licenseBack=r;break;case"VEHICLE_PHOTO":this.vehiclePhoto=r,this.uploadStatus.VEHICLE_PHOTO="";break;case"RC_BOOK":this.rcBook=r,this.uploadStatus.RC_BOOK=""}}validateFile(e,n){return!(e.size>5242880&&(v().fire({title:"File Too Large",text:"File size must be less than 5MB",icon:"error"}),1))}canUploadLicense(){return!!(this.licenseFront&&this.licenseBack&&this.licenseNumber.trim())}canUploadVehicle(){return!(!this.vehiclePhoto||!this.vehicleNumber.trim())}uploadDocument(e,n){const r=this.partnerId||this.routePartnerId;if(!n||!r)return;const c=k.uM[e],s=this.getDisplayName(e);this.uploading[e]=!0,this.deliveryPartnerService.uploadPartnerDocument(r,c,s,n).subscribe({next:g=>{"progress"===g.type||"complete"===g.type&&(this.uploading[e]=!1,this.uploadStatus[e]="success",v().fire({title:"Success!",text:`${s} uploaded successfully`,icon:"success",timer:2e3}),this.documentsChanged.emit())},error:g=>{this.uploading[e]=!1,this.uploadStatus[e]="error",v().fire({title:"Upload Failed",text:`Failed to upload ${s}. Please try again.`,icon:"error"})}})}uploadLicenseDocuments(){if(!this.canUploadLicense())return;const e=this.partnerId||this.routePartnerId;e&&(this.uploading.DRIVING_LICENSE=!0,this.deliveryPartnerService.uploadPartnerDocument(e,k.uM.DRIVING_LICENSE,"Driving License",this.licenseFront,{licenseNumber:this.licenseNumber}).subscribe({next:r=>{"complete"===r.type&&(this.uploading.DRIVING_LICENSE=!1,this.uploadStatus.DRIVING_LICENSE="success",v().fire({title:"Success!",text:"Driving license documents uploaded successfully",icon:"success",timer:2e3}),this.documentsChanged.emit())},error:r=>{this.uploading.DRIVING_LICENSE=!1,this.uploadStatus.DRIVING_LICENSE="error",v().fire({title:"Upload Failed",text:"Failed to upload driving license documents. Please try again.",icon:"error"})}}))}uploadVehicleDocument(){if(!this.canUploadVehicle())return;const e=this.partnerId||this.routePartnerId;e&&(this.uploading.VEHICLE_PHOTO=!0,this.deliveryPartnerService.uploadPartnerDocument(e,k.uM.VEHICLE_PHOTO,"Vehicle Photo",this.vehiclePhoto,{vehicleNumber:this.vehicleNumber}).subscribe({next:r=>{"complete"===r.type&&(this.uploading.VEHICLE_PHOTO=!1,this.uploadStatus.VEHICLE_PHOTO="success",v().fire({title:"Success!",text:"Vehicle photo and details uploaded successfully",icon:"success",timer:2e3}),this.documentsChanged.emit())},error:r=>{this.uploading.VEHICLE_PHOTO=!1,this.uploadStatus.VEHICLE_PHOTO="error",v().fire({title:"Upload Failed",text:"Failed to upload vehicle document. Please try again.",icon:"error"})}}))}getDisplayName(e){switch(e){case"DRIVER_PHOTO":return"Driver Photo";case"DRIVING_LICENSE":return"Driving License";case"VEHICLE_PHOTO":return"Vehicle Photo";case"RC_BOOK":return"RC Book";default:return e}}hasDocument(e){return"success"===this.uploadStatus[e]}getUploadedCount(){let e=0;return"success"===this.uploadStatus.DRIVER_PHOTO&&e++,"success"===this.uploadStatus.DRIVING_LICENSE&&e++,"success"===this.uploadStatus.VEHICLE_PHOTO&&e++,"success"===this.uploadStatus.RC_BOOK&&e++,e}getProgressPercentage(){return this.getUploadedCount()/4*100}isAllDocumentsUploaded(){return 4===this.getUploadedCount()}getStatusClass(e){switch(e){case"success":return"success";case"error":return"error";default:return"pending"}}getStatusIcon(e){switch(e){case"success":return"check_circle";case"error":return"error";default:return"pending"}}getStatusText(e){switch(e){case"success":return"Uploaded Successfully";case"error":return"Upload Failed";default:return"Upload Pending"}}formatFileSize(e){if(0===e)return"0 Bytes";const i=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,i)).toFixed(2))+" "+["Bytes","KB","MB","GB"][i]}goBack(){this.router.navigate(["/users"])}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(pe.D),t.rXU(k.WS),t.rXU(h.nX),t.rXU(h.Ix))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-delivery-partner-documents"]],inputs:{partnerId:"partnerId",readonly:"readonly",isAdmin:"isAdmin"},outputs:{documentsChanged:"documentsChanged"},decls:124,vars:62,consts:[[1,"delivery-documents-container"],["class","route-header",4,"ngIf"],[1,"header"],[4,"ngIf"],["class","subtitle",4,"ngIf"],[1,"documents-grid"],[1,"document-upload-card"],[1,"document-header"],[1,"document-icon"],[1,"upload-zone",3,"click"],["type","file","accept",".jpg,.jpeg,.png",2,"display","none",3,"change"],["driverPhotoInput",""],["class","upload-placeholder",4,"ngIf"],["class","file-preview",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click"],["diameter","20",4,"ngIf"],["class","upload-status",4,"ngIf"],[1,"license-upload-section"],[1,"license-side"],[1,"upload-zone","small",3,"click"],["type","file","accept",".jpg,.jpeg,.png,.pdf",2,"display","none",3,"change"],["licenseFrontInput",""],["licenseBackInput",""],["appearance","outline",1,"license-number-field"],["matInput","","placeholder","Enter license number",3,"ngModel","ngModelChange"],["vehiclePhotoInput",""],["appearance","outline",1,"vehicle-number-field"],["matInput","","placeholder","Enter vehicle number (e.g., TN01AB1234)",3,"ngModel","ngModelChange"],["rcBookInput",""],[1,"upload-summary"],["mode","determinate",3,"value"],[1,"verification-checklist"],[1,"checklist-item"],["class","completion-status",4,"ngIf"],[1,"route-header"],["mat-icon-button","",1,"back-btn",3,"click"],[1,"header-title"],[1,"subtitle"],[1,"upload-placeholder"],[1,"file-preview"],[1,"success-icon"],["diameter","20"],[1,"upload-status"],[1,"completion-status"],[1,"success"]],template:function(n,r){if(1&n){const i=t.RV6();t.j41(0,"div",0),t.DNE(1,_e,9,0,"div",1),t.j41(2,"div",2),t.DNE(3,fe,2,0,"h3",3),t.DNE(4,Ce,2,0,"p",4),t.k0s(),t.j41(5,"div",5)(6,"div",6)(7,"div",7)(8,"mat-icon",8),t.EFF(9,"person"),t.k0s(),t.j41(10,"h4"),t.EFF(11,"\u{1f464} Driver Photo"),t.k0s(),t.j41(12,"p"),t.EFF(13,"Upload clear photo of delivery partner"),t.k0s()(),t.j41(14,"div",9),t.bIt("click",function(){t.eBV(i);const s=t.sdS(16);return t.Njj(s.click())}),t.j41(15,"input",10,11),t.bIt("change",function(s){return r.onFileSelected(s,"DRIVER_PHOTO")}),t.k0s(),t.DNE(17,Pe,7,0,"div",12),t.DNE(18,he,7,2,"div",13),t.k0s(),t.j41(19,"button",14),t.bIt("click",function(){return r.uploadDocument("DRIVER_PHOTO",r.driverPhoto)}),t.DNE(20,Oe,2,0,"mat-icon",3),t.DNE(21,Me,1,0,"mat-progress-spinner",15),t.EFF(22),t.k0s(),t.DNE(23,be,5,4,"div",16),t.k0s(),t.j41(24,"div",6)(25,"div",7)(26,"mat-icon",8),t.EFF(27,"card_membership"),t.k0s(),t.j41(28,"h4"),t.EFF(29,"\u{1faaa} Driving License"),t.k0s(),t.j41(30,"p"),t.EFF(31,"Upload valid driving license (front & back)"),t.k0s()(),t.j41(32,"div",17)(33,"div",18)(34,"h5"),t.EFF(35,"License Front"),t.k0s(),t.j41(36,"div",19),t.bIt("click",function(){t.eBV(i);const s=t.sdS(38);return t.Njj(s.click())}),t.j41(37,"input",20,21),t.bIt("change",function(s){return r.onFileSelected(s,"LICENSE_FRONT")}),t.k0s(),t.DNE(39,ve,5,0,"div",12),t.DNE(40,Ee,5,1,"div",13),t.k0s()(),t.j41(41,"div",18)(42,"h5"),t.EFF(43,"License Back"),t.k0s(),t.j41(44,"div",19),t.bIt("click",function(){t.eBV(i);const s=t.sdS(46);return t.Njj(s.click())}),t.j41(45,"input",20,22),t.bIt("change",function(s){return r.onFileSelected(s,"LICENSE_BACK")}),t.k0s(),t.DNE(47,ke,5,0,"div",12),t.DNE(48,xe,5,1,"div",13),t.k0s()()(),t.j41(49,"mat-form-field",23)(50,"mat-label"),t.EFF(51,"License Number"),t.k0s(),t.j41(52,"input",24),t.bIt("ngModelChange",function(s){return r.licenseNumber=s}),t.k0s()(),t.j41(53,"button",14),t.bIt("click",function(){return r.uploadLicenseDocuments()}),t.DNE(54,Fe,2,0,"mat-icon",3),t.DNE(55,De,1,0,"mat-progress-spinner",15),t.EFF(56),t.k0s(),t.DNE(57,Ie,5,4,"div",16),t.k0s(),t.j41(58,"div",6)(59,"div",7)(60,"mat-icon",8),t.EFF(61,"motorcycle"),t.k0s(),t.j41(62,"h4"),t.EFF(63,"\u{1f3cd}\ufe0f Vehicle Photo"),t.k0s(),t.j41(64,"p"),t.EFF(65,"Upload clear photo of delivery vehicle"),t.k0s()(),t.j41(66,"div",9),t.bIt("click",function(){t.eBV(i);const s=t.sdS(68);return t.Njj(s.click())}),t.j41(67,"input",10,25),t.bIt("change",function(s){return r.onFileSelected(s,"VEHICLE_PHOTO")}),t.k0s(),t.DNE(69,Re,7,0,"div",12),t.DNE(70,ye,7,2,"div",13),t.k0s(),t.j41(71,"mat-form-field",26)(72,"mat-label"),t.EFF(73,"Vehicle Number"),t.k0s(),t.j41(74,"input",27),t.bIt("ngModelChange",function(s){return r.vehicleNumber=s}),t.k0s()(),t.j41(75,"button",14),t.bIt("click",function(){return r.uploadVehicleDocument()}),t.DNE(76,we,2,0,"mat-icon",3),t.DNE(77,Ne,1,0,"mat-progress-spinner",15),t.EFF(78),t.k0s(),t.DNE(79,je,5,4,"div",16),t.k0s(),t.j41(80,"div",6)(81,"div",7)(82,"mat-icon",8),t.EFF(83,"description"),t.k0s(),t.j41(84,"h4"),t.EFF(85,"\u{1f4c4} RC Book"),t.k0s(),t.j41(86,"p"),t.EFF(87,"Upload vehicle registration certificate"),t.k0s()(),t.j41(88,"div",9),t.bIt("click",function(){t.eBV(i);const s=t.sdS(90);return t.Njj(s.click())}),t.j41(89,"input",20,28),t.bIt("change",function(s){return r.onFileSelected(s,"RC_BOOK")}),t.k0s(),t.DNE(91,Se,7,0,"div",12),t.DNE(92,Te,7,2,"div",13),t.k0s(),t.j41(93,"button",14),t.bIt("click",function(){return r.uploadDocument("RC_BOOK",r.rcBook)}),t.DNE(94,Ue,2,0,"mat-icon",3),t.DNE(95,$e,1,0,"mat-progress-spinner",15),t.EFF(96),t.k0s(),t.DNE(97,Ve,5,4,"div",16),t.k0s()(),t.j41(98,"div",29)(99,"h4"),t.EFF(100),t.k0s(),t.nrm(101,"mat-progress-bar",30),t.j41(102,"div",31)(103,"div",32)(104,"mat-icon"),t.EFF(105),t.k0s(),t.j41(106,"span"),t.EFF(107,"Driver Photo"),t.k0s()(),t.j41(108,"div",32)(109,"mat-icon"),t.EFF(110),t.k0s(),t.j41(111,"span"),t.EFF(112,"Driving License"),t.k0s()(),t.j41(113,"div",32)(114,"mat-icon"),t.EFF(115),t.k0s(),t.j41(116,"span"),t.EFF(117,"Vehicle Photo & Number"),t.k0s()(),t.j41(118,"div",32)(119,"mat-icon"),t.EFF(120),t.k0s(),t.j41(121,"span"),t.EFF(122,"RC Book"),t.k0s()()(),t.DNE(123,Ge,7,0,"div",33),t.k0s()()}2&n&&(t.R7$(1),t.Y8G("ngIf",r.routePartnerId),t.R7$(1),t.AVh("embedded",r.routePartnerId),t.R7$(1),t.Y8G("ngIf",!r.routePartnerId),t.R7$(1),t.Y8G("ngIf",!r.routePartnerId),t.R7$(10),t.AVh("has-file",r.driverPhoto),t.R7$(3),t.Y8G("ngIf",!r.driverPhoto),t.R7$(1),t.Y8G("ngIf",r.driverPhoto),t.R7$(1),t.Y8G("disabled",!r.driverPhoto||r.uploading.DRIVER_PHOTO),t.R7$(1),t.Y8G("ngIf",!r.uploading.DRIVER_PHOTO),t.R7$(1),t.Y8G("ngIf",r.uploading.DRIVER_PHOTO),t.R7$(1),t.SpI(" ",r.uploading.DRIVER_PHOTO?"Uploading...":"Upload Driver Photo"," "),t.R7$(1),t.Y8G("ngIf",r.uploadStatus.DRIVER_PHOTO),t.R7$(13),t.AVh("has-file",r.licenseFront),t.R7$(3),t.Y8G("ngIf",!r.licenseFront),t.R7$(1),t.Y8G("ngIf",r.licenseFront),t.R7$(4),t.AVh("has-file",r.licenseBack),t.R7$(3),t.Y8G("ngIf",!r.licenseBack),t.R7$(1),t.Y8G("ngIf",r.licenseBack),t.R7$(4),t.Y8G("ngModel",r.licenseNumber),t.R7$(1),t.Y8G("disabled",!r.canUploadLicense()||r.uploading.DRIVING_LICENSE),t.R7$(1),t.Y8G("ngIf",!r.uploading.DRIVING_LICENSE),t.R7$(1),t.Y8G("ngIf",r.uploading.DRIVING_LICENSE),t.R7$(1),t.SpI(" ",r.uploading.DRIVING_LICENSE?"Uploading...":"Upload License Documents"," "),t.R7$(1),t.Y8G("ngIf",r.uploadStatus.DRIVING_LICENSE),t.R7$(9),t.AVh("has-file",r.vehiclePhoto),t.R7$(3),t.Y8G("ngIf",!r.vehiclePhoto),t.R7$(1),t.Y8G("ngIf",r.vehiclePhoto),t.R7$(4),t.Y8G("ngModel",r.vehicleNumber),t.R7$(1),t.Y8G("disabled",!r.canUploadVehicle()||r.uploading.VEHICLE_PHOTO),t.R7$(1),t.Y8G("ngIf",!r.uploading.VEHICLE_PHOTO),t.R7$(1),t.Y8G("ngIf",r.uploading.VEHICLE_PHOTO),t.R7$(1),t.SpI(" ",r.uploading.VEHICLE_PHOTO?"Uploading...":"Upload Vehicle Photo"," "),t.R7$(1),t.Y8G("ngIf",r.uploadStatus.VEHICLE_PHOTO),t.R7$(9),t.AVh("has-file",r.rcBook),t.R7$(3),t.Y8G("ngIf",!r.rcBook),t.R7$(1),t.Y8G("ngIf",r.rcBook),t.R7$(1),t.Y8G("disabled",!r.rcBook||r.uploading.RC_BOOK),t.R7$(1),t.Y8G("ngIf",!r.uploading.RC_BOOK),t.R7$(1),t.Y8G("ngIf",r.uploading.RC_BOOK),t.R7$(1),t.SpI(" ",r.uploading.RC_BOOK?"Uploading...":"Upload RC Book"," "),t.R7$(1),t.Y8G("ngIf",r.uploadStatus.RC_BOOK),t.R7$(3),t.SpI("Document Verification Progress: ",r.getUploadedCount(),"/4 Documents"),t.R7$(1),t.Y8G("value",r.getProgressPercentage()),t.R7$(2),t.HbH(r.hasDocument("DRIVER_PHOTO")?"completed":"pending"),t.R7$(2),t.JRh(r.hasDocument("DRIVER_PHOTO")?"check_circle":"radio_button_unchecked"),t.R7$(3),t.HbH(r.hasDocument("DRIVING_LICENSE")?"completed":"pending"),t.R7$(2),t.JRh(r.hasDocument("DRIVING_LICENSE")?"check_circle":"radio_button_unchecked"),t.R7$(3),t.HbH(r.hasDocument("VEHICLE_PHOTO")?"completed":"pending"),t.R7$(2),t.JRh(r.hasDocument("VEHICLE_PHOTO")?"check_circle":"radio_button_unchecked"),t.R7$(3),t.HbH(r.hasDocument("RC_BOOK")?"completed":"pending"),t.R7$(2),t.JRh(r.hasDocument("RC_BOOK")?"check_circle":"radio_button_unchecked"),t.R7$(3),t.Y8G("ngIf",r.isAllDocumentsUploaded()))},dependencies:[f.bT,u.me,u.BC,u.vS,P.$z,P.iY,M.rl,M.nJ,N.fg,F.An,y.LG,Y.HM],styles:[".delivery-documents-container[_ngcontent-%COMP%]{padding:24px}.route-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:24px;padding:20px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);border-radius:16px;color:#fff;box-shadow:0 4px 20px #0000001a}.back-btn[_ngcontent-%COMP%]{color:#fff;background:rgba(255,255,255,.1);border-radius:50%;transition:all .3s ease}.back-btn[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.2);transform:scale(1.1)}.header-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 4px;font-size:24px;font-weight:600}.header-title[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0;font-size:14px;opacity:.9}.header.embedded[_ngcontent-%COMP%]{display:none}.header[_ngcontent-%COMP%]{margin-bottom:24px;text-align:center}.header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#1976d2;font-size:24px}.subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:16px}.documents-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:24px;margin-bottom:32px}.document-upload-card[_ngcontent-%COMP%]{background:white;border:2px solid #e0e0e0;border-radius:12px;padding:20px;text-align:center;transition:all .3s ease;box-shadow:0 2px 4px #0000001a}.document-upload-card[_ngcontent-%COMP%]:hover{border-color:#1976d2;box-shadow:0 4px 12px #1976d226}.document-header[_ngcontent-%COMP%]{margin-bottom:20px}.document-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#1976d2;margin-bottom:12px}.document-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;color:#333;font-size:18px;font-weight:600}.document-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:14px}.upload-zone[_ngcontent-%COMP%]{border:2px dashed #ccc;border-radius:8px;padding:30px 20px;margin-bottom:20px;cursor:pointer;transition:all .3s ease;min-height:120px;display:flex;align-items:center;justify-content:center}.upload-zone.small[_ngcontent-%COMP%]{padding:20px 15px;min-height:80px}.upload-zone[_ngcontent-%COMP%]:hover{border-color:#1976d2;background-color:#f5f5f5}.upload-zone.has-file[_ngcontent-%COMP%]{border-color:#4caf50;background-color:#f1f8e9}.upload-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px}.upload-placeholder[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;color:#999}.upload-placeholder[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#333;font-weight:500}.upload-placeholder[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#999;font-size:12px}.file-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:4px}.success-icon[_ngcontent-%COMP%]{color:#4caf50;font-size:32px;width:32px;height:32px}.file-preview[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#333;font-weight:500;word-break:break-all;max-width:100%;font-size:14px}.file-preview[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#666;font-size:12px}.license-upload-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}.license-side[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 8px;color:#333;font-size:14px;font-weight:600}.license-number-field[_ngcontent-%COMP%], .vehicle-number-field[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.upload-status[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;margin-top:12px;padding:8px;border-radius:4px}.upload-status[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#4caf50}.upload-status[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#f44336}.upload-status[_ngcontent-%COMP%]   .pending[_ngcontent-%COMP%]{color:#ff9800}.upload-summary[_ngcontent-%COMP%]{text-align:center;padding:24px;background:#f8f9fa;border-radius:12px;border:1px solid #e9ecef}.upload-summary[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;color:#333;font-size:18px;font-weight:600}.verification-checklist[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;margin:24px 0}.checklist-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px;border-radius:8px;background:white;border:1px solid #e0e0e0}.checklist-item.completed[_ngcontent-%COMP%]{background:#f1f8e9;border-color:#4caf50}.checklist-item.completed[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#4caf50}.checklist-item.pending[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#9ca3af}.checklist-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#333;font-weight:500}.completion-status[_ngcontent-%COMP%]{background:#e8f5e8;border:1px solid #4caf50;border-radius:8px;padding:20px;margin-top:20px}.completion-status[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#4caf50;font-size:48px;width:48px;height:48px;margin-bottom:12px}.completion-status[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 8px;color:#2e7d32;font-size:18px;font-weight:600}.completion-status[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#2e7d32;font-size:14px}button[_ngcontent-%COMP%]{width:100%;margin-bottom:12px}mat-progress-spinner[_ngcontent-%COMP%]{display:inline-block}mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}}return o})();function Le(o,a){if(1&o&&(t.j41(0,"div",7)(1,"mat-form-field",8)(2,"mat-label"),t.EFF(3,"Password *"),t.k0s(),t.nrm(4,"input",33),t.j41(5,"mat-hint"),t.EFF(6,"Minimum 8 characters with uppercase, lowercase, number and special character"),t.k0s(),t.j41(7,"mat-error"),t.EFF(8),t.k0s()()()),2&o){const e=t.XpG();t.R7$(8),t.JRh(e.getErrorMessage("password"))}}function Ae(o,a){1&o&&(t.j41(0,"div",7)(1,"mat-form-field",8)(2,"mat-label"),t.EFF(3,"New Password (leave blank to keep current)"),t.k0s(),t.nrm(4,"input",34),t.j41(5,"mat-hint"),t.EFF(6,"Leave blank to keep current password"),t.k0s()()())}function Be(o,a){if(1&o&&(t.j41(0,"mat-option",35),t.EFF(1),t.k0s()),2&o){const e=a.$implicit;t.Y8G("value",e.value),t.R7$(1),t.SpI(" ",e.label," ")}}function Ye(o,a){if(1&o&&(t.j41(0,"mat-option",35),t.EFF(1),t.k0s()),2&o){const e=a.$implicit;t.Y8G("value",e.value),t.R7$(1),t.SpI(" ",e.label," ")}}function ze(o,a){if(1&o&&(t.j41(0,"mat-option",35),t.EFF(1),t.k0s()),2&o){const e=a.$implicit;t.Y8G("value",e.id),t.R7$(1),t.Lme(" ",e.name," - ",e.city||e.addressLine1||""," ")}}function He(o,a){if(1&o&&(t.j41(0,"div",7)(1,"mat-form-field",8)(2,"mat-label"),t.EFF(3,"Assigned Shops"),t.k0s(),t.j41(4,"mat-select",36),t.DNE(5,ze,2,3,"mat-option",17),t.k0s(),t.j41(6,"mat-hint"),t.EFF(7,"Select shops this driver will serve (e.g., all Mittur shops)"),t.k0s()()()),2&o){const e=t.XpG();t.R7$(5),t.Y8G("ngForOf",e.shops)}}function Xe(o,a){if(1&o&&(t.j41(0,"mat-option",35),t.EFF(1),t.k0s()),2&o){const e=a.$implicit;t.Y8G("value",e),t.R7$(1),t.SpI(" ",e," ")}}function Je(o,a){1&o&&t.nrm(0,"mat-spinner",37)}function We(o,a){if(1&o){const e=t.RV6();t.j41(0,"mat-card",38)(1,"mat-card-header")(2,"mat-card-title")(3,"mat-icon"),t.EFF(4,"upload_file"),t.k0s(),t.EFF(5," Delivery Partner Documents "),t.k0s(),t.j41(6,"mat-card-subtitle"),t.EFF(7,"Upload required documents for delivery partner verification"),t.k0s()(),t.j41(8,"mat-card-content")(9,"div",39)(10,"p",40)(11,"mat-icon"),t.EFF(12,"info"),t.k0s(),t.EFF(13," Delivery partner created successfully! Now upload the required documents for verification. "),t.k0s()(),t.j41(14,"app-delivery-partner-documents",41),t.bIt("documentsChanged",function(r){t.eBV(e);const i=t.XpG();return t.Njj(i.onDocumentsChanged(r))}),t.k0s(),t.j41(15,"div",42)(16,"button",43),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.finishDeliveryPartnerSetup())}),t.j41(17,"mat-icon"),t.EFF(18,"check"),t.k0s(),t.EFF(19," Complete Setup "),t.k0s(),t.j41(20,"button",44),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.skipDocumentUpload())}),t.EFF(21," Skip for Now "),t.k0s()()()()}if(2&o){const e=t.XpG();t.R7$(14),t.Y8G("partnerId",e.deliveryPartnerId)("readonly",!1)("isAdmin",!0)}}function Ke(o,a){1&o&&(t.j41(0,"div",45),t.nrm(1,"mat-spinner"),t.j41(2,"p"),t.EFF(3,"Loading user details..."),t.k0s()())}let X=(()=>{class o{constructor(e,n,r,i,c,s,g){this.fb=e,this.route=n,this.router=r,this.userService=i,this.snackBar=c,this.deliveryPartnerService=s,this.shopService=g,this.loading=!1,this.isEditMode=!1,this.userId=null,this.showDeliveryPartnerDocuments=!1,this.savedUserId=null,this.deliveryPartnerId=null,this.shops=[],this.roleOptions=[{value:"SUPER_ADMIN",label:"Super Admin"},{value:"ADMIN",label:"Admin"},{value:"SHOP_OWNER",label:"Shop Owner"},{value:"MANAGER",label:"Manager"},{value:"EMPLOYEE",label:"Employee"},{value:"CUSTOMER_SERVICE",label:"Customer Service"},{value:"DELIVERY_PARTNER",label:"Delivery Partner"},{value:"USER",label:"User"}],this.statusOptions=[{value:"ACTIVE",label:"Active"},{value:"INACTIVE",label:"Inactive"},{value:"SUSPENDED",label:"Suspended"},{value:"PENDING_VERIFICATION",label:"Pending Verification"}],this.departmentOptions=["Information Technology","Human Resources","Finance","Marketing","Operations","Customer Service","Sales","Administration"],this.userForm=this.createForm()}ngOnInit(){this.loadShops(),this.route.params.subscribe(e=>{if(e.id){const n=parseInt(e.id,10);isNaN(n)?(console.error("Invalid user ID:",e.id),this.snackBar.open("Invalid user ID","Close",{duration:3e3}),this.router.navigate(["/users"])):(this.userId=n,this.isEditMode=!0,this.loadUser())}})}loadShops(){this.shopService.getShops({page:0,size:100}).subscribe({next:e=>{this.shops=e.content},error:e=>{console.error("Error loading shops:",e)}})}createForm(){return this.fb.group({username:["",[u.k0.required,u.k0.minLength(3),u.k0.maxLength(50)]],email:["",[u.k0.required,u.k0.email]],password:["",this.isEditMode?[]:[u.k0.required,u.k0.minLength(8)]],firstName:["",[u.k0.required,u.k0.maxLength(100)]],lastName:["",[u.k0.required,u.k0.maxLength(100)]],mobileNumber:["",[u.k0.pattern(/^[6-9][0-9]{9}$/)]],role:["USER",u.k0.required],status:["ACTIVE"],department:[""],designation:[""],reportsTo:[""],emailVerified:[!1],mobileVerified:[!1],twoFactorEnabled:[!1],passwordChangeRequired:[!1],assignedShopIds:[[]]})}loadUser(){this.userId&&(this.loading=!0,this.userService.getUserById(this.userId).subscribe({next:e=>{this.userForm.patchValue({username:e.username,email:e.email,firstName:e.firstName,lastName:e.lastName,mobileNumber:e.mobileNumber,role:e.role,status:e.status,department:e.department,designation:e.designation,reportsTo:e.reportsTo,emailVerified:e.emailVerified,mobileVerified:e.mobileVerified,twoFactorEnabled:e.twoFactorEnabled,passwordChangeRequired:e.passwordChangeRequired,assignedShopIds:e.assignedShopIds||[]}),this.userForm.get("password")?.clearValidators(),this.userForm.get("password")?.updateValueAndValidity(),this.loading=!1},error:e=>{console.error("Error loading user:",e),this.snackBar.open("Error loading user details","Close",{duration:3e3}),this.loading=!1,this.goBack()}}))}onSubmit(){if(this.userForm.valid){this.loading=!0;const e=this.userForm.value;this.isEditMode&&!e.password&&delete e.password;const n={username:e.username,email:e.email,password:e.password,firstName:e.firstName,lastName:e.lastName,mobileNumber:e.mobileNumber||void 0,role:e.role,status:e.status,department:e.department||void 0,designation:e.designation||void 0,reportsTo:e.reportsTo||void 0,emailVerified:e.emailVerified,mobileVerified:e.mobileVerified,twoFactorEnabled:e.twoFactorEnabled,passwordChangeRequired:e.passwordChangeRequired};(this.isEditMode?this.userService.updateUser(this.userId,n):this.userService.createUser(n)).subscribe({next:i=>{this.loading=!1;const c=e.assignedShopIds||[];"DELIVERY_PARTNER"===e.role&&c.length>0&&c.forEach(s=>{this.userService.assignDriverToShop(i.id,s).subscribe({next:()=>{console.log("Driver assigned to shop",s)},error:g=>{console.error("Error assigning driver to shop:",g)}})}),this.isEditMode?(this.snackBar.open("User updated successfully","Close",{duration:3e3}),this.router.navigate(["/users"])):(this.savedUserId=i.id,this.snackBar.open("User created successfully","Close",{duration:3e3}),"DELIVERY_PARTNER"===e.role?this.handleDeliveryPartnerCreation(i.id):this.router.navigate(["/users"]))},error:i=>{console.error(`Error ${this.isEditMode?"updating":"creating"} user:`,i),this.snackBar.open(i.error?.message||`Error ${this.isEditMode?"updating":"creating"} user`,"Close",{duration:3e3}),this.loading=!1}})}else this.markFormGroupTouched()}markFormGroupTouched(){Object.keys(this.userForm.controls).forEach(e=>{this.userForm.get(e)?.markAsTouched()})}goBack(){this.router.navigate(["/users"])}getErrorMessage(e){const n=this.userForm.get(e);if(n?.hasError("required"))return`${this.getFieldDisplayName(e)} is required`;if(n?.hasError("email"))return"Enter a valid email address";if(n?.hasError("minlength")){const r=n.errors?.minlength?.requiredLength;return`${this.getFieldDisplayName(e)} must be at least ${r} characters`}if(n?.hasError("maxlength")){const r=n.errors?.maxlength?.requiredLength;return`${this.getFieldDisplayName(e)} cannot exceed ${r} characters`}return n?.hasError("pattern")&&"mobileNumber"===e?"Enter a valid mobile number (10 digits starting with 6-9)":""}getFieldDisplayName(e){return{username:"Username",email:"Email",password:"Password",firstName:"First Name",lastName:"Last Name",mobileNumber:"Mobile Number",role:"Role",department:"Department",designation:"Designation"}[e]||e}handleDeliveryPartnerCreation(e){this.deliveryPartnerService.getPartnerByUserId(e).subscribe({next:n=>{n.data?(this.deliveryPartnerId=n.data.id,this.showDeliveryPartnerDocuments=!0):this.createDeliveryPartnerRecord(e)},error:n=>{console.error("Error checking delivery partner:",n),this.snackBar.open("User created. Please create delivery partner record separately.","Close",{duration:5e3}),this.router.navigate(["/users"])}})}createDeliveryPartnerRecord(e){this.deliveryPartnerId=e,this.showDeliveryPartnerDocuments=!0,this.snackBar.open("Delivery partner record created. Please upload required documents.","Close",{duration:3e3})}onDocumentsChanged(e){console.log("Documents updated:",e)}finishDeliveryPartnerSetup(){this.snackBar.open("Delivery partner setup completed successfully!","Close",{duration:3e3}),this.router.navigate(["/users"])}skipDocumentUpload(){this.snackBar.open("Documents can be uploaded later from the delivery partners section.","Close",{duration:5e3}),this.router.navigate(["/users"])}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(u.ok),t.rXU(h.nX),t.rXU(h.Ix),t.rXU($),t.rXU(R.UG),t.rXU(k.WS),t.rXU(me.s))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-user-form"]],decls:97,vars:20,consts:[[1,"user-form-container"],[1,"form-header"],["mat-icon-button","",1,"back-btn",3,"click"],[1,"form-card"],[3,"formGroup","ngSubmit"],[1,"form-grid"],[1,"form-section"],[1,"form-row"],["appearance","outline",1,"full-width"],["matInput","","formControlName","username","placeholder","Enter username"],["appearance","outline",1,"half-width"],["matInput","","formControlName","firstName","placeholder","Enter first name"],["matInput","","formControlName","lastName","placeholder","Enter last name"],["matInput","","formControlName","email","type","email","placeholder","Enter email address"],["matInput","","formControlName","mobileNumber","placeholder","Enter mobile number"],["class","form-row",4,"ngIf"],["formControlName","role"],[3,"value",4,"ngFor","ngForOf"],["formControlName","status"],["formControlName","department"],["value",""],["matInput","","formControlName","designation","placeholder","Enter designation"],[1,"form-checkboxes"],["formControlName","emailVerified"],["formControlName","mobileVerified"],["formControlName","twoFactorEnabled"],["formControlName","passwordChangeRequired"],[1,"form-actions"],["mat-button","","type","button",3,"disabled","click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["diameter","20",4,"ngIf"],["class","document-card",4,"ngIf"],["class","loading-container",4,"ngIf"],["matInput","","formControlName","password","type","password","placeholder","Enter password"],["matInput","","formControlName","password","type","password","placeholder","Enter new password"],[3,"value"],["formControlName","assignedShopIds","multiple",""],["diameter","20"],[1,"document-card"],[1,"document-upload-header"],[1,"info-text"],[3,"partnerId","readonly","isAdmin","documentsChanged"],[1,"document-actions"],["mat-raised-button","","color","primary",3,"click"],["mat-stroked-button","",3,"click"],[1,"loading-container"]],template:function(n,r){if(1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"button",2),t.bIt("click",function(){return r.goBack()}),t.j41(3,"mat-icon"),t.EFF(4,"arrow_back"),t.k0s()(),t.j41(5,"h2"),t.EFF(6),t.k0s()(),t.j41(7,"mat-card",3)(8,"form",4),t.bIt("ngSubmit",function(){return r.onSubmit()}),t.j41(9,"div",5)(10,"div",6)(11,"h3"),t.EFF(12,"Basic Information"),t.k0s(),t.j41(13,"div",7)(14,"mat-form-field",8)(15,"mat-label"),t.EFF(16,"Username *"),t.k0s(),t.nrm(17,"input",9),t.j41(18,"mat-error"),t.EFF(19),t.k0s()()(),t.j41(20,"div",7)(21,"mat-form-field",10)(22,"mat-label"),t.EFF(23,"First Name *"),t.k0s(),t.nrm(24,"input",11),t.j41(25,"mat-error"),t.EFF(26),t.k0s()(),t.j41(27,"mat-form-field",10)(28,"mat-label"),t.EFF(29,"Last Name *"),t.k0s(),t.nrm(30,"input",12),t.j41(31,"mat-error"),t.EFF(32),t.k0s()()(),t.j41(33,"div",7)(34,"mat-form-field",10)(35,"mat-label"),t.EFF(36,"Email *"),t.k0s(),t.nrm(37,"input",13),t.j41(38,"mat-error"),t.EFF(39),t.k0s()(),t.j41(40,"mat-form-field",10)(41,"mat-label"),t.EFF(42,"Mobile Number"),t.k0s(),t.nrm(43,"input",14),t.j41(44,"mat-error"),t.EFF(45),t.k0s()()(),t.DNE(46,Le,9,1,"div",15),t.DNE(47,Ae,7,0,"div",15),t.k0s(),t.j41(48,"div",6)(49,"h3"),t.EFF(50,"Role and Access"),t.k0s(),t.j41(51,"div",7)(52,"mat-form-field",10)(53,"mat-label"),t.EFF(54,"Role *"),t.k0s(),t.j41(55,"mat-select",16),t.DNE(56,Be,2,2,"mat-option",17),t.k0s(),t.j41(57,"mat-error"),t.EFF(58),t.k0s()(),t.j41(59,"mat-form-field",10)(60,"mat-label"),t.EFF(61,"Status"),t.k0s(),t.j41(62,"mat-select",18),t.DNE(63,Ye,2,2,"mat-option",17),t.k0s()()(),t.DNE(64,He,8,1,"div",15),t.j41(65,"div",7)(66,"mat-form-field",10)(67,"mat-label"),t.EFF(68,"Department"),t.k0s(),t.j41(69,"mat-select",19)(70,"mat-option",20),t.EFF(71,"None"),t.k0s(),t.DNE(72,Xe,2,2,"mat-option",17),t.k0s()(),t.j41(73,"mat-form-field",10)(74,"mat-label"),t.EFF(75,"Designation"),t.k0s(),t.nrm(76,"input",21),t.k0s()()(),t.j41(77,"div",6)(78,"h3"),t.EFF(79,"Security Settings"),t.k0s(),t.j41(80,"div",22)(81,"mat-checkbox",23),t.EFF(82,"Email Verified"),t.k0s(),t.j41(83,"mat-checkbox",24),t.EFF(84,"Mobile Verified"),t.k0s(),t.j41(85,"mat-checkbox",25),t.EFF(86,"Two-Factor Authentication"),t.k0s(),t.j41(87,"mat-checkbox",26),t.EFF(88,"Password Change Required"),t.k0s()()()(),t.j41(89,"div",27)(90,"button",28),t.bIt("click",function(){return r.goBack()}),t.EFF(91," Cancel "),t.k0s(),t.j41(92,"button",29),t.DNE(93,Je,1,0,"mat-spinner",30),t.EFF(94),t.k0s()()()(),t.DNE(95,We,22,3,"mat-card",31),t.DNE(96,Ke,4,0,"div",32),t.k0s()),2&n){let i;t.R7$(6),t.JRh(r.isEditMode?"Edit User":"Create New User"),t.R7$(2),t.Y8G("formGroup",r.userForm),t.R7$(11),t.JRh(r.getErrorMessage("username")),t.R7$(7),t.JRh(r.getErrorMessage("firstName")),t.R7$(6),t.JRh(r.getErrorMessage("lastName")),t.R7$(7),t.JRh(r.getErrorMessage("email")),t.R7$(6),t.JRh(r.getErrorMessage("mobileNumber")),t.R7$(1),t.Y8G("ngIf",!r.isEditMode),t.R7$(1),t.Y8G("ngIf",r.isEditMode),t.R7$(9),t.Y8G("ngForOf",r.roleOptions),t.R7$(2),t.JRh(r.getErrorMessage("role")),t.R7$(5),t.Y8G("ngForOf",r.statusOptions),t.R7$(1),t.Y8G("ngIf","DELIVERY_PARTNER"===(null==(i=r.userForm.get("role"))?null:i.value)),t.R7$(8),t.Y8G("ngForOf",r.departmentOptions),t.R7$(18),t.Y8G("disabled",r.loading),t.R7$(2),t.Y8G("disabled",!r.userForm.valid||r.loading),t.R7$(1),t.Y8G("ngIf",r.loading),t.R7$(1),t.SpI(" ",r.isEditMode?"Update User":"Create User"," "),t.R7$(1),t.Y8G("ngIf",r.showDeliveryPartnerDocuments&&r.savedUserId),t.R7$(1),t.Y8G("ngIf",r.loading&&!r.userForm.dirty)}},dependencies:[f.Sq,f.bT,H,u.qT,u.me,u.BC,u.cb,u.j4,u.JD,N.fg,M.rl,M.nJ,M.MV,M.TL,T.VO,z.wT,P.$z,P.iY,F.An,O.RN,O.m2,O.MM,O.Lc,O.dh,y.LG,L.So],styles:['.user-form-container[_ngcontent-%COMP%]{padding:24px;margin:0 auto;min-height:calc(100vh - 200px);background:linear-gradient(135deg,#f5f7fa 0%,#c3cfe2 100%);border-radius:20px}.user-form-container[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;margin-bottom:32px;padding:24px 32px;background:white;border-radius:16px;box-shadow:0 4px 20px #0000001a;border-left:5px solid #667eea}.user-form-container[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{color:#667eea;background:rgba(102,126,234,.1);border-radius:50%;transition:all .3s ease}.user-form-container[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{background:rgba(102,126,234,.2);transform:scale(1.1)}.user-form-container[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px}.user-form-container[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333;font-weight:600;font-size:28px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]{padding:0;background:transparent;box-shadow:none;border-radius:0}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{background:white;padding:32px;border-radius:16px;box-shadow:0 8px 32px #0000001a;border:1px solid rgba(255,255,255,.2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s ease}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]:hover{box-shadow:0 12px 40px #00000026;transform:translateY(-2px)}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 28px;color:#333;font-weight:600;font-size:20px;position:relative;padding-left:20px}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:50%;transform:translateY(-50%);width:4px;height:24px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);border-radius:2px}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-8px;left:20px;right:0;height:2px;background:linear-gradient(90deg,#667eea 0%,transparent 100%)}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:20px;align-items:flex-start}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{flex:1}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]     .mat-mdc-form-field{background:#f8f9ff;border-radius:12px}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]     .mat-mdc-form-field .mdc-notched-outline{border-color:#e0e7ff;border-width:2px}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]     .mat-mdc-form-field:hover .mdc-notched-outline{border-color:#667eea}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]     .mat-mdc-form-field.mdc-text-field--focused .mdc-notched-outline{border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .half-width[_ngcontent-%COMP%]{flex:1}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .half-width[_ngcontent-%COMP%]     .mat-mdc-form-field{background:#f8f9ff;border-radius:12px}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .half-width[_ngcontent-%COMP%]     .mat-mdc-form-field .mdc-notched-outline{border-color:#e0e7ff;border-width:2px}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .half-width[_ngcontent-%COMP%]     .mat-mdc-form-field:hover .mdc-notched-outline{border-color:#667eea}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .half-width[_ngcontent-%COMP%]     .mat-mdc-form-field.mdc-text-field--focused .mdc-notched-outline{border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-checkboxes[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px;background:linear-gradient(135deg,#f8f9ff 0%,#e0e7ff 100%);padding:24px;border-radius:16px;border:2px solid #e0e7ff}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-checkboxes[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{margin:0;padding:12px 16px;background:white;border-radius:12px;box-shadow:0 2px 8px #0000000d;transition:all .3s ease}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-checkboxes[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #0000001a;transform:translateY(-1px)}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-checkboxes[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]     .mat-mdc-checkbox{--mdc-checkbox-selected-checkmark-color: white;--mdc-checkbox-selected-icon-color: #667eea;--mdc-checkbox-unselected-icon-color: #c1c7cd}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-checkboxes[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]     .mdc-form-field{font-weight:500;color:#4a5568}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:16px;margin-top:32px;padding:28px 32px;background:white;border-radius:16px;box-shadow:0 8px 32px #0000001a}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:120px;height:48px;font-weight:500;transition:all .3s ease}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-right:8px}.user-form-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px;gap:16px}.user-form-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666}.user-form-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]{margin-top:32px;background:white;border-radius:16px;box-shadow:0 8px 32px #0000001a;border:1px solid rgba(255,255,255,.2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);overflow:hidden}.user-form-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:24px 32px}.user-form-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:20px;font-weight:600;margin-bottom:8px}.user-form-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}.user-form-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#ffffffe6;font-size:14px;margin:0}.user-form-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:32px}.user-form-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .document-upload-header[_ngcontent-%COMP%]{margin-bottom:24px}.user-form-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .document-upload-header[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;background:#e8f5e8;border:1px solid #4caf50;border-radius:8px;padding:16px;margin:0;color:#2e7d32;font-weight:500}.user-form-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .document-upload-header[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#4caf50;font-size:20px;width:20px;height:20px}.user-form-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .document-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:16px;margin-top:32px;padding-top:24px;border-top:1px solid #e9ecef}.user-form-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .document-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:160px;height:48px;font-weight:500;transition:all .3s ease}.user-form-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .document-actions[_ngcontent-%COMP%]   button[color=primary][_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%)}.user-form-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .document-actions[_ngcontent-%COMP%]   button[color=primary][_ngcontent-%COMP%]:hover:not([disabled]){background:linear-gradient(135deg,#5a6fd8 0%,#6a4190 100%);transform:translateY(-2px);box-shadow:0 8px 25px #667eea4d}.user-form-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .document-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}mat-form-field[_ngcontent-%COMP%]{width:100%}mat-form-field.full-width[_ngcontent-%COMP%]{width:100%}mat-form-field.half-width[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]   mat-hint[_ngcontent-%COMP%]{font-size:12px;color:#667eea;font-weight:500}mat-form-field[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{font-size:12px;font-weight:500}mat-form-field[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{font-weight:600;color:#4a5568}@media (max-width: 768px){.user-form-container[_ngcontent-%COMP%]{padding:16px}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]{padding:20px}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{flex-direction:column;gap:0}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .half-width[_ngcontent-%COMP%]{width:100%}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{flex-direction:column-reverse}.user-form-container[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.form-checkboxes[_ngcontent-%COMP%]{background:#f8f9fa;padding:20px;border-radius:8px;border:1px solid #e9ecef}.form-checkboxes[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]     .mat-checkbox-layout{margin-bottom:4px}.form-checkboxes[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]     .mat-checkbox-label{font-size:14px;color:#495057}.mat-form-field-invalid[_ngcontent-%COMP%]   .mat-form-field-outline-thick[_ngcontent-%COMP%]{color:#f44336}']})}}return o})();var b=l(4978);const qe=[{path:"",component:D,canActivate:[b.q]},{path:"admins",component:D,canActivate:[b.q],data:{role:"ADMIN"}},{path:"managers",component:D,canActivate:[b.q],data:{role:"MANAGER"}},{path:"shop-owners",component:D,canActivate:[b.q],data:{role:"SHOP_OWNER"}},{path:"delivery-partners",component:D,canActivate:[b.q],data:{role:"DELIVERY_PARTNER"}},{path:"customers",component:D,canActivate:[b.q],data:{role:"USER"}},{path:"new",component:X,canActivate:[b.q]},{path:":id",component:ge,canActivate:[b.q]},{path:":id/edit",component:X,canActivate:[b.q]},{path:":id/documents",component:H,canActivate:[b.q]}];let Qe=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[h.iI.forChild(qe),h.iI]})}}return o})();var Ze=l(6136);let tn=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[f.MD,Qe,Ze.DeliveryModule,u.X1,u.YN,C.tP,S.Ou,w.NQ,N.fS,T.Ve,P.Hl,F.m_,O.Hu,I.YN,j.hM,R._T,y.D6,E.Cn,W.Y,G.mV,L.g7,K.RI,U.w,M.RG,A.uc]})}}return o})()}}]);