"use strict";(self.webpackChunkshop_management_frontend=self.webpackChunkshop_management_frontend||[]).push([[76],{155:(P,$,h)=>{h.d($,{Q:()=>n,S:()=>u});var u=function(p){return p.ACTIVE="ACTIVE",p.INACTIVE="INACTIVE",p.DISCONTINUED="DISCONTINUED",p}(u||{}),n=function(p){return p.ACTIVE="ACTIVE",p.INACTIVE="INACTIVE",p.OUT_OF_STOCK="OUT_OF_STOCK",p.DISCONTINUED="DISCONTINUED",p}(n||{})},4848:(P,$,h)=>{h.d($,{c:()=>a});var u=h(6354),n=h(9437),p=h(8810),g=h(2525),c=h(3904),l=h(7705),_=h(1626);let a=(()=>{class o{constructor(t){this.http=t,this.apiUrl=`${g.c.apiUrl}/analytics`}formatDate(t){const s=e=>e.toString().padStart(2,"0");return`${t.getFullYear()}-${s(t.getMonth()+1)}-${s(t.getDate())}T${s(t.getHours())}:${s(t.getMinutes())}:${s(t.getSeconds())}`}getDashboardMetrics(t,s){const e={periodType:"CUSTOM",startDate:this.formatDate(t),endDate:this.formatDate(s)};return this.http.post(`${this.apiUrl}/dashboard`,e).pipe((0,u.T)(r=>{if(c.c.isError(r)){const i=c.c.getErrorMessage(r);throw new Error(i)}return r.data}),(0,n.W)(r=>(console.error("Dashboard metrics error:",r),(0,p.$)(()=>r))))}getShopDashboardMetrics(t,s,e){const r={periodType:"CUSTOM",startDate:this.formatDate(s),endDate:this.formatDate(e),shopId:t};return this.http.post(`${this.apiUrl}/dashboard/shop/${t}`,r).pipe((0,u.T)(i=>{if(c.c.isError(i)){const E=c.c.getErrorMessage(i);throw new Error(E)}return i.data}),(0,n.W)(i=>(console.error("Shop dashboard metrics error:",i),(0,p.$)(()=>i))))}getCustomerAnalytics(t,s){const e={periodType:"CUSTOM",startDate:this.formatDate(t),endDate:this.formatDate(s)};return this.http.post(`${this.apiUrl}/customers`,e).pipe((0,u.T)(r=>{if(c.c.isError(r)){const i=c.c.getErrorMessage(r);throw new Error(i)}return r.data}),(0,n.W)(r=>(console.error("Customer analytics error:",r),(0,p.$)(()=>r))))}generateAnalytics(t,s,e){return this.http.post(`${this.apiUrl}/generate`,{},{params:{startDate:this.formatDate(t),endDate:this.formatDate(s),periodType:e}})}getAvailableCategories(){return this.http.get(`${this.apiUrl}/categories`).pipe((0,u.T)(t=>{if(c.c.isError(t)){const s=c.c.getErrorMessage(t);throw new Error(s)}return t.data}),(0,n.W)(t=>(console.error("Categories error:",t),(0,p.$)(()=>t))))}getAvailableMetricTypes(){return this.http.get(`${this.apiUrl}/metric-types`).pipe((0,u.T)(t=>{if(c.c.isError(t)){const s=c.c.getErrorMessage(t);throw new Error(s)}return t.data}),(0,n.W)(t=>(console.error("Metric types error:",t),(0,p.$)(()=>t))))}getAvailablePeriodTypes(){return this.http.get(`${this.apiUrl}/period-types`).pipe((0,u.T)(t=>{if(c.c.isError(t)){const s=c.c.getErrorMessage(t);throw new Error(s)}return t.data}),(0,n.W)(t=>(console.error("Period types error:",t),(0,p.$)(()=>t))))}getAnalyticsEnums(){return this.http.get(`${this.apiUrl}/enums`).pipe((0,u.T)(t=>{if(c.c.isError(t)){const s=c.c.getErrorMessage(t);throw new Error(s)}return t.data}),(0,n.W)(t=>(console.error("Analytics enums error:",t),(0,p.$)(()=>t))))}static{this.\u0275fac=function(s){return new(s||o)(l.KVO(_.Qq))}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})()},5567:(P,$,h)=>{h.d($,{J:()=>a});var u=h(1626),n=h(6354),p=h(9437),g=h(8810),c=h(3904),l=h(7338),_=h(7705);let a=(()=>{class o{constructor(t){this.http=t,this.API_URL=l.Sn.BASE_URL+"/notifications"}getAllNotifications(t=0,s=20){const e=(new u.Nl).set("page",t.toString()).set("size",s.toString());return this.http.get(this.API_URL,{params:e}).pipe((0,n.T)(r=>{if(c.c.isError(r))throw new Error(c.c.getErrorMessage(r));return{content:r.data.content.map(i=>({...i,createdAt:new Date(i.createdAt)})),totalElements:r.data.totalElements}}),(0,p.W)(r=>(console.error("Error fetching notifications:",r),(0,g.$)(()=>r))))}getUnreadNotifications(){return this.http.get(`${this.API_URL}/unread`).pipe((0,n.T)(t=>{if(c.c.isError(t))throw new Error(c.c.getErrorMessage(t));return(t.data||[]).map(s=>({...s,createdAt:new Date(s.createdAt)}))}),(0,p.W)(t=>(console.error("Error fetching unread notifications:",t),(0,g.$)(()=>t))))}markAsRead(t){return this.http.put(`${this.API_URL}/${t}/read`,{}).pipe((0,n.T)(s=>{if(c.c.isError(s))throw new Error(c.c.getErrorMessage(s))}),(0,p.W)(s=>(console.error("Error marking notification as read:",s),(0,g.$)(()=>s))))}markAllAsRead(){return this.http.put(`${this.API_URL}/read-all`,{}).pipe((0,n.T)(t=>{if(c.c.isError(t))throw new Error(c.c.getErrorMessage(t))}),(0,p.W)(t=>(console.error("Error marking all notifications as read:",t),(0,g.$)(()=>t))))}deleteNotification(t){return this.http.delete(`${this.API_URL}/${t}`).pipe((0,n.T)(s=>{if(c.c.isError(s))throw new Error(c.c.getErrorMessage(s))}),(0,p.W)(s=>(console.error("Error deleting notification:",s),(0,g.$)(()=>s))))}getNotificationsByType(t){const s=(new u.Nl).set("type",t);return this.http.get(`${this.API_URL}/type`,{params:s}).pipe((0,n.T)(e=>{if(c.c.isError(e))throw new Error(c.c.getErrorMessage(e));return(e.data||[]).map(r=>({...r,createdAt:new Date(r.createdAt)}))}),(0,p.W)(e=>(console.error("Error fetching notifications by type:",e),(0,g.$)(()=>e))))}getUnreadCount(){return this.http.get(`${this.API_URL}/unread/count`).pipe((0,n.T)(t=>c.c.isError(t)?0:t.data||0),(0,p.W)(t=>(console.error("Error fetching unread count:",t),(0,g.$)(()=>0))))}clearAllNotifications(){return this.http.delete(`${this.API_URL}/clear-all`).pipe((0,n.T)(t=>{if(c.c.isError(t))throw new Error(c.c.getErrorMessage(t))}),(0,p.W)(t=>(console.error("Error clearing all notifications:",t),(0,g.$)(()=>t))))}sendTestNotification(t){return this.http.post(`${this.API_URL}/test`,t).pipe((0,n.T)(s=>{if(c.c.isError(s))throw new Error(c.c.getErrorMessage(s))}),(0,p.W)(s=>(console.error("Error sending test notification:",s),(0,g.$)(()=>s))))}exportNotifications(t){const s=(new u.Nl).set("format",t);return this.http.get(`${this.API_URL}/export`,{params:s,responseType:"blob"}).pipe((0,p.W)(e=>(console.error("Error exporting notifications:",e),(0,g.$)(()=>e))))}getShopNotifications(t=0,s=20){const e=(new u.Nl).set("page",t.toString()).set("size",s.toString());return this.http.get(`${this.API_URL}/shop`,{params:e}).pipe((0,n.T)(r=>{if(c.c.isError(r))throw new Error(c.c.getErrorMessage(r));return{content:(r.data?.content||[]).map(i=>({...i,createdAt:new Date(i.createdAt)})),totalElements:r.data?.totalElements||0}}),(0,p.W)(r=>(console.error("Error fetching shop notifications:",r),(0,g.$)(()=>r))))}static{this.\u0275fac=function(s){return new(s||o)(_.KVO(u.Qq))}}static{this.\u0275prov=_.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})()},2218:(P,$,h)=>{h.d($,{F:()=>c});var u=h(1626),n=h(6354),p=h(2525),g=h(7705);let c=(()=>{class l{constructor(a){this.http=a,this.API_URL=`${p.c.apiUrl}/products/categories`}getCategories(a,o,d,t=0,s=10,e="name",r="ASC"){let i=(new u.Nl).set("page",t.toString()).set("size",s.toString()).set("sortBy",e).set("sortDirection",r);return void 0!==a&&(i=i.set("parentId",a.toString())),void 0!==o&&(i=i.set("isActive",o.toString())),d&&(i=i.set("search",d)),this.http.get(this.API_URL,{params:i}).pipe((0,n.T)(E=>E.data))}getCategoryTree(a,o=!0){let d=(new u.Nl).set("activeOnly",o.toString());return void 0!==a&&(d=d.set("rootId",a.toString())),this.http.get(`${this.API_URL}/tree`,{params:d}).pipe((0,n.T)(t=>t.data))}getRootCategories(a=!0){const o=(new u.Nl).set("activeOnly",a.toString());return this.http.get(`${this.API_URL}/root`,{params:o}).pipe((0,n.T)(d=>d.data))}getCategory(a){return this.http.get(`${this.API_URL}/${a}`).pipe((0,n.T)(o=>o.data))}getCategoryBySlug(a){return this.http.get(`${this.API_URL}/slug/${a}`).pipe((0,n.T)(o=>o.data))}createCategory(a){return this.http.post(this.API_URL,a).pipe((0,n.T)(o=>o.data))}updateCategory(a,o){return this.http.put(`${this.API_URL}/${a}`,o).pipe((0,n.T)(d=>d.data))}deleteCategory(a){return this.http.delete(`${this.API_URL}/${a}`).pipe((0,n.T)(()=>{}))}getSubcategories(a,o=!0){const d=(new u.Nl).set("activeOnly",o.toString());return this.http.get(`${this.API_URL}/${a}/subcategories`,{params:d}).pipe((0,n.T)(t=>t.data))}getCategoryPath(a){return this.http.get(`${this.API_URL}/${a}/path`).pipe((0,n.T)(o=>o.data))}updateCategoryStatus(a,o){const d=(new u.Nl).set("isActive",o.toString());return this.http.patch(`${this.API_URL}/${a}/status`,null,{params:d}).pipe((0,n.T)(t=>t.data))}reorderCategories(a){return this.http.patch(`${this.API_URL}/reorder`,a).pipe((0,n.T)(o=>o.data))}createCategoryWithImage(a){return this.http.post(`${this.API_URL}/with-image`,a).pipe((0,n.T)(o=>o.data))}uploadCategoryImage(a,o){const d=new FormData;return d.append("image",o),this.http.post(`${this.API_URL}/${a}/image`,d).pipe((0,n.T)(t=>t.data))}static{this.\u0275fac=function(o){return new(o||l)(g.KVO(u.Qq))}}static{this.\u0275prov=g.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})()},1108:(P,$,h)=>{h.d($,{b:()=>d});var u=h(1626),n=h(6354),p=h(2525),g=h(8810),c=h(9437),l=h(3904),_=h(7338),a=h(7705);let o=(()=>{class t{static extractData(e){return e.pipe((0,n.T)(r=>{if(l.c.isSuccess(r))return r.data;{const i=l.c.getErrorMessage(r);throw new Error(i)}}),(0,c.W)(r=>{if(r instanceof Error)return(0,g.$)(()=>r);if(r.error&&r.error.statusCode){const E=_.pd[r.error.statusCode]||r.error.message||"An error occurred";return(0,g.$)(()=>new Error(E))}return(0,g.$)(0===r.status?()=>new Error("Network error. Please check your connection."):()=>new Error(r.message||"An unexpected error occurred"))}))}static extractDataWithErrorMessage(e,r){return e.pipe((0,n.T)(i=>{if(l.c.isSuccess(i))return i.data;throw new Error(r)}),(0,c.W)(i=>i instanceof Error?(0,g.$)(()=>i):(0,g.$)(()=>new Error(r))))}static validateResponse(e){return e.pipe((0,n.T)(r=>{if(l.c.isError(r)){const i=l.c.getErrorMessage(r);throw new Error(i)}return r}),(0,c.W)(r=>{if(r instanceof Error)return(0,g.$)(()=>r);if(r.error&&r.error.statusCode){const E=_.pd[r.error.statusCode]||r.error.message||"An error occurred";return(0,g.$)(()=>new Error(E))}return(0,g.$)(()=>new Error(r.message||"An unexpected error occurred"))}))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=a.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),d=(()=>{class t{constructor(e){this.http=e,this.API_URL=`${p.c.apiUrl}/products/master`}getMasterProducts(e={}){let r=new u.Nl;return Object.keys(e).forEach(i=>{const E=e[i];null!=E&&""!==E&&(r=r.set(i,E.toString()))}),o.extractData(this.http.get(this.API_URL,{params:r}))}getMasterProduct(e){return o.extractData(this.http.get(`${this.API_URL}/${e}`))}getMasterProductBySku(e){return this.http.get(`${this.API_URL}/sku/${e}`).pipe((0,n.T)(r=>r.data))}createMasterProduct(e){return this.http.post(this.API_URL,e).pipe((0,n.T)(r=>r.data))}updateMasterProduct(e,r){return this.http.put(`${this.API_URL}/${e}`,r).pipe((0,n.T)(i=>i.data))}deleteMasterProduct(e){return this.http.delete(`${this.API_URL}/${e}`).pipe((0,n.T)(()=>{}))}searchMasterProducts(e,r=0,i=10){const E=(new u.Nl).set("query",e).set("page",r.toString()).set("size",i.toString());return this.http.get(`${this.API_URL}/search`,{params:E}).pipe((0,n.T)(m=>m.data))}getFeaturedProducts(){return this.http.get(`${this.API_URL}/featured`).pipe((0,n.T)(e=>e.data))}getProductsByCategory(e,r=0,i=10){const E=(new u.Nl).set("page",r.toString()).set("size",i.toString());return this.http.get(`${this.API_URL}/category/${e}`,{params:E}).pipe((0,n.T)(m=>m.data))}getAllBrands(){return this.http.get(`${this.API_URL}/brands`).pipe((0,n.T)(e=>e.data))}uploadMasterProductImages(e,r){return this.http.post(`${p.c.apiUrl}/products/images/master/${e}`,r).pipe((0,n.T)(i=>i.data))}deleteMasterProductImage(e){return this.http.delete(`${p.c.apiUrl}/products/images/${e}`).pipe((0,n.T)(()=>{}))}getMasterProductImages(e){return this.http.get(`${p.c.apiUrl}/products/images/master/${e}`).pipe((0,n.T)(r=>r.data))}getShopProductImages(e,r){return this.http.get(`${p.c.apiUrl}/products/images/shop/${e}/${r}`).pipe((0,n.T)(i=>i.data))}uploadShopProductImages(e,r,i){return this.http.post(`${p.c.apiUrl}/products/images/shop/${e}/${r}`,i).pipe((0,n.T)(E=>E.data))}static{this.\u0275fac=function(r){return new(r||t)(a.KVO(u.Qq))}}static{this.\u0275prov=a.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})()},8262:(P,$,h)=>{h.d($,{Z:()=>c});var u=h(1626),n=h(6354),p=h(2525),g=h(7705);let c=(()=>{class l{constructor(a){this.http=a,this.API_URL=`${p.c.apiUrl}/shops`}getShopProducts(a,o=0,d=20,t={}){let s=(new u.Nl).set("page",o.toString()).set("size",d.toString());return Object.keys(t).forEach(r=>{const i=t[r];null!=i&&""!==i&&(s=s.set(r,i.toString()))}),s=s.set("_t",Date.now().toString()),this.http.get(`${this.API_URL}/${a}/products`,{params:s,headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}}).pipe((0,n.T)(r=>r.data))}getShopProduct(a,o){const t={params:(new u.Nl).set("_t",Date.now().toString()),headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}};return this.http.get(`${this.API_URL}/${a}/products/${o}`,t).pipe((0,n.T)(s=>s.data))}addProductToShop(a,o){return this.http.post(`${this.API_URL}/${a}/products`,o).pipe((0,n.T)(d=>d.data))}updateShopProduct(a,o,d){return this.http.put(`${this.API_URL}/${a}/products/${o}`,d).pipe((0,n.T)(t=>t.data))}removeProductFromShop(a,o){return this.http.delete(`${this.API_URL}/${a}/products/${o}`).pipe((0,n.T)(()=>{}))}searchShopProducts(a,o,d=0,t=10){const s=(new u.Nl).set("query",o).set("page",d.toString()).set("size",t.toString());return this.http.get(`${this.API_URL}/${a}/products/search`,{params:s}).pipe((0,n.T)(e=>e.data))}getFeaturedShopProducts(a){return this.http.get(`${this.API_URL}/${a}/products/featured`).pipe((0,n.T)(o=>o.data))}getLowStockProducts(a){return this.http.get(`${this.API_URL}/${a}/products/low-stock`).pipe((0,n.T)(o=>o.data))}updateInventory(a,o,d){const t=(new u.Nl).set("quantity",d.quantity.toString()).set("operation",d.operation);return this.http.patch(`${this.API_URL}/${a}/products/${o}/inventory`,null,{params:t}).pipe((0,n.T)(s=>s.data))}getShopProductStats(a){return this.http.get(`${this.API_URL}/${a}/products/stats`).pipe((0,n.T)(o=>o.data))}bulkUploadProducts(a){return this.http.post(`${this.API_URL}/bulk-upload`,a,{reportProgress:!0,observe:"events"})}static{this.\u0275fac=function(o){return new(o||l)(g.KVO(u.Qq))}}static{this.\u0275prov=g.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})()}}]);