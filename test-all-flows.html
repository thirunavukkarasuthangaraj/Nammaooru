<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop Management System - All Flows Test</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            color: white;
            text-align: center;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .test-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: transform 0.3s;
        }
        .test-card:hover {
            transform: translateY(-5px);
        }
        .test-card h2 {
            margin-top: 0;
            color: #333;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        .credentials {
            background: #f5f5f5;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            font-family: monospace;
        }
        .btn {
            display: inline-block;
            padding: 10px 20px;
            background: #667eea;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            margin: 5px;
            transition: background 0.3s;
        }
        .btn:hover {
            background: #764ba2;
        }
        .btn-success {
            background: #48bb78;
        }
        .btn-success:hover {
            background: #38a169;
        }
        .btn-info {
            background: #4299e1;
        }
        .btn-info:hover {
            background: #3182ce;
        }
        .status {
            padding: 10px;
            background: #e6fffa;
            border-left: 4px solid #48bb78;
            margin: 10px 0;
            border-radius: 3px;
        }
        .flow-steps {
            background: #f7fafc;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .flow-steps ol {
            margin: 10px 0;
            padding-left: 20px;
        }
        .flow-steps li {
            margin: 5px 0;
            color: #4a5568;
        }
        .server-status {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .status-item {
            display: inline-block;
            margin: 0 20px;
        }
        .status-indicator {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 5px;
        }
        .status-active {
            background: #48bb78;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(72, 187, 120, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(72, 187, 120, 0); }
            100% { box-shadow: 0 0 0 0 rgba(72, 187, 120, 0); }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üõçÔ∏è Shop Management System - Complete Flow Testing</h1>
        
        <div class="server-status">
            <h3 style="margin-top: 0;">Server Status</h3>
            <div class="status-item">
                <span class="status-indicator status-active"></span>
                <strong>Backend:</strong> http://localhost:8082
            </div>
            <div class="status-item">
                <span class="status-indicator status-active"></span>
                <strong>Frontend:</strong> http://localhost:8080
            </div>
            <div class="status-item">
                <span class="status-indicator status-active"></span>
                <strong>Database:</strong> PostgreSQL (shop_management_db)
            </div>
        </div>

        <div class="test-grid">
            <!-- Customer Flow -->
            <div class="test-card">
                <h2>üõí Customer Flow</h2>
                <div class="credentials">
                    <strong>Username:</strong> customer1<br>
                    <strong>Password:</strong> password
                </div>
                <div class="flow-steps">
                    <strong>Test Steps:</strong>
                    <ol>
                        <li>Login with customer credentials</li>
                        <li>Browse available shops</li>
                        <li>View shop products</li>
                        <li>Add items to cart</li>
                        <li>Proceed to checkout</li>
                        <li>Place order</li>
                        <li>Track order status</li>
                    </ol>
                </div>
                <a href="http://localhost:8080" target="_blank" class="btn">Open Customer Portal</a>
                <a href="http://localhost:8080/customer/shops" target="_blank" class="btn btn-info">Direct to Shops</a>
            </div>

            <!-- Shop Owner Flow -->
            <div class="test-card">
                <h2>üë®‚Äçüíº Shop Owner Flow</h2>
                <div class="credentials">
                    <strong>Username:</strong> shopowner1<br>
                    <strong>Password:</strong> password
                </div>
                <div class="flow-steps">
                    <strong>Test Steps:</strong>
                    <ol>
                        <li>Login with shop owner credentials</li>
                        <li>View business summary dashboard</li>
                        <li>Manage products & pricing</li>
                        <li>View incoming orders</li>
                        <li>Update order status</li>
                        <li>Manage inventory</li>
                        <li>View revenue reports</li>
                    </ol>
                </div>
                <a href="http://localhost:8080" target="_blank" class="btn">Open Shop Owner Portal</a>
                <a href="http://localhost:8080/shop-owner/dashboard" target="_blank" class="btn btn-info">Direct to Dashboard</a>
            </div>

            <!-- Delivery Partner Flow -->
            <div class="test-card">
                <h2>üö¥ Delivery Partner Flow</h2>
                <div class="credentials">
                    <strong>Username:</strong> delivery1<br>
                    <strong>Password:</strong> password
                </div>
                <div class="flow-steps">
                    <strong>Test Steps:</strong>
                    <ol>
                        <li>Login with delivery partner credentials</li>
                        <li>View assigned deliveries</li>
                        <li>Accept delivery request</li>
                        <li>Update delivery status</li>
                        <li>Mark as delivered</li>
                        <li>View earnings</li>
                    </ol>
                </div>
                <a href="http://localhost:8080" target="_blank" class="btn">Open Delivery Portal</a>
            </div>

            <!-- Admin Flow -->
            <div class="test-card">
                <h2>‚öôÔ∏è Admin Flow</h2>
                <div class="credentials">
                    <strong>Username:</strong> admin<br>
                    <strong>Password:</strong> password
                </div>
                <div class="flow-steps">
                    <strong>Test Steps:</strong>
                    <ol>
                        <li>Login with admin credentials</li>
                        <li>Manage users</li>
                        <li>Approve/reject shops</li>
                        <li>View system reports</li>
                        <li>Manage configurations</li>
                        <li>Handle disputes</li>
                    </ol>
                </div>
                <a href="http://localhost:8080" target="_blank" class="btn">Open Admin Portal</a>
            </div>

            <!-- Super Admin Flow -->
            <div class="test-card">
                <h2>üëë Super Admin Flow</h2>
                <div class="credentials">
                    <strong>Username:</strong> superadmin<br>
                    <strong>Password:</strong> password
                </div>
                <div class="flow-steps">
                    <strong>Test Steps:</strong>
                    <ol>
                        <li>Login with super admin credentials</li>
                        <li>Full system access</li>
                        <li>Manage all users & roles</li>
                        <li>System configuration</li>
                        <li>Database management</li>
                        <li>Advanced analytics</li>
                    </ol>
                </div>
                <a href="http://localhost:8080" target="_blank" class="btn">Open Super Admin Portal</a>
            </div>
        </div>

        <div class="test-card" style="background: #f0fff4;">
            <h2>‚úÖ System Status</h2>
            <div class="status">
                <strong>Available Test Data:</strong>
                <ul>
                    <li>‚úÖ 2 Active Shops</li>
                    <li>‚úÖ 11 Products Available</li>
                    <li>‚úÖ Customer Account Ready</li>
                    <li>‚úÖ Shop Owner Account Ready</li>
                    <li>‚úÖ Delivery Partner Ready</li>
                    <li>‚úÖ Admin Accounts Active</li>
                </ul>
            </div>
            <div class="flow-steps">
                <strong>Complete Order Flow:</strong>
                <ol>
                    <li><strong>Customer:</strong> Browse ‚Üí Add to Cart ‚Üí Checkout ‚Üí Place Order</li>
                    <li><strong>Shop Owner:</strong> Receive Order ‚Üí Accept ‚Üí Prepare</li>
                    <li><strong>Delivery Partner:</strong> Get Assignment ‚Üí Pick Up ‚Üí Deliver</li>
                    <li><strong>Customer:</strong> Track ‚Üí Receive ‚Üí Rate</li>
                </ol>
            </div>
        </div>

        <div class="test-card" style="background: #fef5e7;">
            <h2>üîß Quick Actions</h2>
            <a href="http://localhost:8082/swagger-ui.html" target="_blank" class="btn btn-info">API Documentation</a>
            <a href="http://localhost:8082/h2-console" target="_blank" class="btn btn-info">H2 Console</a>
            <button onclick="testAPIs()" class="btn btn-success">Test All APIs</button>
        </div>
    </div>

    <script>
        function testAPIs() {
            const endpoints = [
                '/api/shops',
                '/api/products',
                '/api/users/profile',
                '/api/orders'
            ];
            
            alert('Testing APIs... Check console for results');
            
            endpoints.forEach(endpoint => {
                fetch(`http://localhost:8082${endpoint}`)
                    .then(res => console.log(`${endpoint}: ${res.status}`))
                    .catch(err => console.error(`${endpoint}: Failed`, err));
            });
        }

        // Auto-refresh status every 30 seconds
        setInterval(() => {
            fetch('http://localhost:8082/actuator/health')
                .then(res => res.json())
                .then(data => console.log('Backend Health:', data))
                .catch(err => console.error('Backend might be down'));
        }, 30000);
    </script>
</body>
</html>