<div class="login-wrapper">
  <div class="login-container">
    <div class="login-card">
      <div class="login-header">
        <h1 class="brand-title">NammaOoru</h1>
        <h2 class="login-title">Shop Management System</h2>
        <p class="login-description">Sign in to access your dashboard</p>
      </div>
      
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
        <!-- Username Field -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-icon matPrefix>person</mat-icon>
          <input 
            matInput
            type="text" 
            formControlName="username"
            placeholder="Username"
            [class.error]="hasFieldError('username')">
          <mat-error *ngIf="hasFieldError('username')">
            {{ getFieldError('username') }}
          </mat-error>
        </mat-form-field>

        <!-- Password Field -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-icon matPrefix>lock</mat-icon>
          <input 
            matInput
            [type]="hidePassword ? 'password' : 'text'"
            formControlName="password"
            placeholder="Password"
            [class.error]="hasFieldError('password')">
          <button 
            matSuffix
            mat-icon-button
            type="button"
            (click)="hidePassword = !hidePassword">
            <mat-icon>{{ hidePassword ? 'visibility' : 'visibility_off' }}</mat-icon>
          </button>
          <mat-error *ngIf="hasFieldError('password')">
            {{ getFieldError('password') }}
          </mat-error>
        </mat-form-field>

        <!-- Login Button -->
        <button 
          mat-raised-button
          color="primary"
          type="submit" 
          class="login-button"
          [disabled]="isLoading || !loginForm.valid">
          <mat-spinner *ngIf="isLoading" diameter="20" class="login-spinner"></mat-spinner>
          <mat-icon *ngIf="!isLoading" class="login-icon">login</mat-icon>
          <span>{{ isLoading ? 'Signing In...' : 'Sign In' }}</span>
        </button>

        <!-- General Error -->
        <div class="alert alert-error" *ngIf="error">
          <mat-icon>error_outline</mat-icon>
          <span>{{ error }}</span>
        </div>
      </form>

      <!-- Links -->
      <div class="auth-links">
        <p>Don't have an account? 
          <a routerLink="/auth/register" mat-button color="primary">Sign Up</a>
        </p>
        <a routerLink="/auth/forgot-password" class="forgot-link">Forgot Password?</a>
        <a href="#" class="support-link">Need help? Contact Support</a>
      </div>
    </div>
  </div>
  
  <!-- Version Footer - Fixed position -->
  <div class="version-footer-global">
    <span class="version-text">{{ versionService.getVersion() }}</span>
    <span class="build-info">Build: {{ versionService.getBuildDate() }}</span>
  </div>
</div>