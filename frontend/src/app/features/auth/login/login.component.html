<div class="login-container">
  <!-- Background Image with Overlay -->
  <div class="background-image">
    <img
      src="assets/images/background.png"
      alt="Fresh vegetables background"
      class="bg-img">
    <div class="overlay"></div>
  </div>

  <!-- Content Wrapper -->
  <div class="content-wrapper">
    <!-- Logo and Brand -->
    <div class="brand-section">
      <h1 class="brand-title">NammaOoru</h1>
      <p class="brand-tagline">Welcome back! Fresh groceries await.</p>
    </div>

    <!-- Login Form Card -->
    <div class="form-card">
      <div class="form-header">
        <h2>Welcome Back</h2>
        <p>Sign in to continue to your account</p>
      </div>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
        <!-- Email Field -->
        <div class="form-field">
          <label for="email">Email</label>
          <div class="input-wrapper">
            <span class="material-icons-outlined input-icon">mail_outline</span>
            <input
              id="email"
              type="email"
              formControlName="email"
              placeholder="you@example.com"
              autocomplete="email"
              [class.error]="hasFieldError('email')">
          </div>
          <span class="error-message" *ngIf="hasFieldError('email')">
            {{ getFieldError('email') }}
          </span>
        </div>

        <!-- Password Field -->
        <div class="form-field">
          <label for="password">Password</label>
          <div class="input-wrapper">
            <span class="material-icons-outlined input-icon">lock_outline</span>
            <input
              id="password"
              [type]="hidePassword ? 'password' : 'text'"
              formControlName="password"
              placeholder="••••••••"
              autocomplete="current-password"
              [class.error]="hasFieldError('password')">
            <button
              class="toggle-password"
              type="button"
              (click)="hidePassword = !hidePassword"
              [attr.aria-label]="hidePassword ? 'Show password' : 'Hide password'">
              <span class="material-icons-outlined">
                {{ hidePassword ? 'visibility_off' : 'visibility' }}
              </span>
            </button>
          </div>
          <span class="error-message" *ngIf="hasFieldError('password')">
            {{ getFieldError('password') }}
          </span>
        </div>

        <!-- Remember Me & Forgot Password -->
        <div class="form-options">
          <mat-checkbox id="remember-me" color="primary">
            Remember me
          </mat-checkbox>
          <a routerLink="/auth/forgot-password" class="forgot-link">
            Forgot Password?
          </a>
        </div>

        <!-- Error Message -->
        <div class="error-banner" *ngIf="error">
          <span class="material-icons-outlined">error_outline</span>
          <span>{{ error }}</span>
        </div>

        <!-- Submit Button -->
        <button
          type="submit"
          class="submit-button"
          [disabled]="loginForm.invalid || isLoading">
          <mat-spinner *ngIf="isLoading" diameter="20"></mat-spinner>
          <span *ngIf="!isLoading">Sign In</span>
          <span *ngIf="isLoading">Signing In...</span>
        </button>

        <!-- Create Account Link -->
        <p class="signup-link">
          Don't have an account?
          <a routerLink="/auth/register">Create New Account</a>
        </p>

        <!-- Privacy Policy Link -->
        <p class="privacy-link">
          By signing in, you agree to our
          <a routerLink="/privacy-policy">Privacy Policy</a>
        </p>
      </form>
    </div>
  </div>
</div>