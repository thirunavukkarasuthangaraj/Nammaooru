<div class="login-container">
  <!-- Header -->
  <div class="login-header">
    <mat-icon class="login-icon">storefront</mat-icon>
    <h1>NammaOoru</h1>
    <p>Shop Management System<br>Sign in to access your dashboard</p>
  </div>

  <!-- Form -->
  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Username</mat-label>
      <mat-icon matPrefix>person</mat-icon>
      <input matInput 
             formControlName="username" 
             placeholder="Enter your username">
      <mat-error *ngIf="hasFieldError('username')">
        {{ getFieldError('username') }}
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Password</mat-label>
      <mat-icon matPrefix>lock</mat-icon>
      <input matInput 
             [type]="hidePassword ? 'password' : 'text'"
             formControlName="password" 
             placeholder="Enter your password">
      <button matSuffix
              mat-icon-button
              type="button"
              (click)="hidePassword = !hidePassword">
        <mat-icon>{{ hidePassword ? 'visibility' : 'visibility_off' }}</mat-icon>
      </button>
      <mat-error *ngIf="hasFieldError('password')">
        {{ getFieldError('password') }}
      </mat-error>
    </mat-form-field>

    <button 
      mat-raised-button 
      color="primary" 
      type="submit" 
      class="full-width login-button"
      [disabled]="loginForm.invalid || isLoading">
      <mat-spinner *ngIf="isLoading" diameter="20" style="margin-right: 8px;"></mat-spinner>
      <mat-icon *ngIf="!isLoading" style="margin-right: 8px;">login</mat-icon>
      {{ isLoading ? 'Signing In...' : 'Sign In' }}
    </button>

    <!-- Error Message -->
    <div class="error-message" *ngIf="error">
      <mat-icon>error_outline</mat-icon>
      <p>{{ error }}</p>
    </div>

    <!-- Auth Links -->
    <div class="auth-links">
      <p>New customer? 
        <a routerLink="/auth/register" mat-button color="primary">Create Account</a>
      </p>
      <p>
        <a routerLink="/auth/forgot-password" class="forgot-link">Forgot Password?</a>
      </p>
    </div>
  </form>

  <!-- Help Section -->
  <div class="help-section">
    <h3>Need Help?</h3>
    <div class="help-content">
      <div class="help-item">
        <mat-icon>support</mat-icon>
        <div>
          <strong>Contact Support</strong>
          <p>Get help from our support team</p>
        </div>
      </div>
    </div>
    
    <!-- Info for Shop Owners and Delivery Partners -->
    <mat-card class="info-card" style="margin-top: 16px; background: #e3f2fd;">
      <mat-card-content style="display: flex; align-items: center; gap: 12px;">
        <mat-icon style="color: #1976d2;">info</mat-icon>
        <div>
          <strong style="color: #1976d2;">Shop Owners & Delivery Partners</strong>
          <p style="margin: 4px 0; color: #555;">Use your company-provided credentials to login. Registration is only available for customers.</p>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- Version Footer -->
</div>