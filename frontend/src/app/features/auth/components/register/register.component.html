<div class="register-container">
  <!-- Header -->
  <div class="register-header">
    <mat-icon class="register-icon">person_add</mat-icon>
    <h1>Create Account</h1>
    <p>Join NammaOoru Shop Management System<br>Sign up to get started</p>
  </div>

  <!-- Form -->
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Username</mat-label>
      <mat-icon matPrefix>person</mat-icon>
      <input matInput 
             formControlName="username" 
             placeholder="Enter your username">
      <mat-error *ngIf="registerForm.get('username')?.hasError('required')">
        Username is required
      </mat-error>
      <mat-error *ngIf="registerForm.get('username')?.hasError('minlength')">
        Username must be at least 3 characters
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Email</mat-label>
      <mat-icon matPrefix>email</mat-icon>
      <input matInput 
             type="email"
             formControlName="email" 
             placeholder="Enter your email address">
      <mat-error *ngIf="registerForm.get('email')?.hasError('required')">
        Email is required
      </mat-error>
      <mat-error *ngIf="registerForm.get('email')?.hasError('email')">
        Please enter a valid email address
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Password</mat-label>
      <mat-icon matPrefix>lock</mat-icon>
      <input matInput 
             [type]="hidePassword ? 'password' : 'text'"
             formControlName="password" 
             placeholder="Enter your password">
      <button matSuffix
              mat-icon-button
              type="button"
              (click)="hidePassword = !hidePassword">
        <mat-icon>{{ hidePassword ? 'visibility' : 'visibility_off' }}</mat-icon>
      </button>
      <mat-error *ngIf="registerForm.get('password')?.hasError('required')">
        Password is required
      </mat-error>
      <mat-error *ngIf="registerForm.get('password')?.hasError('minlength')">
        Password must be at least 6 characters
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Role</mat-label>
      <mat-icon matPrefix>badge</mat-icon>
      <mat-select formControlName="role" placeholder="Select your role">
        <mat-option value="USER">User</mat-option>
        <mat-option value="SHOP_OWNER">Shop Owner</mat-option>
      </mat-select>
      <mat-error *ngIf="registerForm.get('role')?.hasError('required')">
        Please select a role
      </mat-error>
    </mat-form-field>

    <button 
      mat-raised-button 
      color="primary" 
      type="submit" 
      class="full-width register-button"
      [disabled]="registerForm.invalid || isLoading">
      <mat-spinner *ngIf="isLoading" diameter="20" style="margin-right: 8px;"></mat-spinner>
      <mat-icon *ngIf="!isLoading" style="margin-right: 8px;">person_add</mat-icon>
      {{ isLoading ? 'Creating Account...' : 'Sign Up' }}
    </button>

    <!-- Auth Links -->
    <div class="auth-links">
      <p>Already have an account? 
        <a routerLink="/auth/login" mat-button color="primary">Sign In</a>
      </p>
    </div>
  </form>

  <!-- Help Section -->
  <div class="help-section">
    <h3>Account Types</h3>
    <div class="help-content">
      <div class="help-item">
        <mat-icon>person</mat-icon>
        <div>
          <strong>User Account</strong>
          <p>Browse and purchase from shops</p>
        </div>
      </div>
      <div class="help-item">
        <mat-icon>store</mat-icon>
        <div>
          <strong>Shop Owner</strong>
          <p>Manage your shop and products</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Version Footer -->
  <div class="version-footer">
    <span class="version-text">{{ versionService.getVersion() }}</span>
    <span class="build-info">Build: {{ versionService.getBuildDate() }}</span>
  </div>
</div>