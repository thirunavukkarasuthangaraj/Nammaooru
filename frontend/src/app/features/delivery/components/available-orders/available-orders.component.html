<div class="available-orders-container">
  <mat-card class="orders-card">
    <mat-card-header>
      <mat-card-title>Available Orders</mat-card-title>
      <mat-card-subtitle>Accept orders to start earning</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <div *ngIf="isLoading" class="loading-container">
        <mat-spinner></mat-spinner>
        <p>Loading available orders...</p>
      </div>

      <div *ngIf="!isLoading">
        <mat-table [dataSource]="dataSource" class="orders-table">
          <ng-container matColumnDef="orderNumber">
            <mat-header-cell *matHeaderCellDef>Order #</mat-header-cell>
            <mat-cell *matCellDef="let order">{{order.orderNumber}}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="customerName">
            <mat-header-cell *matHeaderCellDef>Customer</mat-header-cell>
            <mat-cell *matCellDef="let order">{{order.customerName}}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="shopName">
            <mat-header-cell *matHeaderCellDef>Shop</mat-header-cell>
            <mat-cell *matCellDef="let order">{{order.shopName}}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="deliveryAddress">
            <mat-header-cell *matHeaderCellDef>Delivery To</mat-header-cell>
            <mat-cell *matCellDef="let order">{{order.deliveryAddress}}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="deliveryFee">
            <mat-header-cell *matHeaderCellDef>Earning</mat-header-cell>
            <mat-cell *matCellDef="let order">&#8377;{{order.deliveryFee}}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="actions">
            <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
            <mat-cell *matCellDef="let order">
              <button mat-raised-button color="primary" (click)="acceptOrder(order.id)" style="margin-right: 8px;">
                Accept
              </button>
              <button mat-stroked-button color="warn" (click)="rejectOrder(order.id)">
                Reject
              </button>
            </mat-cell>
          </ng-container>

          <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
        </mat-table>

        <div *ngIf="dataSource.data.length === 0" class="no-orders">
          <mat-icon>assignment</mat-icon>
          <p>No available orders at the moment</p>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</div>
